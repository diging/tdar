/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"main": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push(["./src/main/webapp/js/webpack/tdar-entry-point.js","vendors"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/imports-loader/index.js?this=>window!./src/main/webapp/includes/modernizr-custom-2.6.2.min.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/imports-loader?this=>window!./src/main/webapp/includes/modernizr-custom-2.6.2.min.js ***!
  \***********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*** IMPORTS FROM imports-loader ***/\n(function() {\n\n/* Modernizr 2.6.2 (Custom Build) | MIT & BSD\n * Build: http://modernizr.com/download/#-applicationcache-canvas-canvastext-draganddrop-hashchange-history-audio-video-indexeddb-input-inputtypes-localstorage-postmessage-sessionstorage-websockets-websqldatabase-webworkers-geolocation-inlinesvg-smil-svg-svgclippaths-touch-webgl-shiv-cssclasses-addtest-teststyles-testprop-testallprops-hasevent-prefixes-domprefixes-load\n */\n;window.Modernizr=function(a,b,c){function C(a){j.cssText=a}function D(a,b){return C(n.join(a+\";\")+(b||\"\"))}function E(a,b){return typeof a===b}function F(a,b){return!!~(\"\"+a).indexOf(b)}function G(a,b){for(var d in a){var e=a[d];if(!F(e,\"-\")&&j[e]!==c)return b==\"pfx\"?e:!0}return!1}function H(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:E(f,\"function\")?f.bind(d||b):f}return!1}function I(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+\" \"+p.join(d+\" \")+d).split(\" \");return E(b,\"string\")||E(b,\"undefined\")?G(e,b):(e=(a+\" \"+q.join(d+\" \")+d).split(\" \"),H(e,b,c))}function J(){e.input=function(c){for(var d=0,e=c.length;d<e;d++)u[c[d]]=c[d]in k;return u.list&&(u.list=!!b.createElement(\"datalist\")&&!!a.HTMLDataListElement),u}(\"autocomplete autofocus list placeholder max min multiple pattern required step\".split(\" \")),e.inputtypes=function(a){for(var d=0,e,f,h,i=a.length;d<i;d++)k.setAttribute(\"type\",f=a[d]),e=k.type!==\"text\",e&&(k.value=l,k.style.cssText=\"position:absolute;visibility:hidden;\",/^range$/.test(f)&&k.style.WebkitAppearance!==c?(g.appendChild(k),h=b.defaultView,e=h.getComputedStyle&&h.getComputedStyle(k,null).WebkitAppearance!==\"textfield\"&&k.offsetHeight!==0,g.removeChild(k)):/^(search|tel)$/.test(f)||(/^(url|email)$/.test(f)?e=k.checkValidity&&k.checkValidity()===!1:e=k.value!=l)),t[a[d]]=!!e;return t}(\"search tel url email datetime date month week time datetime-local number range color\".split(\" \"))}var d=\"2.6.2\",e={},f=!0,g=b.documentElement,h=\"modernizr\",i=b.createElement(h),j=i.style,k=b.createElement(\"input\"),l=\":)\",m={}.toString,n=\" -webkit- -moz- -o- -ms- \".split(\" \"),o=\"Webkit Moz O ms\",p=o.split(\" \"),q=o.toLowerCase().split(\" \"),r={svg:\"http://www.w3.org/2000/svg\"},s={},t={},u={},v=[],w=v.slice,x,y=function(a,c,d,e){var f,i,j,k,l=b.createElement(\"div\"),m=b.body,n=m||b.createElement(\"body\");if(parseInt(d,10))while(d--)j=b.createElement(\"div\"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=[\"&#173;\",'<style id=\"s',h,'\">',a,\"</style>\"].join(\"\"),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background=\"\",n.style.overflow=\"hidden\",k=g.style.overflow,g.style.overflow=\"hidden\",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},z=function(){function d(d,e){e=e||b.createElement(a[d]||\"div\"),d=\"on\"+d;var f=d in e;return f||(e.setAttribute||(e=b.createElement(\"div\")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,\"\"),f=E(e[d],\"function\"),E(e[d],\"undefined\")||(e[d]=c),e.removeAttribute(d))),e=null,f}var a={select:\"input\",change:\"input\",submit:\"form\",reset:\"form\",error:\"img\",load:\"img\",abort:\"img\"};return d}(),A={}.hasOwnProperty,B;!E(A,\"undefined\")&&!E(A.call,\"undefined\")?B=function(a,b){return A.call(a,b)}:B=function(a,b){return b in a&&E(a.constructor.prototype[b],\"undefined\")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!=\"function\")throw new TypeError;var d=w.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(w.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(w.call(arguments)))};return e}),s.canvas=function(){var a=b.createElement(\"canvas\");return!!a.getContext&&!!a.getContext(\"2d\")},s.canvastext=function(){return!!e.canvas&&!!E(b.createElement(\"canvas\").getContext(\"2d\").fillText,\"function\")},s.webgl=function(){return!!a.WebGLRenderingContext},s.touch=function(){var c;return\"ontouchstart\"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:y([\"@media (\",n.join(\"touch-enabled),(\"),h,\")\",\"{#modernizr{top:9px;position:absolute}}\"].join(\"\"),function(a){c=a.offsetTop===9}),c},s.geolocation=function(){return\"geolocation\"in navigator},s.postmessage=function(){return!!a.postMessage},s.websqldatabase=function(){return!!a.openDatabase},s.indexedDB=function(){return!!I(\"indexedDB\",a)},s.hashchange=function(){return z(\"hashchange\",a)&&(b.documentMode===c||b.documentMode>7)},s.history=function(){return!!a.history&&!!history.pushState},s.draganddrop=function(){var a=b.createElement(\"div\");return\"draggable\"in a||\"ondragstart\"in a&&\"ondrop\"in a},s.websockets=function(){return\"WebSocket\"in a||\"MozWebSocket\"in a},s.video=function(){var a=b.createElement(\"video\"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs=\"theora\"').replace(/^no$/,\"\"),c.h264=a.canPlayType('video/mp4; codecs=\"avc1.42E01E\"').replace(/^no$/,\"\"),c.webm=a.canPlayType('video/webm; codecs=\"vp8, vorbis\"').replace(/^no$/,\"\")}catch(d){}return c},s.audio=function(){var a=b.createElement(\"audio\"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,\"\"),c.mp3=a.canPlayType(\"audio/mpeg;\").replace(/^no$/,\"\"),c.wav=a.canPlayType('audio/wav; codecs=\"1\"').replace(/^no$/,\"\"),c.m4a=(a.canPlayType(\"audio/x-m4a;\")||a.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\")}catch(d){}return c},s.localstorage=function(){try{return localStorage.setItem(h,h),localStorage.removeItem(h),!0}catch(a){return!1}},s.sessionstorage=function(){try{return sessionStorage.setItem(h,h),sessionStorage.removeItem(h),!0}catch(a){return!1}},s.webworkers=function(){return!!a.Worker},s.applicationcache=function(){return!!a.applicationCache},s.svg=function(){return!!b.createElementNS&&!!b.createElementNS(r.svg,\"svg\").createSVGRect},s.inlinesvg=function(){var a=b.createElement(\"div\");return a.innerHTML=\"<svg/>\",(a.firstChild&&a.firstChild.namespaceURI)==r.svg},s.smil=function(){return!!b.createElementNS&&/SVGAnimate/.test(m.call(b.createElementNS(r.svg,\"animate\")))},s.svgclippaths=function(){return!!b.createElementNS&&/SVGClipPath/.test(m.call(b.createElementNS(r.svg,\"clipPath\")))};for(var K in s)B(s,K)&&(x=K.toLowerCase(),e[x]=s[K](),v.push((e[x]?\"\":\"no-\")+x));return e.input||J(),e.addTest=function(a,b){if(typeof a==\"object\")for(var d in a)B(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b==\"function\"?b():b,typeof f!=\"undefined\"&&f&&(g.className+=\" \"+(b?\"\":\"no-\")+a),e[a]=b}return e},C(\"\"),i=k=null,function(a,b){function k(a,b){var c=a.createElement(\"p\"),d=a.getElementsByTagName(\"head\")[0]||a.documentElement;return c.innerHTML=\"x<style>\"+b+\"</style>\",d.insertBefore(c.lastChild,d.firstChild)}function l(){var a=r.elements;return typeof a==\"string\"?a.split(\" \"):a}function m(a){var b=i[a[g]];return b||(b={},h++,a[g]=h,i[h]=b),b}function n(a,c,f){c||(c=b);if(j)return c.createElement(a);f||(f=m(c));var g;return f.cache[a]?g=f.cache[a].cloneNode():e.test(a)?g=(f.cache[a]=f.createElem(a)).cloneNode():g=f.createElem(a),g.canHaveChildren&&!d.test(a)?f.frag.appendChild(g):g}function o(a,c){a||(a=b);if(j)return a.createDocumentFragment();c=c||m(a);var d=c.frag.cloneNode(),e=0,f=l(),g=f.length;for(;e<g;e++)d.createElement(f[e]);return d}function p(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return r.shivMethods?n(c,a,b):b.createElem(c)},a.createDocumentFragment=Function(\"h,f\",\"return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&(\"+l().join().replace(/\\w+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c(\"'+a+'\")'})+\");return n}\")(r,b.frag)}function q(a){a||(a=b);var c=m(a);return r.shivCSS&&!f&&!c.hasCSS&&(c.hasCSS=!!k(a,\"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}\")),j||p(a,c),a}var c=a.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,e=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f,g=\"_html5shiv\",h=0,i={},j;(function(){try{var a=b.createElement(\"a\");a.innerHTML=\"<xyz></xyz>\",f=\"hidden\"in a,j=a.childNodes.length==1||function(){b.createElement(\"a\");var a=b.createDocumentFragment();return typeof a.cloneNode==\"undefined\"||typeof a.createDocumentFragment==\"undefined\"||typeof a.createElement==\"undefined\"}()}catch(c){f=!0,j=!0}})();var r={elements:c.elements||\"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video\",shivCSS:c.shivCSS!==!1,supportsUnknownElements:j,shivMethods:c.shivMethods!==!1,type:\"default\",shivDocument:q,createElement:n,createDocumentFragment:o};a.html5=r,q(b)}(this,b),e._version=d,e._prefixes=n,e._domPrefixes=q,e._cssomPrefixes=p,e.hasEvent=z,e.testProp=function(a){return G([a])},e.testAllProps=I,e.testStyles=y,g.className=g.className.replace(/(^|\\s)no-js(\\s|$)/,\"$1$2\")+(f?\" js \"+v.join(\" \"):\"\"),e}(this,this.document),function(a,b,c){function d(a){return\"[object Function]\"==o.call(a)}function e(a){return\"string\"==typeof a}function f(){}function g(a){return!a||\"loaded\"==a||\"complete\"==a||\"uninitialized\"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){(\"c\"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){\"img\"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),\"object\"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height=\"0\",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),\"img\"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||\"j\",e(a)?i(\"c\"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName(\"script\")[0],o={}.toString,p=[],q=0,r=\"MozAppearance\"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&\"[object Opera]\"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?\"object\":l?\"script\":\"img\",v=l?\"script\":u,w=Array.isArray||function(a){return\"[object Array]\"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split(\"!\"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split(\"=\"),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(\".\").pop().split(\"?\").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split(\"/\").pop().split(\"?\")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&\"css\"==i.url.split(\".\").pop().split(\"?\").shift()?\"c\":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState=\"loading\",b.addEventListener(\"DOMContentLoaded\",A=function(){b.removeEventListener(\"DOMContentLoaded\",A,0),b.readyState=\"complete\"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement(\"script\"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement(\"link\"),j,c=i?h:c||f;e.href=a,e.rel=\"stylesheet\",e.type=\"text/css\";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};\n}.call(window));\n\n//# sourceURL=webpack:///./src/main/webapp/includes/modernizr-custom-2.6.2.min.js?./node_modules/imports-loader?this=%3Ewindow");

/***/ }),

/***/ "./src/main/webapp/components/bootstrap-datepicker-eyecon/css/datepicker.css":
/*!***********************************************************************************!*\
  !*** ./src/main/webapp/components/bootstrap-datepicker-eyecon/css/datepicker.css ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/main/webapp/components/bootstrap-datepicker-eyecon/css/datepicker.css?");

/***/ }),

/***/ "./src/main/webapp/components/bootstrap-datepicker-eyecon/js/bootstrap-datepicker.js":
/*!*******************************************************************************************!*\
  !*** ./src/main/webapp/components/bootstrap-datepicker-eyecon/js/bootstrap-datepicker.js ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(__webpack_provided_window_dot_jQuery) {/* =========================================================\n * bootstrap-datepicker.js \n * http://www.eyecon.ro/bootstrap-datepicker\n * =========================================================\n * Copyright 2012 Stefan Petre\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================= */\n \n!function( $ ) {\n\t\n\t// Picker object\n\t\n\tvar Datepicker = function(element, options){\n\t\tthis.element = $(element);\n\t\tthis.format = DPGlobal.parseFormat(options.format||this.element.data('date-format')||'mm/dd/yyyy');\n\t\tthis.picker = $(DPGlobal.template)\n\t\t\t\t\t\t\t.appendTo('body')\n\t\t\t\t\t\t\t.on({\n\t\t\t\t\t\t\t\tclick: $.proxy(this.click, this)//,\n\t\t\t\t\t\t\t\t//mousedown: $.proxy(this.mousedown, this)\n\t\t\t\t\t\t\t});\n\t\tthis.isInput = this.element.is('input');\n\t\tthis.component = this.element.is('.date') ? this.element.find('.add-on') : false;\n\t\t\n\t\tif (this.isInput) {\n\t\t\tthis.element.on({\n\t\t\t\tfocus: $.proxy(this.show, this),\n\t\t\t\t//blur: $.proxy(this.hide, this),\n\t\t\t\tkeyup: $.proxy(this.update, this)\n\t\t\t});\n\t\t} else {\n\t\t\tif (this.component){\n\t\t\t\tthis.component.on('click', $.proxy(this.show, this));\n\t\t\t} else {\n\t\t\t\tthis.element.on('click', $.proxy(this.show, this));\n\t\t\t}\n\t\t}\n\t\n\t\tthis.minViewMode = options.minViewMode||this.element.data('date-minviewmode')||0;\n\t\tif (typeof this.minViewMode === 'string') {\n\t\t\tswitch (this.minViewMode) {\n\t\t\t\tcase 'months':\n\t\t\t\t\tthis.minViewMode = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'years':\n\t\t\t\t\tthis.minViewMode = 2;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.minViewMode = 0;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tthis.viewMode = options.viewMode||this.element.data('date-viewmode')||0;\n\t\tif (typeof this.viewMode === 'string') {\n\t\t\tswitch (this.viewMode) {\n\t\t\t\tcase 'months':\n\t\t\t\t\tthis.viewMode = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'years':\n\t\t\t\t\tthis.viewMode = 2;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.viewMode = 0;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tthis.startViewMode = this.viewMode;\n\t\tthis.weekStart = options.weekStart||this.element.data('date-weekstart')||0;\n\t\tthis.weekEnd = this.weekStart === 0 ? 6 : this.weekStart - 1;\n\t\tthis.onRender = options.onRender;\n\t\tthis.fillDow();\n\t\tthis.fillMonths();\n\t\tthis.update();\n\t\tthis.showMode();\n\t};\n\t\n\tDatepicker.prototype = {\n\t\tconstructor: Datepicker,\n\t\t\n\t\tshow: function(e) {\n\t\t\tthis.picker.show();\n\t\t\tthis.height = this.component ? this.component.outerHeight() : this.element.outerHeight();\n\t\t\tthis.place();\n\t\t\t$(window).on('resize', $.proxy(this.place, this));\n\t\t\tif (e ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\tif (!this.isInput) {\n\t\t\t}\n\t\t\tvar that = this;\n\t\t\t$(document).on('mousedown', function(ev){\n\t\t\t\tif ($(ev.target).closest('.datepicker').length == 0) {\n\t\t\t\t\tthat.hide();\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.element.trigger({\n\t\t\t\ttype: 'show',\n\t\t\t\tdate: this.date\n\t\t\t});\n\t\t},\n\t\t\n\t\thide: function(){\n\t\t\tthis.picker.hide();\n\t\t\t$(window).off('resize', this.place);\n\t\t\tthis.viewMode = this.startViewMode;\n\t\t\tthis.showMode();\n\t\t\tif (!this.isInput) {\n\t\t\t\t$(document).off('mousedown', this.hide);\n\t\t\t}\n\t\t\t//this.set();\n\t\t\tthis.element.trigger({\n\t\t\t\ttype: 'hide',\n\t\t\t\tdate: this.date\n\t\t\t});\n\t\t},\n\t\t\n\t\tset: function() {\n\t\t\tvar formated = DPGlobal.formatDate(this.date, this.format);\n\t\t\tif (!this.isInput) {\n\t\t\t\tif (this.component){\n\t\t\t\t\tthis.element.find('input').prop('value', formated);\n\t\t\t\t}\n\t\t\t\tthis.element.data('date', formated);\n\t\t\t} else {\n\t\t\t\tthis.element.prop('value', formated);\n\t\t\t}\n\t\t},\n\t\t\n\t\tsetValue: function(newDate) {\n\t\t\tif (typeof newDate === 'string') {\n\t\t\t\tthis.date = DPGlobal.parseDate(newDate, this.format);\n\t\t\t} else {\n\t\t\t\tthis.date = new Date(newDate);\n\t\t\t}\n\t\t\tthis.set();\n\t\t\tthis.viewDate = new Date(this.date.getFullYear(), this.date.getMonth(), 1, 0, 0, 0, 0);\n\t\t\tthis.fill();\n\t\t},\n\t\t\n\t\tplace: function(){\n\t\t\tvar offset = this.component ? this.component.offset() : this.element.offset();\n\t\t\tthis.picker.css({\n\t\t\t\ttop: offset.top + this.height,\n\t\t\t\tleft: offset.left\n\t\t\t});\n\t\t},\n\t\t\n\t\tupdate: function(newDate){\n\t\t\tthis.date = DPGlobal.parseDate(\n\t\t\t\ttypeof newDate === 'string' ? newDate : (this.isInput ? this.element.prop('value') : this.element.data('date')),\n\t\t\t\tthis.format\n\t\t\t);\n\t\t\tthis.viewDate = new Date(this.date.getFullYear(), this.date.getMonth(), 1, 0, 0, 0, 0);\n\t\t\tthis.fill();\n\t\t},\n\t\t\n\t\tfillDow: function(){\n\t\t\tvar dowCnt = this.weekStart;\n\t\t\tvar html = '<tr>';\n\t\t\twhile (dowCnt < this.weekStart + 7) {\n\t\t\t\thtml += '<th class=\"dow\">'+DPGlobal.dates.daysMin[(dowCnt++)%7]+'</th>';\n\t\t\t}\n\t\t\thtml += '</tr>';\n\t\t\tthis.picker.find('.datepicker-days thead').append(html);\n\t\t},\n\t\t\n\t\tfillMonths: function(){\n\t\t\tvar html = '';\n\t\t\tvar i = 0\n\t\t\twhile (i < 12) {\n\t\t\t\thtml += '<span class=\"month\">'+DPGlobal.dates.monthsShort[i++]+'</span>';\n\t\t\t}\n\t\t\tthis.picker.find('.datepicker-months td').append(html);\n\t\t},\n\t\t\n\t\tfill: function() {\n\t\t\tvar d = new Date(this.viewDate),\n\t\t\t\tyear = d.getFullYear(),\n\t\t\t\tmonth = d.getMonth(),\n\t\t\t\tcurrentDate = this.date.valueOf();\n\t\t\tthis.picker.find('.datepicker-days th:eq(1)')\n\t\t\t\t\t\t.text(DPGlobal.dates.months[month]+' '+year);\n\t\t\tvar prevMonth = new Date(year, month-1, 28,0,0,0,0),\n\t\t\t\tday = DPGlobal.getDaysInMonth(prevMonth.getFullYear(), prevMonth.getMonth());\n\t\t\tprevMonth.setDate(day);\n\t\t\tprevMonth.setDate(day - (prevMonth.getDay() - this.weekStart + 7)%7);\n\t\t\tvar nextMonth = new Date(prevMonth);\n\t\t\tnextMonth.setDate(nextMonth.getDate() + 42);\n\t\t\tnextMonth = nextMonth.valueOf();\n\t\t\tvar html = [];\n\t\t\tvar clsName,\n\t\t\t\tprevY,\n\t\t\t\tprevM;\n\t\t\twhile(prevMonth.valueOf() < nextMonth) {\n\t\t\t\tif (prevMonth.getDay() === this.weekStart) {\n\t\t\t\t\thtml.push('<tr>');\n\t\t\t\t}\n\t\t\t\tclsName = this.onRender(prevMonth);\n\t\t\t\tprevY = prevMonth.getFullYear();\n\t\t\t\tprevM = prevMonth.getMonth();\n\t\t\t\tif ((prevM < month &&  prevY === year) ||  prevY < year) {\n\t\t\t\t\tclsName += ' old';\n\t\t\t\t} else if ((prevM > month && prevY === year) || prevY > year) {\n\t\t\t\t\tclsName += ' new';\n\t\t\t\t}\n\t\t\t\tif (prevMonth.valueOf() === currentDate) {\n\t\t\t\t\tclsName += ' active';\n\t\t\t\t}\n\t\t\t\thtml.push('<td class=\"day '+clsName+'\">'+prevMonth.getDate() + '</td>');\n\t\t\t\tif (prevMonth.getDay() === this.weekEnd) {\n\t\t\t\t\thtml.push('</tr>');\n\t\t\t\t}\n\t\t\t\tprevMonth.setDate(prevMonth.getDate()+1);\n\t\t\t}\n\t\t\tthis.picker.find('.datepicker-days tbody').empty().append(html.join(''));\n\t\t\tvar currentYear = this.date.getFullYear();\n\t\t\t\n\t\t\tvar months = this.picker.find('.datepicker-months')\n\t\t\t\t\t\t.find('th:eq(1)')\n\t\t\t\t\t\t\t.text(year)\n\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t.find('span').removeClass('active');\n\t\t\tif (currentYear === year) {\n\t\t\t\tmonths.eq(this.date.getMonth()).addClass('active');\n\t\t\t}\n\t\t\t\n\t\t\thtml = '';\n\t\t\tyear = parseInt(year/10, 10) * 10;\n\t\t\tvar yearCont = this.picker.find('.datepicker-years')\n\t\t\t\t\t\t\t\t.find('th:eq(1)')\n\t\t\t\t\t\t\t\t\t.text(year + '-' + (year + 9))\n\t\t\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t\t\t.find('td');\n\t\t\tyear -= 1;\n\t\t\tfor (var i = -1; i < 11; i++) {\n\t\t\t\thtml += '<span class=\"year'+(i === -1 || i === 10 ? ' old' : '')+(currentYear === year ? ' active' : '')+'\">'+year+'</span>';\n\t\t\t\tyear += 1;\n\t\t\t}\n\t\t\tyearCont.html(html);\n\t\t},\n\t\t\n\t\tclick: function(e) {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\tvar target = $(e.target).closest('span, td, th');\n\t\t\tif (target.length === 1) {\n\t\t\t\tswitch(target[0].nodeName.toLowerCase()) {\n\t\t\t\t\tcase 'th':\n\t\t\t\t\t\tswitch(target[0].className) {\n\t\t\t\t\t\t\tcase 'switch':\n\t\t\t\t\t\t\t\tthis.showMode(1);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'prev':\n\t\t\t\t\t\t\tcase 'next':\n\t\t\t\t\t\t\t\tthis.viewDate['set'+DPGlobal.modes[this.viewMode].navFnc].call(\n\t\t\t\t\t\t\t\t\tthis.viewDate,\n\t\t\t\t\t\t\t\t\tthis.viewDate['get'+DPGlobal.modes[this.viewMode].navFnc].call(this.viewDate) + \n\t\t\t\t\t\t\t\t\tDPGlobal.modes[this.viewMode].navStep * (target[0].className === 'prev' ? -1 : 1)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tthis.fill();\n\t\t\t\t\t\t\t\tthis.set();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'span':\n\t\t\t\t\t\tif (target.is('.month')) {\n\t\t\t\t\t\t\tvar month = target.parent().find('span').index(target);\n\t\t\t\t\t\t\tthis.viewDate.setMonth(month);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar year = parseInt(target.text(), 10)||0;\n\t\t\t\t\t\t\tthis.viewDate.setFullYear(year);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.viewMode !== 0) {\n\t\t\t\t\t\t\tthis.date = new Date(this.viewDate);\n\t\t\t\t\t\t\tthis.element.trigger({\n\t\t\t\t\t\t\t\ttype: 'changeDate',\n\t\t\t\t\t\t\t\tdate: this.date,\n\t\t\t\t\t\t\t\tviewMode: DPGlobal.modes[this.viewMode].clsName\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.showMode(-1);\n\t\t\t\t\t\tthis.fill();\n\t\t\t\t\t\tthis.set();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'td':\n\t\t\t\t\t\tif (target.is('.day') && !target.is('.disabled')){\n\t\t\t\t\t\t\tvar day = parseInt(target.text(), 10)||1;\n\t\t\t\t\t\t\tvar month = this.viewDate.getMonth();\n\t\t\t\t\t\t\tif (target.is('.old')) {\n\t\t\t\t\t\t\t\tmonth -= 1;\n\t\t\t\t\t\t\t} else if (target.is('.new')) {\n\t\t\t\t\t\t\t\tmonth += 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar year = this.viewDate.getFullYear();\n\t\t\t\t\t\t\tthis.date = new Date(year, month, day,0,0,0,0);\n\t\t\t\t\t\t\tthis.viewDate = new Date(year, month, Math.min(28, day),0,0,0,0);\n\t\t\t\t\t\t\tthis.fill();\n\t\t\t\t\t\t\tthis.set();\n\t\t\t\t\t\t\tthis.element.trigger({\n\t\t\t\t\t\t\t\ttype: 'changeDate',\n\t\t\t\t\t\t\t\tdate: this.date,\n\t\t\t\t\t\t\t\tviewMode: DPGlobal.modes[this.viewMode].clsName\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\n\t\tmousedown: function(e){\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t},\n\t\t\n\t\tshowMode: function(dir) {\n\t\t\tif (dir) {\n\t\t\t\tthis.viewMode = Math.max(this.minViewMode, Math.min(2, this.viewMode + dir));\n\t\t\t}\n\t\t\tthis.picker.find('>div').hide().filter('.datepicker-'+DPGlobal.modes[this.viewMode].clsName).show();\n\t\t}\n\t};\n\t\n\t$.fn.datepicker = function ( option, val ) {\n\t\treturn this.each(function () {\n\t\t\tvar $this = $(this),\n\t\t\t\tdata = $this.data('datepicker'),\n\t\t\t\toptions = typeof option === 'object' && option;\n\t\t\tif (!data) {\n\t\t\t\t$this.data('datepicker', (data = new Datepicker(this, $.extend({}, $.fn.datepicker.defaults,options))));\n\t\t\t}\n\t\t\tif (typeof option === 'string') data[option](val);\n\t\t});\n\t};\n\n\t$.fn.datepicker.defaults = {\n\t\tonRender: function(date) {\n\t\t\treturn '';\n\t\t}\n\t};\n\t$.fn.datepicker.Constructor = Datepicker;\n\t\n\tvar DPGlobal = {\n\t\tmodes: [\n\t\t\t{\n\t\t\t\tclsName: 'days',\n\t\t\t\tnavFnc: 'Month',\n\t\t\t\tnavStep: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tclsName: 'months',\n\t\t\t\tnavFnc: 'FullYear',\n\t\t\t\tnavStep: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tclsName: 'years',\n\t\t\t\tnavFnc: 'FullYear',\n\t\t\t\tnavStep: 10\n\t\t}],\n\t\tdates:{\n\t\t\tdays: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"],\n\t\t\tdaysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n\t\t\tdaysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\"],\n\t\t\tmonths: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n\t\t\tmonthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n\t\t},\n\t\tisLeapYear: function (year) {\n\t\t\treturn (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0))\n\t\t},\n\t\tgetDaysInMonth: function (year, month) {\n\t\t\treturn [31, (DPGlobal.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month]\n\t\t},\n\t\tparseFormat: function(format){\n\t\t\tvar separator = format.match(/[.\\/\\-\\s].*?/),\n\t\t\t\tparts = format.split(/\\W+/);\n\t\t\tif (!separator || !parts || parts.length === 0){\n\t\t\t\tthrow new Error(\"Invalid date format.\");\n\t\t\t}\n\t\t\treturn {separator: separator, parts: parts};\n\t\t},\n\t\tparseDate: function(date, format) {\n\t\t\tvar parts = date.split(format.separator),\n\t\t\t\tdate = new Date(),\n\t\t\t\tval;\n\t\t\tdate.setHours(0);\n\t\t\tdate.setMinutes(0);\n\t\t\tdate.setSeconds(0);\n\t\t\tdate.setMilliseconds(0);\n\t\t\tif (parts.length === format.parts.length) {\n\t\t\t\tvar year = date.getFullYear(), day = date.getDate(), month = date.getMonth();\n\t\t\t\tfor (var i=0, cnt = format.parts.length; i < cnt; i++) {\n\t\t\t\t\tval = parseInt(parts[i], 10)||1;\n\t\t\t\t\tswitch(format.parts[i]) {\n\t\t\t\t\t\tcase 'dd':\n\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\tday = val;\n\t\t\t\t\t\t\tdate.setDate(val);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mm':\n\t\t\t\t\t\tcase 'm':\n\t\t\t\t\t\t\tmonth = val - 1;\n\t\t\t\t\t\t\tdate.setMonth(val - 1);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'yy':\n\t\t\t\t\t\t\tyear = 2000 + val;\n\t\t\t\t\t\t\tdate.setFullYear(2000 + val);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'yyyy':\n\t\t\t\t\t\t\tyear = val;\n\t\t\t\t\t\t\tdate.setFullYear(val);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdate = new Date(year, month, day, 0 ,0 ,0);\n\t\t\t}\n\t\t\treturn date;\n\t\t},\n\t\tformatDate: function(date, format){\n\t\t\tvar val = {\n\t\t\t\td: date.getDate(),\n\t\t\t\tm: date.getMonth() + 1,\n\t\t\t\tyy: date.getFullYear().toString().substring(2),\n\t\t\t\tyyyy: date.getFullYear()\n\t\t\t};\n\t\t\tval.dd = (val.d < 10 ? '0' : '') + val.d;\n\t\t\tval.mm = (val.m < 10 ? '0' : '') + val.m;\n\t\t\tvar date = [];\n\t\t\tfor (var i=0, cnt = format.parts.length; i < cnt; i++) {\n\t\t\t\tdate.push(val[format.parts[i]]);\n\t\t\t}\n\t\t\treturn date.join(format.separator);\n\t\t},\n\t\theadTemplate: '<thead>'+\n\t\t\t\t\t\t\t'<tr>'+\n\t\t\t\t\t\t\t\t'<th class=\"prev\">&lsaquo;</th>'+\n\t\t\t\t\t\t\t\t'<th colspan=\"5\" class=\"switch\"></th>'+\n\t\t\t\t\t\t\t\t'<th class=\"next\">&rsaquo;</th>'+\n\t\t\t\t\t\t\t'</tr>'+\n\t\t\t\t\t\t'</thead>',\n\t\tcontTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>'\n\t};\n\tDPGlobal.template = '<div class=\"datepicker dropdown-menu\">'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-days\">'+\n\t\t\t\t\t\t\t\t'<table class=\" table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\t'<tbody></tbody>'+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-months\">'+\n\t\t\t\t\t\t\t\t'<table class=\"table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.contTemplate+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-years\">'+\n\t\t\t\t\t\t\t\t'<table class=\"table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.contTemplate+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t'</div>';\n\n}( __webpack_provided_window_dot_jQuery );\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/components/bootstrap-datepicker-eyecon/js/bootstrap-datepicker.js?");

/***/ }),

/***/ "./src/main/webapp/css/famfamfam.css":
/*!*******************************************!*\
  !*** ./src/main/webapp/css/famfamfam.css ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/main/webapp/css/famfamfam.css?");

/***/ }),

/***/ "./src/main/webapp/css/tdar-bootstrap.css":
/*!************************************************!*\
  !*** ./src/main/webapp/css/tdar-bootstrap.css ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/main/webapp/css/tdar-bootstrap.css?");

/***/ }),

/***/ "./src/main/webapp/css/tdar-integration.css":
/*!**************************************************!*\
  !*** ./src/main/webapp/css/tdar-integration.css ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/main/webapp/css/tdar-integration.css?");

/***/ }),

/***/ "./src/main/webapp/css/tdar-svg.css":
/*!******************************************!*\
  !*** ./src/main/webapp/css/tdar-svg.css ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/main/webapp/css/tdar-svg.css?");

/***/ }),

/***/ "./src/main/webapp/css/tdar.c3graph.css":
/*!**********************************************!*\
  !*** ./src/main/webapp/css/tdar.c3graph.css ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/main/webapp/css/tdar.c3graph.css?");

/***/ }),

/***/ "./src/main/webapp/css/tdar.d3tree.css":
/*!*********************************************!*\
  !*** ./src/main/webapp/css/tdar.d3tree.css ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/main/webapp/css/tdar.d3tree.css?");

/***/ }),

/***/ "./src/main/webapp/css/tdar.dashboard.css":
/*!************************************************!*\
  !*** ./src/main/webapp/css/tdar.dashboard.css ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/main/webapp/css/tdar.dashboard.css?");

/***/ }),

/***/ "./src/main/webapp/css/tdar.datatablemapping.css":
/*!*******************************************************!*\
  !*** ./src/main/webapp/css/tdar.datatablemapping.css ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/main/webapp/css/tdar.datatablemapping.css?");

/***/ }),

/***/ "./src/main/webapp/css/tdar.datatables.css":
/*!*************************************************!*\
  !*** ./src/main/webapp/css/tdar.datatables.css ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/main/webapp/css/tdar.datatables.css?");

/***/ }),

/***/ "./src/main/webapp/css/tdar.homepage.css":
/*!***********************************************!*\
  !*** ./src/main/webapp/css/tdar.homepage.css ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/main/webapp/css/tdar.homepage.css?");

/***/ }),

/***/ "./src/main/webapp/css/tdar.invoice.css":
/*!**********************************************!*\
  !*** ./src/main/webapp/css/tdar.invoice.css ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/main/webapp/css/tdar.invoice.css?");

/***/ }),

/***/ "./src/main/webapp/css/tdar.leaflet.css":
/*!**********************************************!*\
  !*** ./src/main/webapp/css/tdar.leaflet.css ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/main/webapp/css/tdar.leaflet.css?");

/***/ }),

/***/ "./src/main/webapp/css/tdar.searchresults.css":
/*!****************************************************!*\
  !*** ./src/main/webapp/css/tdar.searchresults.css ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/main/webapp/css/tdar.searchresults.css?");

/***/ }),

/***/ "./src/main/webapp/css/tdar.sprites.css":
/*!**********************************************!*\
  !*** ./src/main/webapp/css/tdar.sprites.css ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/main/webapp/css/tdar.sprites.css?");

/***/ }),

/***/ "./src/main/webapp/css/tdar.worldmap.css":
/*!***********************************************!*\
  !*** ./src/main/webapp/css/tdar.worldmap.css ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/main/webapp/css/tdar.worldmap.css?");

/***/ }),

/***/ "./src/main/webapp/includes/bindWithDelay.js":
/*!***************************************************!*\
  !*** ./src/main/webapp/includes/bindWithDelay.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(jQuery) {/* \nbindWithDelay jQuery plugin\nAuthor: Brian Grinstead\nMIT license: http://www.opensource.org/licenses/mit-license.php\n\nhttp://github.com/bgrins/bindWithDelay\nhttp://briangrinstead.com/files/bindWithDelay\n\nUsage: \n\tSee http://api.jquery.com/bind/\n\t.bindWithDelay( eventType, [ eventData ], handler(eventObject), timeout, throttle )\n\nExamples:\n\t$(\"#foo\").bindWithDelay(\"click\", function(e) { }, 100);\n\t$(window).bindWithDelay(\"resize\", { optional: \"eventData\" }, callback, 1000);\n\t$(window).bindWithDelay(\"resize\", callback, 1000, true);\n*/\n\n(function($) {\n$.fn.bindWithDelay = function( type, data, fn, timeout, throttle ) {\n\tvar wait = null;\n\tvar that = this;\n\t\n\tif ( $.isFunction( data ) ) {\n\t\tthrottle = timeout;\n\t\ttimeout = fn;\n\t\tfn = data;\n\t\tdata = undefined;\n\t}\n\t\n\tfunction cb() {\n\t\tvar e = $.extend(true, { }, arguments[0]);\n\t\tvar throttler = function() {\n\t\t\twait = null;\n\t\t\tfn.apply(that, [e]);\n\t\t};\n\t\t\n\t\tif (!throttle) { clearTimeout(wait); }\n\t\tif (!throttle || !wait) { wait = setTimeout(throttler, timeout); }\n\t}\n\t\n\treturn this.bind(type, data, cb);\n}\n})(jQuery);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/includes/bindWithDelay.js?");

/***/ }),

/***/ "./src/main/webapp/includes/bootstrap-2.32/js/bootstrap.js":
/*!*****************************************************************!*\
  !*** ./src/main/webapp/includes/bootstrap-2.32/js/bootstrap.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(__webpack_provided_window_dot_jQuery) {/* ===================================================\n * bootstrap-transition.js v2.3.2\n * http://getbootstrap.com/2.3.2/javascript.html#transitions\n * ===================================================\n * Copyright 2013 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================== */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n  /* CSS TRANSITION SUPPORT (http://www.modernizr.com/)\n   * ======================================================= */\n\n  $(function () {\n\n    $.support.transition = (function () {\n\n      var transitionEnd = (function () {\n\n        var el = document.createElement('bootstrap')\n          , transEndEventNames = {\n               'WebkitTransition' : 'webkitTransitionEnd'\n            ,  'MozTransition'    : 'transitionend'\n            ,  'OTransition'      : 'oTransitionEnd otransitionend'\n            ,  'transition'       : 'transitionend'\n            }\n          , name\n\n        for (name in transEndEventNames){\n          if (el.style[name] !== undefined) {\n            return transEndEventNames[name]\n          }\n        }\n\n      }())\n\n      return transitionEnd && {\n        end: transitionEnd\n      }\n\n    })()\n\n  })\n\n}(__webpack_provided_window_dot_jQuery);/* ==========================================================\n * bootstrap-alert.js v2.3.2\n * http://getbootstrap.com/2.3.2/javascript.html#alerts\n * ==========================================================\n * Copyright 2013 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================== */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* ALERT CLASS DEFINITION\n  * ====================== */\n\n  var dismiss = '[data-dismiss=\"alert\"]'\n    , Alert = function (el) {\n        $(el).on('click', dismiss, this.close)\n      }\n\n  Alert.prototype.close = function (e) {\n    var $this = $(this)\n      , selector = $this.attr('data-target')\n      , $parent\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') //strip for ie7\n    }\n\n    $parent = $(selector)\n\n    e && e.preventDefault()\n\n    $parent.length || ($parent = $this.hasClass('alert') ? $this : $this.parent())\n\n    $parent.trigger(e = $.Event('close'))\n\n    if (e.isDefaultPrevented()) return\n\n    $parent.removeClass('in')\n\n    function removeElement() {\n      $parent\n        .trigger('closed')\n        .remove()\n    }\n\n    $.support.transition && $parent.hasClass('fade') ?\n      $parent.on($.support.transition.end, removeElement) :\n      removeElement()\n  }\n\n\n /* ALERT PLUGIN DEFINITION\n  * ======================= */\n\n  var old = $.fn.alert\n\n  $.fn.alert = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('alert')\n      if (!data) $this.data('alert', (data = new Alert(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  $.fn.alert.Constructor = Alert\n\n\n /* ALERT NO CONFLICT\n  * ================= */\n\n  $.fn.alert.noConflict = function () {\n    $.fn.alert = old\n    return this\n  }\n\n\n /* ALERT DATA-API\n  * ============== */\n\n  $(document).on('click.alert.data-api', dismiss, Alert.prototype.close)\n\n}(__webpack_provided_window_dot_jQuery);/* ============================================================\n * bootstrap-button.js v2.3.2\n * http://getbootstrap.com/2.3.2/javascript.html#buttons\n * ============================================================\n * Copyright 2013 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ============================================================ */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* BUTTON PUBLIC CLASS DEFINITION\n  * ============================== */\n\n  var Button = function (element, options) {\n    this.$element = $(element)\n    this.options = $.extend({}, $.fn.button.defaults, options)\n  }\n\n  Button.prototype.setState = function (state) {\n    var d = 'disabled'\n      , $el = this.$element\n      , data = $el.data()\n      , val = $el.is('input') ? 'val' : 'html'\n\n    state = state + 'Text'\n    data.resetText || $el.data('resetText', $el[val]())\n\n    $el[val](data[state] || this.options[state])\n\n    // push to event loop to allow forms to submit\n    setTimeout(function () {\n      state == 'loadingText' ?\n        $el.addClass(d).attr(d, d) :\n        $el.removeClass(d).removeAttr(d)\n    }, 0)\n  }\n\n  Button.prototype.toggle = function () {\n    var $parent = this.$element.closest('[data-toggle=\"buttons-radio\"]')\n\n    $parent && $parent\n      .find('.active')\n      .removeClass('active')\n\n    this.$element.toggleClass('active')\n  }\n\n\n /* BUTTON PLUGIN DEFINITION\n  * ======================== */\n\n  var old = $.fn.button\n\n  $.fn.button = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('button')\n        , options = typeof option == 'object' && option\n      if (!data) $this.data('button', (data = new Button(this, options)))\n      if (option == 'toggle') data.toggle()\n      else if (option) data.setState(option)\n    })\n  }\n\n  $.fn.button.defaults = {\n    loadingText: 'loading...'\n  }\n\n  $.fn.button.Constructor = Button\n\n\n /* BUTTON NO CONFLICT\n  * ================== */\n\n  $.fn.button.noConflict = function () {\n    $.fn.button = old\n    return this\n  }\n\n\n /* BUTTON DATA-API\n  * =============== */\n\n  $(document).on('click.button.data-api', '[data-toggle^=button]', function (e) {\n    var $btn = $(e.target)\n    if (!$btn.hasClass('btn')) $btn = $btn.closest('.btn')\n    $btn.button('toggle')\n  })\n\n}(__webpack_provided_window_dot_jQuery);/* ==========================================================\n * bootstrap-carousel.js v2.3.2\n * http://getbootstrap.com/2.3.2/javascript.html#carousel\n * ==========================================================\n * Copyright 2013 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================== */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* CAROUSEL CLASS DEFINITION\n  * ========================= */\n\n  var Carousel = function (element, options) {\n    this.$element = $(element)\n    this.$indicators = this.$element.find('.carousel-indicators')\n    this.options = options\n    this.options.pause == 'hover' && this.$element\n      .on('mouseenter', $.proxy(this.pause, this))\n      .on('mouseleave', $.proxy(this.cycle, this))\n  }\n\n  Carousel.prototype = {\n\n    cycle: function (e) {\n      if (!e) this.paused = false\n      if (this.interval) clearInterval(this.interval);\n      this.options.interval\n        && !this.paused\n        && (this.interval = setInterval($.proxy(this.next, this), this.options.interval))\n      return this\n    }\n\n  , getActiveIndex: function () {\n      this.$active = this.$element.find('.item.active')\n      this.$items = this.$active.parent().children()\n      return this.$items.index(this.$active)\n    }\n\n  , to: function (pos) {\n      var activeIndex = this.getActiveIndex()\n        , that = this\n\n      if (pos > (this.$items.length - 1) || pos < 0) return\n\n      if (this.sliding) {\n        return this.$element.one('slid', function () {\n          that.to(pos)\n        })\n      }\n\n      if (activeIndex == pos) {\n        return this.pause().cycle()\n      }\n\n      return this.slide(pos > activeIndex ? 'next' : 'prev', $(this.$items[pos]))\n    }\n\n  , pause: function (e) {\n      if (!e) this.paused = true\n      if (this.$element.find('.next, .prev').length && $.support.transition.end) {\n        this.$element.trigger($.support.transition.end)\n        this.cycle(true)\n      }\n      clearInterval(this.interval)\n      this.interval = null\n      return this\n    }\n\n  , next: function () {\n      if (this.sliding) return\n      return this.slide('next')\n    }\n\n  , prev: function () {\n      if (this.sliding) return\n      return this.slide('prev')\n    }\n\n  , slide: function (type, next) {\n      var $active = this.$element.find('.item.active')\n        , $next = next || $active[type]()\n        , isCycling = this.interval\n        , direction = type == 'next' ? 'left' : 'right'\n        , fallback  = type == 'next' ? 'first' : 'last'\n        , that = this\n        , e\n\n      this.sliding = true\n\n      isCycling && this.pause()\n\n      $next = $next.length ? $next : this.$element.find('.item')[fallback]()\n\n      e = $.Event('slide', {\n        relatedTarget: $next[0]\n      , direction: direction\n      })\n\n      if ($next.hasClass('active')) return\n\n      if (this.$indicators.length) {\n        this.$indicators.find('.active').removeClass('active')\n        this.$element.one('slid', function () {\n          var $nextIndicator = $(that.$indicators.children()[that.getActiveIndex()])\n          $nextIndicator && $nextIndicator.addClass('active')\n        })\n      }\n\n      if ($.support.transition && this.$element.hasClass('slide')) {\n        this.$element.trigger(e)\n        if (e.isDefaultPrevented()) return\n        $next.addClass(type)\n        $next[0].offsetWidth // force reflow\n        $active.addClass(direction)\n        $next.addClass(direction)\n        this.$element.one($.support.transition.end, function () {\n          $next.removeClass([type, direction].join(' ')).addClass('active')\n          $active.removeClass(['active', direction].join(' '))\n          that.sliding = false\n          setTimeout(function () { that.$element.trigger('slid') }, 0)\n        })\n      } else {\n        this.$element.trigger(e)\n        if (e.isDefaultPrevented()) return\n        $active.removeClass('active')\n        $next.addClass('active')\n        this.sliding = false\n        this.$element.trigger('slid')\n      }\n\n      isCycling && this.cycle()\n\n      return this\n    }\n\n  }\n\n\n /* CAROUSEL PLUGIN DEFINITION\n  * ========================== */\n\n  var old = $.fn.carousel\n\n  $.fn.carousel = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('carousel')\n        , options = $.extend({}, $.fn.carousel.defaults, typeof option == 'object' && option)\n        , action = typeof option == 'string' ? option : options.slide\n      if (!data) $this.data('carousel', (data = new Carousel(this, options)))\n      if (typeof option == 'number') data.to(option)\n      else if (action) data[action]()\n      else if (options.interval) data.pause().cycle()\n    })\n  }\n\n  $.fn.carousel.defaults = {\n    interval: 5000\n  , pause: 'hover'\n  }\n\n  $.fn.carousel.Constructor = Carousel\n\n\n /* CAROUSEL NO CONFLICT\n  * ==================== */\n\n  $.fn.carousel.noConflict = function () {\n    $.fn.carousel = old\n    return this\n  }\n\n /* CAROUSEL DATA-API\n  * ================= */\n\n  $(document).on('click.carousel.data-api', '[data-slide], [data-slide-to]', function (e) {\n    var $this = $(this), href\n      , $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '')) //strip for ie7\n      , options = $.extend({}, $target.data(), $this.data())\n      , slideIndex\n\n    $target.carousel(options)\n\n    if (slideIndex = $this.attr('data-slide-to')) {\n      $target.data('carousel').pause().to(slideIndex).cycle()\n    }\n\n    e.preventDefault()\n  })\n\n}(__webpack_provided_window_dot_jQuery);/* =============================================================\n * bootstrap-collapse.js v2.3.2\n * http://getbootstrap.com/2.3.2/javascript.html#collapse\n * =============================================================\n * Copyright 2013 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ============================================================ */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* COLLAPSE PUBLIC CLASS DEFINITION\n  * ================================ */\n\n  var Collapse = function (element, options) {\n    this.$element = $(element)\n    this.options = $.extend({}, $.fn.collapse.defaults, options)\n\n    if (this.options.parent) {\n      this.$parent = $(this.options.parent)\n    }\n\n    this.options.toggle && this.toggle()\n  }\n\n  Collapse.prototype = {\n\n    constructor: Collapse\n\n  , dimension: function () {\n      var hasWidth = this.$element.hasClass('width')\n      return hasWidth ? 'width' : 'height'\n    }\n\n  , show: function () {\n      var dimension\n        , scroll\n        , actives\n        , hasData\n\n      if (this.transitioning || this.$element.hasClass('in')) return\n\n      dimension = this.dimension()\n      scroll = $.camelCase(['scroll', dimension].join('-'))\n      actives = this.$parent && this.$parent.find('> .accordion-group > .in')\n\n      if (actives && actives.length) {\n        hasData = actives.data('collapse')\n        if (hasData && hasData.transitioning) return\n        actives.collapse('hide')\n        hasData || actives.data('collapse', null)\n      }\n\n      this.$element[dimension](0)\n      this.transition('addClass', $.Event('show'), 'shown')\n      $.support.transition && this.$element[dimension](this.$element[0][scroll])\n    }\n\n  , hide: function () {\n      var dimension\n      if (this.transitioning || !this.$element.hasClass('in')) return\n      dimension = this.dimension()\n      this.reset(this.$element[dimension]())\n      this.transition('removeClass', $.Event('hide'), 'hidden')\n      this.$element[dimension](0)\n    }\n\n  , reset: function (size) {\n      var dimension = this.dimension()\n\n      this.$element\n        .removeClass('collapse')\n        [dimension](size || 'auto')\n        [0].offsetWidth\n\n      this.$element[size !== null ? 'addClass' : 'removeClass']('collapse')\n\n      return this\n    }\n\n  , transition: function (method, startEvent, completeEvent) {\n      var that = this\n        , complete = function () {\n            if (startEvent.type == 'show') that.reset()\n            that.transitioning = 0\n            that.$element.trigger(completeEvent)\n          }\n\n      this.$element.trigger(startEvent)\n\n      if (startEvent.isDefaultPrevented()) return\n\n      this.transitioning = 1\n\n      this.$element[method]('in')\n\n      $.support.transition && this.$element.hasClass('collapse') ?\n        this.$element.one($.support.transition.end, complete) :\n        complete()\n    }\n\n  , toggle: function () {\n      this[this.$element.hasClass('in') ? 'hide' : 'show']()\n    }\n\n  }\n\n\n /* COLLAPSE PLUGIN DEFINITION\n  * ========================== */\n\n  var old = $.fn.collapse\n\n  $.fn.collapse = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('collapse')\n        , options = $.extend({}, $.fn.collapse.defaults, $this.data(), typeof option == 'object' && option)\n      if (!data) $this.data('collapse', (data = new Collapse(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  $.fn.collapse.defaults = {\n    toggle: true\n  }\n\n  $.fn.collapse.Constructor = Collapse\n\n\n /* COLLAPSE NO CONFLICT\n  * ==================== */\n\n  $.fn.collapse.noConflict = function () {\n    $.fn.collapse = old\n    return this\n  }\n\n\n /* COLLAPSE DATA-API\n  * ================= */\n\n  $(document).on('click.collapse.data-api', '[data-toggle=collapse]', function (e) {\n    var $this = $(this), href\n      , target = $this.attr('data-target')\n        || e.preventDefault()\n        || (href = $this.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '') //strip for ie7\n      , option = $(target).data('collapse') ? 'toggle' : $this.data()\n    $this[$(target).hasClass('in') ? 'addClass' : 'removeClass']('collapsed')\n    $(target).collapse(option)\n  })\n\n}(__webpack_provided_window_dot_jQuery);/* ============================================================\n * bootstrap-dropdown.js v2.3.2\n * http://getbootstrap.com/2.3.2/javascript.html#dropdowns\n * ============================================================\n * Copyright 2013 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ============================================================ */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* DROPDOWN CLASS DEFINITION\n  * ========================= */\n\n  var toggle = '[data-toggle=dropdown]'\n    , Dropdown = function (element) {\n        var $el = $(element).on('click.dropdown.data-api', this.toggle)\n        $('html').on('click.dropdown.data-api', function () {\n          $el.parent().removeClass('open')\n        })\n      }\n\n  Dropdown.prototype = {\n\n    constructor: Dropdown\n\n  , toggle: function (e) {\n      var $this = $(this)\n        , $parent\n        , isActive\n\n      if ($this.is('.disabled, :disabled')) return\n\n      $parent = getParent($this)\n\n      isActive = $parent.hasClass('open')\n\n      clearMenus()\n\n      if (!isActive) {\n        if ('ontouchstart' in document.documentElement) {\n          // if mobile we we use a backdrop because click events don't delegate\n          $('<div class=\"dropdown-backdrop\"/>').insertBefore($(this)).on('click', clearMenus)\n        }\n        $parent.toggleClass('open')\n      }\n\n      $this.focus()\n\n      return false\n    }\n\n  , keydown: function (e) {\n      var $this\n        , $items\n        , $active\n        , $parent\n        , isActive\n        , index\n\n      if (!/(38|40|27)/.test(e.keyCode)) return\n\n      $this = $(this)\n\n      e.preventDefault()\n      e.stopPropagation()\n\n      if ($this.is('.disabled, :disabled')) return\n\n      $parent = getParent($this)\n\n      isActive = $parent.hasClass('open')\n\n      if (!isActive || (isActive && e.keyCode == 27)) {\n        if (e.which == 27) $parent.find(toggle).focus()\n        return $this.click()\n      }\n\n      $items = $('[role=menu] li:not(.divider):visible a', $parent)\n\n      if (!$items.length) return\n\n      index = $items.index($items.filter(':focus'))\n\n      if (e.keyCode == 38 && index > 0) index--                                        // up\n      if (e.keyCode == 40 && index < $items.length - 1) index++                        // down\n      if (!~index) index = 0\n\n      $items\n        .eq(index)\n        .focus()\n    }\n\n  }\n\n  function clearMenus() {\n    $('.dropdown-backdrop').remove()\n    $(toggle).each(function () {\n      getParent($(this)).removeClass('open')\n    })\n  }\n\n  function getParent($this) {\n    var selector = $this.attr('data-target')\n      , $parent\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && /#/.test(selector) && selector.replace(/.*(?=#[^\\s]*$)/, '') //strip for ie7\n    }\n\n    $parent = selector && $(selector)\n\n    if (!$parent || !$parent.length) $parent = $this.parent()\n\n    return $parent\n  }\n\n\n  /* DROPDOWN PLUGIN DEFINITION\n   * ========================== */\n\n  var old = $.fn.dropdown\n\n  $.fn.dropdown = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('dropdown')\n      if (!data) $this.data('dropdown', (data = new Dropdown(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  $.fn.dropdown.Constructor = Dropdown\n\n\n /* DROPDOWN NO CONFLICT\n  * ==================== */\n\n  $.fn.dropdown.noConflict = function () {\n    $.fn.dropdown = old\n    return this\n  }\n\n\n  /* APPLY TO STANDARD DROPDOWN ELEMENTS\n   * =================================== */\n\n  $(document)\n    .on('click.dropdown.data-api', clearMenus)\n    .on('click.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })\n    .on('click.dropdown.data-api'  , toggle, Dropdown.prototype.toggle)\n    .on('keydown.dropdown.data-api', toggle + ', [role=menu]' , Dropdown.prototype.keydown)\n\n}(__webpack_provided_window_dot_jQuery);\n/* =========================================================\n * bootstrap-modal.js v2.3.2\n * http://getbootstrap.com/2.3.2/javascript.html#modals\n * =========================================================\n * Copyright 2013 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================= */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* MODAL CLASS DEFINITION\n  * ====================== */\n\n  var Modal = function (element, options) {\n    this.options = options\n    this.$element = $(element)\n      .delegate('[data-dismiss=\"modal\"]', 'click.dismiss.modal', $.proxy(this.hide, this))\n    this.options.remote && this.$element.find('.modal-body').load(this.options.remote)\n  }\n\n  Modal.prototype = {\n\n      constructor: Modal\n\n    , toggle: function () {\n        return this[!this.isShown ? 'show' : 'hide']()\n      }\n\n    , show: function () {\n        var that = this\n          , e = $.Event('show')\n\n        this.$element.trigger(e)\n\n        if (this.isShown || e.isDefaultPrevented()) return\n\n        this.isShown = true\n\n        this.escape()\n\n        this.backdrop(function () {\n          var transition = $.support.transition && that.$element.hasClass('fade')\n\n          if (!that.$element.parent().length) {\n            that.$element.appendTo(document.body) //don't move modals dom position\n          }\n\n          that.$element.show()\n\n          if (transition) {\n            that.$element[0].offsetWidth // force reflow\n          }\n\n          that.$element\n            .addClass('in')\n            .attr('aria-hidden', false)\n\n          that.enforceFocus()\n\n          transition ?\n            that.$element.one($.support.transition.end, function () { that.$element.focus().trigger('shown') }) :\n            that.$element.focus().trigger('shown')\n\n        })\n      }\n\n    , hide: function (e) {\n        e && e.preventDefault()\n\n        var that = this\n\n        e = $.Event('hide')\n\n        this.$element.trigger(e)\n\n        if (!this.isShown || e.isDefaultPrevented()) return\n\n        this.isShown = false\n\n        this.escape()\n\n        $(document).off('focusin.modal')\n\n        this.$element\n          .removeClass('in')\n          .attr('aria-hidden', true)\n\n        $.support.transition && this.$element.hasClass('fade') ?\n          this.hideWithTransition() :\n          this.hideModal()\n      }\n\n    , enforceFocus: function () {\n        var that = this\n        $(document).on('focusin.modal', function (e) {\n          if (that.$element[0] !== e.target && !that.$element.has(e.target).length) {\n            that.$element.focus()\n          }\n        })\n      }\n\n    , escape: function () {\n        var that = this\n        if (this.isShown && this.options.keyboard) {\n          this.$element.on('keyup.dismiss.modal', function ( e ) {\n            e.which == 27 && that.hide()\n          })\n        } else if (!this.isShown) {\n          this.$element.off('keyup.dismiss.modal')\n        }\n      }\n\n    , hideWithTransition: function () {\n        var that = this\n          , timeout = setTimeout(function () {\n              that.$element.off($.support.transition.end)\n              that.hideModal()\n            }, 500)\n\n        this.$element.one($.support.transition.end, function () {\n          clearTimeout(timeout)\n          that.hideModal()\n        })\n      }\n\n    , hideModal: function () {\n        var that = this\n        this.$element.hide()\n        this.backdrop(function () {\n          that.removeBackdrop()\n          that.$element.trigger('hidden')\n        })\n      }\n\n    , removeBackdrop: function () {\n        this.$backdrop && this.$backdrop.remove()\n        this.$backdrop = null\n      }\n\n    , backdrop: function (callback) {\n        var that = this\n          , animate = this.$element.hasClass('fade') ? 'fade' : ''\n\n        if (this.isShown && this.options.backdrop) {\n          var doAnimate = $.support.transition && animate\n\n          this.$backdrop = $('<div class=\"modal-backdrop ' + animate + '\" />')\n            .appendTo(document.body)\n\n          this.$backdrop.click(\n            this.options.backdrop == 'static' ?\n              $.proxy(this.$element[0].focus, this.$element[0])\n            : $.proxy(this.hide, this)\n          )\n\n          if (doAnimate) this.$backdrop[0].offsetWidth // force reflow\n\n          this.$backdrop.addClass('in')\n\n          if (!callback) return\n\n          doAnimate ?\n            this.$backdrop.one($.support.transition.end, callback) :\n            callback()\n\n        } else if (!this.isShown && this.$backdrop) {\n          this.$backdrop.removeClass('in')\n\n          $.support.transition && this.$element.hasClass('fade')?\n            this.$backdrop.one($.support.transition.end, callback) :\n            callback()\n\n        } else if (callback) {\n          callback()\n        }\n      }\n  }\n\n\n /* MODAL PLUGIN DEFINITION\n  * ======================= */\n\n  var old = $.fn.modal\n\n  $.fn.modal = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('modal')\n        , options = $.extend({}, $.fn.modal.defaults, $this.data(), typeof option == 'object' && option)\n      if (!data) $this.data('modal', (data = new Modal(this, options)))\n      if (typeof option == 'string') data[option]()\n      else if (options.show) data.show()\n    })\n  }\n\n  $.fn.modal.defaults = {\n      backdrop: true\n    , keyboard: true\n    , show: true\n  }\n\n  $.fn.modal.Constructor = Modal\n\n\n /* MODAL NO CONFLICT\n  * ================= */\n\n  $.fn.modal.noConflict = function () {\n    $.fn.modal = old\n    return this\n  }\n\n\n /* MODAL DATA-API\n  * ============== */\n\n  $(document).on('click.modal.data-api', '[data-toggle=\"modal\"]', function (e) {\n    var $this = $(this)\n      , href = $this.attr('href')\n      , $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\\s]+$)/, ''))) //strip for ie7\n      , option = $target.data('modal') ? 'toggle' : $.extend({ remote:!/#/.test(href) && href }, $target.data(), $this.data())\n\n    e.preventDefault()\n\n    $target\n      .modal(option)\n      .one('hide', function () {\n        $this.focus()\n      })\n  })\n\n}(__webpack_provided_window_dot_jQuery);\n/* ===========================================================\n * bootstrap-tooltip.js v2.3.2\n * http://getbootstrap.com/2.3.2/javascript.html#tooltips\n * Inspired by the original jQuery.tipsy by Jason Frame\n * ===========================================================\n * Copyright 2013 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================== */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* TOOLTIP PUBLIC CLASS DEFINITION\n  * =============================== */\n\n  var Tooltip = function (element, options) {\n    this.init('tooltip', element, options)\n  }\n\n  Tooltip.prototype = {\n\n    constructor: Tooltip\n\n  , init: function (type, element, options) {\n      var eventIn\n        , eventOut\n        , triggers\n        , trigger\n        , i\n\n      this.type = type\n      this.$element = $(element)\n      this.options = this.getOptions(options)\n      this.enabled = true\n\n      triggers = this.options.trigger.split(' ')\n\n      for (i = triggers.length; i--;) {\n        trigger = triggers[i]\n        if (trigger == 'click') {\n          this.$element.on('click.' + this.type, this.options.selector, $.proxy(this.toggle, this))\n        } else if (trigger != 'manual') {\n          eventIn = trigger == 'hover' ? 'mouseenter' : 'focus'\n          eventOut = trigger == 'hover' ? 'mouseleave' : 'blur'\n          this.$element.on(eventIn + '.' + this.type, this.options.selector, $.proxy(this.enter, this))\n          this.$element.on(eventOut + '.' + this.type, this.options.selector, $.proxy(this.leave, this))\n        }\n      }\n\n      this.options.selector ?\n        (this._options = $.extend({}, this.options, { trigger: 'manual', selector: '' })) :\n        this.fixTitle()\n    }\n\n  , getOptions: function (options) {\n      options = $.extend({}, $.fn[this.type].defaults, this.$element.data(), options)\n\n      if (options.delay && typeof options.delay == 'number') {\n        options.delay = {\n          show: options.delay\n        , hide: options.delay\n        }\n      }\n\n      return options\n    }\n\n  , enter: function (e) {\n      var defaults = $.fn[this.type].defaults\n        , options = {}\n        , self\n\n      this._options && $.each(this._options, function (key, value) {\n        if (defaults[key] != value) options[key] = value\n      }, this)\n\n      self = $(e.currentTarget)[this.type](options).data(this.type)\n\n      if (!self.options.delay || !self.options.delay.show) return self.show()\n\n      clearTimeout(this.timeout)\n      self.hoverState = 'in'\n      this.timeout = setTimeout(function() {\n        if (self.hoverState == 'in') self.show()\n      }, self.options.delay.show)\n    }\n\n  , leave: function (e) {\n      var self = $(e.currentTarget)[this.type](this._options).data(this.type)\n\n      if (this.timeout) clearTimeout(this.timeout)\n      if (!self.options.delay || !self.options.delay.hide) return self.hide()\n\n      self.hoverState = 'out'\n      this.timeout = setTimeout(function() {\n        if (self.hoverState == 'out') self.hide()\n      }, self.options.delay.hide)\n    }\n\n  , show: function () {\n      var $tip\n        , pos\n        , actualWidth\n        , actualHeight\n        , placement\n        , tp\n        , e = $.Event('show')\n\n      if (this.hasContent() && this.enabled) {\n        this.$element.trigger(e)\n        if (e.isDefaultPrevented()) return\n        $tip = this.tip()\n        this.setContent()\n\n        if (this.options.animation) {\n          $tip.addClass('fade')\n        }\n\n        placement = typeof this.options.placement == 'function' ?\n          this.options.placement.call(this, $tip[0], this.$element[0]) :\n          this.options.placement\n\n        $tip\n          .detach()\n          .css({ top: 0, left: 0, display: 'block' })\n\n        this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element)\n\n        pos = this.getPosition()\n\n        actualWidth = $tip[0].offsetWidth\n        actualHeight = $tip[0].offsetHeight\n\n        switch (placement) {\n          case 'bottom':\n            tp = {top: pos.top + pos.height, left: pos.left + pos.width / 2 - actualWidth / 2}\n            break\n          case 'top':\n            tp = {top: pos.top - actualHeight, left: pos.left + pos.width / 2 - actualWidth / 2}\n            break\n          case 'left':\n            tp = {top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth}\n            break\n          case 'right':\n            tp = {top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width}\n            break\n        }\n\n        this.applyPlacement(tp, placement)\n        this.$element.trigger('shown')\n      }\n    }\n\n  , applyPlacement: function(offset, placement){\n      var $tip = this.tip()\n        , width = $tip[0].offsetWidth\n        , height = $tip[0].offsetHeight\n        , actualWidth\n        , actualHeight\n        , delta\n        , replace\n\n      $tip\n        .offset(offset)\n        .addClass(placement)\n        .addClass('in')\n\n      actualWidth = $tip[0].offsetWidth\n      actualHeight = $tip[0].offsetHeight\n\n      if (placement == 'top' && actualHeight != height) {\n        offset.top = offset.top + height - actualHeight\n        replace = true\n      }\n\n      if (placement == 'bottom' || placement == 'top') {\n        delta = 0\n\n        if (offset.left < 0){\n          delta = offset.left * -2\n          offset.left = 0\n          $tip.offset(offset)\n          actualWidth = $tip[0].offsetWidth\n          actualHeight = $tip[0].offsetHeight\n        }\n\n        this.replaceArrow(delta - width + actualWidth, actualWidth, 'left')\n      } else {\n        this.replaceArrow(actualHeight - height, actualHeight, 'top')\n      }\n\n      if (replace) $tip.offset(offset)\n    }\n\n  , replaceArrow: function(delta, dimension, position){\n      this\n        .arrow()\n        .css(position, delta ? (50 * (1 - delta / dimension) + \"%\") : '')\n    }\n\n  , setContent: function () {\n      var $tip = this.tip()\n        , title = this.getTitle()\n\n      $tip.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](title)\n      $tip.removeClass('fade in top bottom left right')\n    }\n\n  , hide: function () {\n      var that = this\n        , $tip = this.tip()\n        , e = $.Event('hide')\n\n      this.$element.trigger(e)\n      if (e.isDefaultPrevented()) return\n\n      $tip.removeClass('in')\n\n      function removeWithAnimation() {\n        var timeout = setTimeout(function () {\n          $tip.off($.support.transition.end).detach()\n        }, 500)\n\n        $tip.one($.support.transition.end, function () {\n          clearTimeout(timeout)\n          $tip.detach()\n        })\n      }\n\n      $.support.transition && this.$tip.hasClass('fade') ?\n        removeWithAnimation() :\n        $tip.detach()\n\n      this.$element.trigger('hidden')\n\n      return this\n    }\n\n  , fixTitle: function () {\n      var $e = this.$element\n      if ($e.attr('title') || typeof($e.attr('data-original-title')) != 'string') {\n        $e.attr('data-original-title', $e.attr('title') || '').attr('title', '')\n      }\n    }\n\n  , hasContent: function () {\n      return this.getTitle()\n    }\n\n  , getPosition: function () {\n      var el = this.$element[0]\n      return $.extend({}, (typeof el.getBoundingClientRect == 'function') ? el.getBoundingClientRect() : {\n        width: el.offsetWidth\n      , height: el.offsetHeight\n      }, this.$element.offset())\n    }\n\n  , getTitle: function () {\n      var title\n        , $e = this.$element\n        , o = this.options\n\n      title = $e.attr('data-original-title')\n        || (typeof o.title == 'function' ? o.title.call($e[0]) :  o.title)\n\n      return title\n    }\n\n  , tip: function () {\n      return this.$tip = this.$tip || $(this.options.template)\n    }\n\n  , arrow: function(){\n      return this.$arrow = this.$arrow || this.tip().find(\".tooltip-arrow\")\n    }\n\n  , validate: function () {\n      if (!this.$element[0].parentNode) {\n        this.hide()\n        this.$element = null\n        this.options = null\n      }\n    }\n\n  , enable: function () {\n      this.enabled = true\n    }\n\n  , disable: function () {\n      this.enabled = false\n    }\n\n  , toggleEnabled: function () {\n      this.enabled = !this.enabled\n    }\n\n  , toggle: function (e) {\n      var self = e ? $(e.currentTarget)[this.type](this._options).data(this.type) : this\n      self.tip().hasClass('in') ? self.hide() : self.show()\n    }\n\n  , destroy: function () {\n      this.hide().$element.off('.' + this.type).removeData(this.type)\n    }\n\n  }\n\n\n /* TOOLTIP PLUGIN DEFINITION\n  * ========================= */\n\n  var old = $.fn.tooltip\n\n  $.fn.tooltip = function ( option ) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('tooltip')\n        , options = typeof option == 'object' && option\n      if (!data) $this.data('tooltip', (data = new Tooltip(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  $.fn.tooltip.Constructor = Tooltip\n\n  $.fn.tooltip.defaults = {\n    animation: true\n  , placement: 'top'\n  , selector: false\n  , template: '<div class=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>'\n  , trigger: 'hover focus'\n  , title: ''\n  , delay: 0\n  , html: false\n  , container: false\n  }\n\n\n /* TOOLTIP NO CONFLICT\n  * =================== */\n\n  $.fn.tooltip.noConflict = function () {\n    $.fn.tooltip = old\n    return this\n  }\n\n}(__webpack_provided_window_dot_jQuery);\n/* ===========================================================\n * bootstrap-popover.js v2.3.2\n * http://getbootstrap.com/2.3.2/javascript.html#popovers\n * ===========================================================\n * Copyright 2013 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =========================================================== */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* POPOVER PUBLIC CLASS DEFINITION\n  * =============================== */\n\n  var Popover = function (element, options) {\n    this.init('popover', element, options)\n  }\n\n\n  /* NOTE: POPOVER EXTENDS BOOTSTRAP-TOOLTIP.js\n     ========================================== */\n\n  Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype, {\n\n    constructor: Popover\n\n  , setContent: function () {\n      var $tip = this.tip()\n        , title = this.getTitle()\n        , content = this.getContent()\n\n      $tip.find('.popover-title')[this.options.html ? 'html' : 'text'](title)\n      $tip.find('.popover-content')[this.options.html ? 'html' : 'text'](content)\n\n      $tip.removeClass('fade top bottom left right in')\n    }\n\n  , hasContent: function () {\n      return this.getTitle() || this.getContent()\n    }\n\n  , getContent: function () {\n      var content\n        , $e = this.$element\n        , o = this.options\n\n      content = (typeof o.content == 'function' ? o.content.call($e[0]) :  o.content)\n        || $e.attr('data-content')\n\n      return content\n    }\n\n  , tip: function () {\n      if (!this.$tip) {\n        this.$tip = $(this.options.template)\n      }\n      return this.$tip\n    }\n\n  , destroy: function () {\n      this.hide().$element.off('.' + this.type).removeData(this.type)\n    }\n\n  })\n\n\n /* POPOVER PLUGIN DEFINITION\n  * ======================= */\n\n  var old = $.fn.popover\n\n  $.fn.popover = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('popover')\n        , options = typeof option == 'object' && option\n      if (!data) $this.data('popover', (data = new Popover(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  $.fn.popover.Constructor = Popover\n\n  $.fn.popover.defaults = $.extend({} , $.fn.tooltip.defaults, {\n    placement: 'right'\n  , trigger: 'click'\n  , content: ''\n  , template: '<div class=\"popover\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'\n  })\n\n\n /* POPOVER NO CONFLICT\n  * =================== */\n\n  $.fn.popover.noConflict = function () {\n    $.fn.popover = old\n    return this\n  }\n\n}(__webpack_provided_window_dot_jQuery);\n/* =============================================================\n * bootstrap-scrollspy.js v2.3.2\n * http://getbootstrap.com/2.3.2/javascript.html#scrollspy\n * =============================================================\n * Copyright 2013 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ============================================================== */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* SCROLLSPY CLASS DEFINITION\n  * ========================== */\n\n  function ScrollSpy(element, options) {\n    var process = $.proxy(this.process, this)\n      , $element = $(element).is('body') ? $(window) : $(element)\n      , href\n    this.options = $.extend({}, $.fn.scrollspy.defaults, options)\n    this.$scrollElement = $element.on('scroll.scroll-spy.data-api', process)\n    this.selector = (this.options.target\n      || ((href = $(element).attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '')) //strip for ie7\n      || '') + ' .nav li > a'\n    this.$body = $('body')\n    this.refresh()\n    this.process()\n  }\n\n  ScrollSpy.prototype = {\n\n      constructor: ScrollSpy\n\n    , refresh: function () {\n        var self = this\n          , $targets\n\n        this.offsets = $([])\n        this.targets = $([])\n\n        $targets = this.$body\n          .find(this.selector)\n          .map(function () {\n            var $el = $(this)\n              , href = $el.data('target') || $el.attr('href')\n              , $href = /^#\\w/.test(href) && $(href)\n            return ( $href\n              && $href.length\n              && [[ $href.position().top + (!$.isWindow(self.$scrollElement.get(0)) && self.$scrollElement.scrollTop()), href ]] ) || null\n          })\n          .sort(function (a, b) { return a[0] - b[0] })\n          .each(function () {\n            self.offsets.push(this[0])\n            self.targets.push(this[1])\n          })\n      }\n\n    , process: function () {\n        var scrollTop = this.$scrollElement.scrollTop() + this.options.offset\n          , scrollHeight = this.$scrollElement[0].scrollHeight || this.$body[0].scrollHeight\n          , maxScroll = scrollHeight - this.$scrollElement.height()\n          , offsets = this.offsets\n          , targets = this.targets\n          , activeTarget = this.activeTarget\n          , i\n\n        if (scrollTop >= maxScroll) {\n          return activeTarget != (i = targets.last()[0])\n            && this.activate ( i )\n        }\n\n        for (i = offsets.length; i--;) {\n          activeTarget != targets[i]\n            && scrollTop >= offsets[i]\n            && (!offsets[i + 1] || scrollTop <= offsets[i + 1])\n            && this.activate( targets[i] )\n        }\n      }\n\n    , activate: function (target) {\n        var active\n          , selector\n\n        this.activeTarget = target\n\n        $(this.selector)\n          .parent('.active')\n          .removeClass('active')\n\n        selector = this.selector\n          + '[data-target=\"' + target + '\"],'\n          + this.selector + '[href=\"' + target + '\"]'\n\n        active = $(selector)\n          .parent('li')\n          .addClass('active')\n\n        if (active.parent('.dropdown-menu').length)  {\n          active = active.closest('li.dropdown').addClass('active')\n        }\n\n        active.trigger('activate')\n      }\n\n  }\n\n\n /* SCROLLSPY PLUGIN DEFINITION\n  * =========================== */\n\n  var old = $.fn.scrollspy\n\n  $.fn.scrollspy = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('scrollspy')\n        , options = typeof option == 'object' && option\n      if (!data) $this.data('scrollspy', (data = new ScrollSpy(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  $.fn.scrollspy.Constructor = ScrollSpy\n\n  $.fn.scrollspy.defaults = {\n    offset: 10\n  }\n\n\n /* SCROLLSPY NO CONFLICT\n  * ===================== */\n\n  $.fn.scrollspy.noConflict = function () {\n    $.fn.scrollspy = old\n    return this\n  }\n\n\n /* SCROLLSPY DATA-API\n  * ================== */\n\n  $(window).on('load', function () {\n    $('[data-spy=\"scroll\"]').each(function () {\n      var $spy = $(this)\n      $spy.scrollspy($spy.data())\n    })\n  })\n\n}(__webpack_provided_window_dot_jQuery);/* ========================================================\n * bootstrap-tab.js v2.3.2\n * http://getbootstrap.com/2.3.2/javascript.html#tabs\n * ========================================================\n * Copyright 2013 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ======================================================== */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* TAB CLASS DEFINITION\n  * ==================== */\n\n  var Tab = function (element) {\n    this.element = $(element)\n  }\n\n  Tab.prototype = {\n\n    constructor: Tab\n\n  , show: function () {\n      var $this = this.element\n        , $ul = $this.closest('ul:not(.dropdown-menu)')\n        , selector = $this.attr('data-target')\n        , previous\n        , $target\n        , e\n\n      if (!selector) {\n        selector = $this.attr('href')\n        selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') //strip for ie7\n      }\n\n      if ( $this.parent('li').hasClass('active') ) return\n\n      previous = $ul.find('.active:last a')[0]\n\n      e = $.Event('show', {\n        relatedTarget: previous\n      })\n\n      $this.trigger(e)\n\n      if (e.isDefaultPrevented()) return\n\n      $target = $(selector)\n\n      this.activate($this.parent('li'), $ul)\n      this.activate($target, $target.parent(), function () {\n        $this.trigger({\n          type: 'shown'\n        , relatedTarget: previous\n        })\n      })\n    }\n\n  , activate: function ( element, container, callback) {\n      var $active = container.find('> .active')\n        , transition = callback\n            && $.support.transition\n            && $active.hasClass('fade')\n\n      function next() {\n        $active\n          .removeClass('active')\n          .find('> .dropdown-menu > .active')\n          .removeClass('active')\n\n        element.addClass('active')\n\n        if (transition) {\n          element[0].offsetWidth // reflow for transition\n          element.addClass('in')\n        } else {\n          element.removeClass('fade')\n        }\n\n        if ( element.parent('.dropdown-menu') ) {\n          element.closest('li.dropdown').addClass('active')\n        }\n\n        callback && callback()\n      }\n\n      transition ?\n        $active.one($.support.transition.end, next) :\n        next()\n\n      $active.removeClass('in')\n    }\n  }\n\n\n /* TAB PLUGIN DEFINITION\n  * ===================== */\n\n  var old = $.fn.tab\n\n  $.fn.tab = function ( option ) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('tab')\n      if (!data) $this.data('tab', (data = new Tab(this)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  $.fn.tab.Constructor = Tab\n\n\n /* TAB NO CONFLICT\n  * =============== */\n\n  $.fn.tab.noConflict = function () {\n    $.fn.tab = old\n    return this\n  }\n\n\n /* TAB DATA-API\n  * ============ */\n\n  $(document).on('click.tab.data-api', '[data-toggle=\"tab\"], [data-toggle=\"pill\"]', function (e) {\n    e.preventDefault()\n    $(this).tab('show')\n  })\n\n}(__webpack_provided_window_dot_jQuery);/* =============================================================\n * bootstrap-typeahead.js v2.3.2\n * http://getbootstrap.com/2.3.2/javascript.html#typeahead\n * =============================================================\n * Copyright 2013 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ============================================================ */\n\n\n!function($){\n\n  \"use strict\"; // jshint ;_;\n\n\n /* TYPEAHEAD PUBLIC CLASS DEFINITION\n  * ================================= */\n\n  var Typeahead = function (element, options) {\n    this.$element = $(element)\n    this.options = $.extend({}, $.fn.typeahead.defaults, options)\n    this.matcher = this.options.matcher || this.matcher\n    this.sorter = this.options.sorter || this.sorter\n    this.highlighter = this.options.highlighter || this.highlighter\n    this.updater = this.options.updater || this.updater\n    this.source = this.options.source\n    this.$menu = $(this.options.menu)\n    this.shown = false\n    this.listen()\n  }\n\n  Typeahead.prototype = {\n\n    constructor: Typeahead\n\n  , select: function () {\n      var val = this.$menu.find('.active').attr('data-value')\n      this.$element\n        .val(this.updater(val))\n        .change()\n      return this.hide()\n    }\n\n  , updater: function (item) {\n      return item\n    }\n\n  , show: function () {\n      var pos = $.extend({}, this.$element.position(), {\n        height: this.$element[0].offsetHeight\n      })\n\n      this.$menu\n        .insertAfter(this.$element)\n        .css({\n          top: pos.top + pos.height\n        , left: pos.left\n        })\n        .show()\n\n      this.shown = true\n      return this\n    }\n\n  , hide: function () {\n      this.$menu.hide()\n      this.shown = false\n      return this\n    }\n\n  , lookup: function (event) {\n      var items\n\n      this.query = this.$element.val()\n\n      if (!this.query || this.query.length < this.options.minLength) {\n        return this.shown ? this.hide() : this\n      }\n\n      items = $.isFunction(this.source) ? this.source(this.query, $.proxy(this.process, this)) : this.source\n\n      return items ? this.process(items) : this\n    }\n\n  , process: function (items) {\n      var that = this\n\n      items = $.grep(items, function (item) {\n        return that.matcher(item)\n      })\n\n      items = this.sorter(items)\n\n      if (!items.length) {\n        return this.shown ? this.hide() : this\n      }\n\n      return this.render(items.slice(0, this.options.items)).show()\n    }\n\n  , matcher: function (item) {\n      return ~item.toLowerCase().indexOf(this.query.toLowerCase())\n    }\n\n  , sorter: function (items) {\n      var beginswith = []\n        , caseSensitive = []\n        , caseInsensitive = []\n        , item\n\n      while (item = items.shift()) {\n        if (!item.toLowerCase().indexOf(this.query.toLowerCase())) beginswith.push(item)\n        else if (~item.indexOf(this.query)) caseSensitive.push(item)\n        else caseInsensitive.push(item)\n      }\n\n      return beginswith.concat(caseSensitive, caseInsensitive)\n    }\n\n  , highlighter: function (item) {\n      var query = this.query.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, '\\\\$&')\n      return item.replace(new RegExp('(' + query + ')', 'ig'), function ($1, match) {\n        return '<strong>' + match + '</strong>'\n      })\n    }\n\n  , render: function (items) {\n      var that = this\n\n      items = $(items).map(function (i, item) {\n        i = $(that.options.item).attr('data-value', item)\n        i.find('a').html(that.highlighter(item))\n        return i[0]\n      })\n\n      items.first().addClass('active')\n      this.$menu.html(items)\n      return this\n    }\n\n  , next: function (event) {\n      var active = this.$menu.find('.active').removeClass('active')\n        , next = active.next()\n\n      if (!next.length) {\n        next = $(this.$menu.find('li')[0])\n      }\n\n      next.addClass('active')\n    }\n\n  , prev: function (event) {\n      var active = this.$menu.find('.active').removeClass('active')\n        , prev = active.prev()\n\n      if (!prev.length) {\n        prev = this.$menu.find('li').last()\n      }\n\n      prev.addClass('active')\n    }\n\n  , listen: function () {\n      this.$element\n        .on('focus',    $.proxy(this.focus, this))\n        .on('blur',     $.proxy(this.blur, this))\n        .on('keypress', $.proxy(this.keypress, this))\n        .on('keyup',    $.proxy(this.keyup, this))\n\n      if (this.eventSupported('keydown')) {\n        this.$element.on('keydown', $.proxy(this.keydown, this))\n      }\n\n      this.$menu\n        .on('click', $.proxy(this.click, this))\n        .on('mouseenter', 'li', $.proxy(this.mouseenter, this))\n        .on('mouseleave', 'li', $.proxy(this.mouseleave, this))\n    }\n\n  , eventSupported: function(eventName) {\n      var isSupported = eventName in this.$element\n      if (!isSupported) {\n        this.$element.setAttribute(eventName, 'return;')\n        isSupported = typeof this.$element[eventName] === 'function'\n      }\n      return isSupported\n    }\n\n  , move: function (e) {\n      if (!this.shown) return\n\n      switch(e.keyCode) {\n        case 9: // tab\n        case 13: // enter\n        case 27: // escape\n          e.preventDefault()\n          break\n\n        case 38: // up arrow\n          e.preventDefault()\n          this.prev()\n          break\n\n        case 40: // down arrow\n          e.preventDefault()\n          this.next()\n          break\n      }\n\n      e.stopPropagation()\n    }\n\n  , keydown: function (e) {\n      this.suppressKeyPressRepeat = ~$.inArray(e.keyCode, [40,38,9,13,27])\n      this.move(e)\n    }\n\n  , keypress: function (e) {\n      if (this.suppressKeyPressRepeat) return\n      this.move(e)\n    }\n\n  , keyup: function (e) {\n      switch(e.keyCode) {\n        case 40: // down arrow\n        case 38: // up arrow\n        case 16: // shift\n        case 17: // ctrl\n        case 18: // alt\n          break\n\n        case 9: // tab\n        case 13: // enter\n          if (!this.shown) return\n          this.select()\n          break\n\n        case 27: // escape\n          if (!this.shown) return\n          this.hide()\n          break\n\n        default:\n          this.lookup()\n      }\n\n      e.stopPropagation()\n      e.preventDefault()\n  }\n\n  , focus: function (e) {\n      this.focused = true\n    }\n\n  , blur: function (e) {\n      this.focused = false\n      if (!this.mousedover && this.shown) this.hide()\n    }\n\n  , click: function (e) {\n      e.stopPropagation()\n      e.preventDefault()\n      this.select()\n      this.$element.focus()\n    }\n\n  , mouseenter: function (e) {\n      this.mousedover = true\n      this.$menu.find('.active').removeClass('active')\n      $(e.currentTarget).addClass('active')\n    }\n\n  , mouseleave: function (e) {\n      this.mousedover = false\n      if (!this.focused && this.shown) this.hide()\n    }\n\n  }\n\n\n  /* TYPEAHEAD PLUGIN DEFINITION\n   * =========================== */\n\n  var old = $.fn.typeahead\n\n  $.fn.typeahead = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('typeahead')\n        , options = typeof option == 'object' && option\n      if (!data) $this.data('typeahead', (data = new Typeahead(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  $.fn.typeahead.defaults = {\n    source: []\n  , items: 8\n  , menu: '<ul class=\"typeahead dropdown-menu\"></ul>'\n  , item: '<li><a href=\"#\"></a></li>'\n  , minLength: 1\n  }\n\n  $.fn.typeahead.Constructor = Typeahead\n\n\n /* TYPEAHEAD NO CONFLICT\n  * =================== */\n\n  $.fn.typeahead.noConflict = function () {\n    $.fn.typeahead = old\n    return this\n  }\n\n\n /* TYPEAHEAD DATA-API\n  * ================== */\n\n  $(document).on('focus.typeahead.data-api', '[data-provide=\"typeahead\"]', function (e) {\n    var $this = $(this)\n    if ($this.data('typeahead')) return\n    $this.typeahead($this.data())\n  })\n\n}(__webpack_provided_window_dot_jQuery);\n/* ==========================================================\n * bootstrap-affix.js v2.3.2\n * http://getbootstrap.com/2.3.2/javascript.html#affix\n * ==========================================================\n * Copyright 2013 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================== */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* AFFIX CLASS DEFINITION\n  * ====================== */\n\n  var Affix = function (element, options) {\n    this.options = $.extend({}, $.fn.affix.defaults, options)\n    this.$window = $(window)\n      .on('scroll.affix.data-api', $.proxy(this.checkPosition, this))\n      .on('click.affix.data-api',  $.proxy(function () { setTimeout($.proxy(this.checkPosition, this), 1) }, this))\n    this.$element = $(element)\n    this.checkPosition()\n  }\n\n  Affix.prototype.checkPosition = function () {\n    if (!this.$element.is(':visible')) return\n\n    var scrollHeight = $(document).height()\n      , scrollTop = this.$window.scrollTop()\n      , position = this.$element.offset()\n      , offset = this.options.offset\n      , offsetBottom = offset.bottom\n      , offsetTop = offset.top\n      , reset = 'affix affix-top affix-bottom'\n      , affix\n\n    if (typeof offset != 'object') offsetBottom = offsetTop = offset\n    if (typeof offsetTop == 'function') offsetTop = offset.top()\n    if (typeof offsetBottom == 'function') offsetBottom = offset.bottom()\n\n    affix = this.unpin != null && (scrollTop + this.unpin <= position.top) ?\n      false    : offsetBottom != null && (position.top + this.$element.height() >= scrollHeight - offsetBottom) ?\n      'bottom' : offsetTop != null && scrollTop <= offsetTop ?\n      'top'    : false\n\n    if (this.affixed === affix) return\n\n    this.affixed = affix\n    this.unpin = affix == 'bottom' ? position.top - scrollTop : null\n\n    this.$element.removeClass(reset).addClass('affix' + (affix ? '-' + affix : ''))\n  }\n\n\n /* AFFIX PLUGIN DEFINITION\n  * ======================= */\n\n  var old = $.fn.affix\n\n  $.fn.affix = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('affix')\n        , options = typeof option == 'object' && option\n      if (!data) $this.data('affix', (data = new Affix(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  $.fn.affix.Constructor = Affix\n\n  $.fn.affix.defaults = {\n    offset: 0\n  }\n\n\n /* AFFIX NO CONFLICT\n  * ================= */\n\n  $.fn.affix.noConflict = function () {\n    $.fn.affix = old\n    return this\n  }\n\n\n /* AFFIX DATA-API\n  * ============== */\n\n  $(window).on('load', function () {\n    $('[data-spy=\"affix\"]').each(function () {\n      var $spy = $(this)\n        , data = $spy.data()\n\n      data.offset = data.offset || {}\n\n      data.offsetBottom && (data.offset.bottom = data.offsetBottom)\n      data.offsetTop && (data.offset.top = data.offsetTop)\n\n      $spy.affix(data)\n    })\n  })\n\n\n}(__webpack_provided_window_dot_jQuery);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/includes/bootstrap-2.32/js/bootstrap.js?");

/***/ }),

/***/ "./src/main/webapp/includes/jquery-treeview/jquery.treeview.css":
/*!**********************************************************************!*\
  !*** ./src/main/webapp/includes/jquery-treeview/jquery.treeview.css ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/main/webapp/includes/jquery-treeview/jquery.treeview.css?");

/***/ }),

/***/ "./src/main/webapp/includes/jquery-treeview/jquery.treeview.js":
/*!*********************************************************************!*\
  !*** ./src/main/webapp/includes/jquery-treeview/jquery.treeview.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(jQuery) {/*\n * Treeview 1.4 - jQuery plugin to hide and show branches of a tree\n * \n * http://bassistance.de/jquery-plugins/jquery-plugin-treeview/\n * http://docs.jquery.com/Plugins/Treeview\n *\n * Copyright (c) 2007 Jörn Zaefferer\n *\n * Dual licensed under the MIT and GPL licenses:\n *   http://www.opensource.org/licenses/mit-license.php\n *   http://www.gnu.org/licenses/gpl.html\n *\n * Revision: $Id: jquery.treeview.js 4684 2008-02-07 19:08:06Z joern.zaefferer $\n *\n */\n\n;(function($) {\n\n\t$.extend($.fn, {\n\t\tswapClass: function(c1, c2) {\n\t\t\tvar c1Elements = this.filter('.' + c1);\n\t\t\tthis.filter('.' + c2).removeClass(c2).addClass(c1);\n\t\t\tc1Elements.removeClass(c1).addClass(c2);\n\t\t\treturn this;\n\t\t},\n\t\treplaceClass: function(c1, c2) {\n\t\t\treturn this.filter('.' + c1).removeClass(c1).addClass(c2).end();\n\t\t},\n\t\thoverClass: function(className) {\n\t\t\tclassName = className || \"hover\";\n\t\t\treturn this.hover(function() {\n\t\t\t\t$(this).addClass(className);\n\t\t\t}, function() {\n\t\t\t\t$(this).removeClass(className);\n\t\t\t});\n\t\t},\n\t\theightToggle: function(animated, callback) {\n\t\t\tanimated ?\n\t\t\t\tthis.animate({ height: \"toggle\" }, animated, callback) :\n\t\t\t\tthis.each(function(){\n\t\t\t\t\tjQuery(this)[ jQuery(this).is(\":hidden\") ? \"show\" : \"hide\" ]();\n\t\t\t\t\tif(callback)\n\t\t\t\t\t\tcallback.apply(this, arguments);\n\t\t\t\t});\n\t\t},\n\t\theightHide: function(animated, callback) {\n\t\t\tif (animated) {\n\t\t\t\tthis.animate({ height: \"hide\" }, animated, callback);\n\t\t\t} else {\n\t\t\t\tthis.hide();\n\t\t\t\tif (callback)\n\t\t\t\t\tthis.each(callback);\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tprepareBranches: function(settings) {\n\t\t\tif (!settings.prerendered) {\n\t\t\t\t// mark last tree items\n\t\t\t\tthis.filter(\":last-child:not(ul)\").addClass(CLASSES.last);\n\t\t\t\t// collapse whole tree, or only those marked as closed, anyway except those marked as open\n\t\t\t\tthis.filter((settings.collapsed ? \"\" : \".\" + CLASSES.closed) + \":not(.\" + CLASSES.open + \")\").find(\">ul\").hide();\n\t\t\t}\n\t\t\t// return all items with sublists\n\t\t\treturn this.filter(\":has(>ul)\");\n\t\t},\n\t\tapplyClasses: function(settings, toggler) {\n\t\t\tthis.filter(\":has(>ul):not(:has(>a))\").find(\">span\").click(function(event) {\n\t\t\t\ttoggler.apply($(this).next());\n\t\t\t}).add( $(\"a\", this) ).hoverClass();\n\t\t\t\n\t\t\tif (!settings.prerendered) {\n\t\t\t\t// handle closed ones first\n\t\t\t\tthis.filter(\":has(>ul:hidden)\")\n\t\t\t\t\t\t.addClass(CLASSES.expandable)\n\t\t\t\t\t\t.replaceClass(CLASSES.last, CLASSES.lastExpandable);\n\t\t\t\t\t\t\n\t\t\t\t// handle open ones\n\t\t\t\tthis.not(\":has(>ul:hidden)\")\n\t\t\t\t\t\t.addClass(CLASSES.collapsable)\n\t\t\t\t\t\t.replaceClass(CLASSES.last, CLASSES.lastCollapsable);\n\t\t\t\t\t\t\n\t            // create hitarea\n\t\t\t\tthis.prepend(\"<div class=\\\"\" + CLASSES.hitarea + \"\\\"/>\").find(\"div.\" + CLASSES.hitarea).each(function() {\n\t\t\t\t\tvar classes = \"\";\n\t\t\t\t\t$.each($(this).parent().attr(\"class\").split(\" \"), function() {\n\t\t\t\t\t\tclasses += this + \"-hitarea \";\n\t\t\t\t\t});\n\t\t\t\t\t$(this).addClass( classes );\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t// apply event to hitarea\n\t\t\tthis.find(\"div.\" + CLASSES.hitarea).click( toggler );\n\t\t},\n\t\ttreeview: function(settings) {\n\t\t\t\n\t\t\tsettings = $.extend({\n\t\t\t\tcookieId: \"treeview\"\n\t\t\t}, settings);\n\t\t\t\n\t\t\tif (settings.add) {\n\t\t\t\treturn this.trigger(\"add\", [settings.add]);\n\t\t\t}\n\t\t\t\n\t\t\tif ( settings.toggle ) {\n\t\t\t\tvar callback = settings.toggle;\n\t\t\t\tsettings.toggle = function() {\n\t\t\t\t\treturn callback.apply($(this).parent()[0], arguments);\n\t\t\t\t};\n\t\t\t}\n\t\t\n\t\t\t// factory for treecontroller\n\t\t\tfunction treeController(tree, control) {\n\t\t\t\t// factory for click handlers\n\t\t\t\tfunction handler(filter) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\t// reuse toggle event handler, applying the elements to toggle\n\t\t\t\t\t\t// start searching for all hitareas\n\t\t\t\t\t\ttoggler.apply( $(\"div.\" + CLASSES.hitarea, tree).filter(function() {\n\t\t\t\t\t\t\t// for plain toggle, no filter is provided, otherwise we need to check the parent element\n\t\t\t\t\t\t\treturn filter ? $(this).parent(\".\" + filter).length : true;\n\t\t\t\t\t\t}) );\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t// click on first element to collapse tree\n\t\t\t\t$(\"a:eq(0)\", control).click( handler(CLASSES.collapsable) );\n\t\t\t\t// click on second to expand tree\n\t\t\t\t$(\"a:eq(1)\", control).click( handler(CLASSES.expandable) );\n\t\t\t\t// click on third to toggle tree\n\t\t\t\t$(\"a:eq(2)\", control).click( handler() ); \n\t\t\t}\n\t\t\n\t\t\t// handle toggle event\n\t\t\tfunction toggler() {\n\t\t\t\t$(this)\n\t\t\t\t\t.parent()\n\t\t\t\t\t// swap classes for hitarea\n\t\t\t\t\t.find(\">.hitarea\")\n\t\t\t\t\t\t.swapClass( CLASSES.collapsableHitarea, CLASSES.expandableHitarea )\n\t\t\t\t\t\t.swapClass( CLASSES.lastCollapsableHitarea, CLASSES.lastExpandableHitarea )\n\t\t\t\t\t.end()\n\t\t\t\t\t// swap classes for parent li\n\t\t\t\t\t.swapClass( CLASSES.collapsable, CLASSES.expandable )\n\t\t\t\t\t.swapClass( CLASSES.lastCollapsable, CLASSES.lastExpandable )\n\t\t\t\t\t// find child lists\n\t\t\t\t\t.find( \">ul\" )\n\t\t\t\t\t// toggle them\n\t\t\t\t\t.heightToggle( settings.animated, settings.toggle );\n\t\t\t\tif ( settings.unique ) {\n\t\t\t\t\t$(this).parent()\n\t\t\t\t\t\t.siblings()\n\t\t\t\t\t\t// swap classes for hitarea\n\t\t\t\t\t\t.find(\">.hitarea\")\n\t\t\t\t\t\t\t.replaceClass( CLASSES.collapsableHitarea, CLASSES.expandableHitarea )\n\t\t\t\t\t\t\t.replaceClass( CLASSES.lastCollapsableHitarea, CLASSES.lastExpandableHitarea )\n\t\t\t\t\t\t.end()\n\t\t\t\t\t\t.replaceClass( CLASSES.collapsable, CLASSES.expandable )\n\t\t\t\t\t\t.replaceClass( CLASSES.lastCollapsable, CLASSES.lastExpandable )\n\t\t\t\t\t\t.find( \">ul\" )\n\t\t\t\t\t\t.heightHide( settings.animated, settings.toggle );\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tfunction serialize() {\n\t\t\t\tfunction binary(arg) {\n\t\t\t\t\treturn arg ? 1 : 0;\n\t\t\t\t}\n\t\t\t\tvar data = [];\n\t\t\t\tbranches.each(function(i, e) {\n\t\t\t\t\tdata[i] = $(e).is(\":has(>ul:visible)\") ? 1 : 0;\n\t\t\t\t});\n\t\t\t\t$.cookie(settings.cookieId, data.join(\"\") );\n\t\t\t}\n\t\t\t\n\t\t\tfunction deserialize() {\n\t\t\t\tvar stored = $.cookie(settings.cookieId);\n\t\t\t\tif ( stored ) {\n\t\t\t\t\tvar data = stored.split(\"\");\n\t\t\t\t\tbranches.each(function(i, e) {\n\t\t\t\t\t\t$(e).find(\">ul\")[ parseInt(data[i]) ? \"show\" : \"hide\" ]();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// add treeview class to activate styles\n\t\t\tthis.addClass(\"treeview\");\n\t\t\t\n\t\t\t// prepare branches and find all tree items with child lists\n\t\t\tvar branches = this.find(\"li\").prepareBranches(settings);\n\t\t\t\n\t\t\tswitch(settings.persist) {\n\t\t\tcase \"cookie\":\n\t\t\t\tvar toggleCallback = settings.toggle;\n\t\t\t\tsettings.toggle = function() {\n\t\t\t\t\tserialize();\n\t\t\t\t\tif (toggleCallback) {\n\t\t\t\t\t\ttoggleCallback.apply(this, arguments);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tdeserialize();\n\t\t\t\tbreak;\n\t\t\tcase \"location\":\n\t\t\t\tvar current = this.find(\"a\").filter(function() { return this.href.toLowerCase() == location.href.toLowerCase(); });\n\t\t\t\tif ( current.length ) {\n\t\t\t\t\tcurrent.addClass(\"selected\").parents(\"ul, li\").add( current.next() ).show();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tbranches.applyClasses(settings, toggler);\n\t\t\t\t\n\t\t\t// if control option is set, create the treecontroller and show it\n\t\t\tif ( settings.control ) {\n\t\t\t\ttreeController(this, settings.control);\n\t\t\t\t$(settings.control).show();\n\t\t\t}\n\t\t\t\n\t\t\treturn this.bind(\"add\", function(event, branches) {\n\t\t\t\t$(branches).prev()\n\t\t\t\t\t.removeClass(CLASSES.last)\n\t\t\t\t\t.removeClass(CLASSES.lastCollapsable)\n\t\t\t\t\t.removeClass(CLASSES.lastExpandable)\n\t\t\t\t.find(\">.hitarea\")\n\t\t\t\t\t.removeClass(CLASSES.lastCollapsableHitarea)\n\t\t\t\t\t.removeClass(CLASSES.lastExpandableHitarea);\n\t\t\t\t$(branches).find(\"li\").andSelf().prepareBranches(settings).applyClasses(settings, toggler);\n\t\t\t});\n\t\t}\n\t});\n\t\n\t// classes used by the plugin\n\t// need to be styled via external stylesheet, see first example\n\tvar CLASSES = $.fn.treeview.classes = {\n\t\topen: \"open\",\n\t\tclosed: \"closed\",\n\t\texpandable: \"expandable\",\n\t\texpandableHitarea: \"expandable-hitarea\",\n\t\tlastExpandableHitarea: \"lastExpandable-hitarea\",\n\t\tcollapsable: \"collapsable\",\n\t\tcollapsableHitarea: \"collapsable-hitarea\",\n\t\tlastCollapsableHitarea: \"lastCollapsable-hitarea\",\n\t\tlastCollapsable: \"lastCollapsable\",\n\t\tlastExpandable: \"lastExpandable\",\n\t\tlast: \"last\",\n\t\thitarea: \"hitarea\"\n\t};\n\t\n\t// provide backwards compability\n\t$.fn.Treeview = $.fn.treeview;\n\t\n})(jQuery);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/includes/jquery-treeview/jquery.treeview.js?");

/***/ }),

/***/ "./src/main/webapp/includes/jquery-ui-1.11.4.custom/jquery-ui.js":
/*!***********************************************************************!*\
  !*** ./src/main/webapp/includes/jquery-ui-1.11.4.custom/jquery-ui.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! jQuery UI - v1.11.4 - 2016-08-08\n* http://jqueryui.com\n* Includes: core.js, widget.js, position.js, autocomplete.js, menu.js\n* Copyright jQuery Foundation and other contributors; Licensed MIT */\n\n(function( factory ) {\n\tif ( true ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n}(function( $ ) {\n/*!\n * jQuery UI Core 1.11.4\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/ui-core/\n */\n\n\n// $.ui might exist from components with no dependencies, e.g., $.ui.position\n$.ui = $.ui || {};\n\n$.extend( $.ui, {\n\tversion: \"1.11.4\",\n\n\tkeyCode: {\n\t\tBACKSPACE: 8,\n\t\tCOMMA: 188,\n\t\tDELETE: 46,\n\t\tDOWN: 40,\n\t\tEND: 35,\n\t\tENTER: 13,\n\t\tESCAPE: 27,\n\t\tHOME: 36,\n\t\tLEFT: 37,\n\t\tPAGE_DOWN: 34,\n\t\tPAGE_UP: 33,\n\t\tPERIOD: 190,\n\t\tRIGHT: 39,\n\t\tSPACE: 32,\n\t\tTAB: 9,\n\t\tUP: 38\n\t}\n});\n\n// plugins\n$.fn.extend({\n\tscrollParent: function( includeHidden ) {\n\t\tvar position = this.css( \"position\" ),\n\t\t\texcludeStaticParent = position === \"absolute\",\n\t\t\toverflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,\n\t\t\tscrollParent = this.parents().filter( function() {\n\t\t\t\tvar parent = $( this );\n\t\t\t\tif ( excludeStaticParent && parent.css( \"position\" ) === \"static\" ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn overflowRegex.test( parent.css( \"overflow\" ) + parent.css( \"overflow-y\" ) + parent.css( \"overflow-x\" ) );\n\t\t\t}).eq( 0 );\n\n\t\treturn position === \"fixed\" || !scrollParent.length ? $( this[ 0 ].ownerDocument || document ) : scrollParent;\n\t},\n\n\tuniqueId: (function() {\n\t\tvar uuid = 0;\n\n\t\treturn function() {\n\t\t\treturn this.each(function() {\n\t\t\t\tif ( !this.id ) {\n\t\t\t\t\tthis.id = \"ui-id-\" + ( ++uuid );\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t})(),\n\n\tremoveUniqueId: function() {\n\t\treturn this.each(function() {\n\t\t\tif ( /^ui-id-\\d+$/.test( this.id ) ) {\n\t\t\t\t$( this ).removeAttr( \"id\" );\n\t\t\t}\n\t\t});\n\t}\n});\n\n// selectors\nfunction focusable( element, isTabIndexNotNaN ) {\n\tvar map, mapName, img,\n\t\tnodeName = element.nodeName.toLowerCase();\n\tif ( \"area\" === nodeName ) {\n\t\tmap = element.parentNode;\n\t\tmapName = map.name;\n\t\tif ( !element.href || !mapName || map.nodeName.toLowerCase() !== \"map\" ) {\n\t\t\treturn false;\n\t\t}\n\t\timg = $( \"img[usemap='#\" + mapName + \"']\" )[ 0 ];\n\t\treturn !!img && visible( img );\n\t}\n\treturn ( /^(input|select|textarea|button|object)$/.test( nodeName ) ?\n\t\t!element.disabled :\n\t\t\"a\" === nodeName ?\n\t\t\telement.href || isTabIndexNotNaN :\n\t\t\tisTabIndexNotNaN) &&\n\t\t// the element and all of its ancestors must be visible\n\t\tvisible( element );\n}\n\nfunction visible( element ) {\n\treturn $.expr.filters.visible( element ) &&\n\t\t!$( element ).parents().addBack().filter(function() {\n\t\t\treturn $.css( this, \"visibility\" ) === \"hidden\";\n\t\t}).length;\n}\n\n$.extend( $.expr[ \":\" ], {\n\tdata: $.expr.createPseudo ?\n\t\t$.expr.createPseudo(function( dataName ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn !!$.data( elem, dataName );\n\t\t\t};\n\t\t}) :\n\t\t// support: jQuery <1.8\n\t\tfunction( elem, i, match ) {\n\t\t\treturn !!$.data( elem, match[ 3 ] );\n\t\t},\n\n\tfocusable: function( element ) {\n\t\treturn focusable( element, !isNaN( $.attr( element, \"tabindex\" ) ) );\n\t},\n\n\ttabbable: function( element ) {\n\t\tvar tabIndex = $.attr( element, \"tabindex\" ),\n\t\t\tisTabIndexNaN = isNaN( tabIndex );\n\t\treturn ( isTabIndexNaN || tabIndex >= 0 ) && focusable( element, !isTabIndexNaN );\n\t}\n});\n\n// support: jQuery <1.8\nif ( !$( \"<a>\" ).outerWidth( 1 ).jquery ) {\n\t$.each( [ \"Width\", \"Height\" ], function( i, name ) {\n\t\tvar side = name === \"Width\" ? [ \"Left\", \"Right\" ] : [ \"Top\", \"Bottom\" ],\n\t\t\ttype = name.toLowerCase(),\n\t\t\torig = {\n\t\t\t\tinnerWidth: $.fn.innerWidth,\n\t\t\t\tinnerHeight: $.fn.innerHeight,\n\t\t\t\touterWidth: $.fn.outerWidth,\n\t\t\t\touterHeight: $.fn.outerHeight\n\t\t\t};\n\n\t\tfunction reduce( elem, size, border, margin ) {\n\t\t\t$.each( side, function() {\n\t\t\t\tsize -= parseFloat( $.css( elem, \"padding\" + this ) ) || 0;\n\t\t\t\tif ( border ) {\n\t\t\t\t\tsize -= parseFloat( $.css( elem, \"border\" + this + \"Width\" ) ) || 0;\n\t\t\t\t}\n\t\t\t\tif ( margin ) {\n\t\t\t\t\tsize -= parseFloat( $.css( elem, \"margin\" + this ) ) || 0;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn size;\n\t\t}\n\n\t\t$.fn[ \"inner\" + name ] = function( size ) {\n\t\t\tif ( size === undefined ) {\n\t\t\t\treturn orig[ \"inner\" + name ].call( this );\n\t\t\t}\n\n\t\t\treturn this.each(function() {\n\t\t\t\t$( this ).css( type, reduce( this, size ) + \"px\" );\n\t\t\t});\n\t\t};\n\n\t\t$.fn[ \"outer\" + name] = function( size, margin ) {\n\t\t\tif ( typeof size !== \"number\" ) {\n\t\t\t\treturn orig[ \"outer\" + name ].call( this, size );\n\t\t\t}\n\n\t\t\treturn this.each(function() {\n\t\t\t\t$( this).css( type, reduce( this, size, true, margin ) + \"px\" );\n\t\t\t});\n\t\t};\n\t});\n}\n\n// support: jQuery <1.8\nif ( !$.fn.addBack ) {\n\t$.fn.addBack = function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t};\n}\n\n// support: jQuery 1.6.1, 1.6.2 (http://bugs.jquery.com/ticket/9413)\nif ( $( \"<a>\" ).data( \"a-b\", \"a\" ).removeData( \"a-b\" ).data( \"a-b\" ) ) {\n\t$.fn.removeData = (function( removeData ) {\n\t\treturn function( key ) {\n\t\t\tif ( arguments.length ) {\n\t\t\t\treturn removeData.call( this, $.camelCase( key ) );\n\t\t\t} else {\n\t\t\t\treturn removeData.call( this );\n\t\t\t}\n\t\t};\n\t})( $.fn.removeData );\n}\n\n// deprecated\n$.ui.ie = !!/msie [\\w.]+/.exec( navigator.userAgent.toLowerCase() );\n\n$.fn.extend({\n\tfocus: (function( orig ) {\n\t\treturn function( delay, fn ) {\n\t\t\treturn typeof delay === \"number\" ?\n\t\t\t\tthis.each(function() {\n\t\t\t\t\tvar elem = this;\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t$( elem ).focus();\n\t\t\t\t\t\tif ( fn ) {\n\t\t\t\t\t\t\tfn.call( elem );\n\t\t\t\t\t\t}\n\t\t\t\t\t}, delay );\n\t\t\t\t}) :\n\t\t\t\torig.apply( this, arguments );\n\t\t};\n\t})( $.fn.focus ),\n\n\tdisableSelection: (function() {\n\t\tvar eventType = \"onselectstart\" in document.createElement( \"div\" ) ?\n\t\t\t\"selectstart\" :\n\t\t\t\"mousedown\";\n\n\t\treturn function() {\n\t\t\treturn this.bind( eventType + \".ui-disableSelection\", function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t});\n\t\t};\n\t})(),\n\n\tenableSelection: function() {\n\t\treturn this.unbind( \".ui-disableSelection\" );\n\t},\n\n\tzIndex: function( zIndex ) {\n\t\tif ( zIndex !== undefined ) {\n\t\t\treturn this.css( \"zIndex\", zIndex );\n\t\t}\n\n\t\tif ( this.length ) {\n\t\t\tvar elem = $( this[ 0 ] ), position, value;\n\t\t\twhile ( elem.length && elem[ 0 ] !== document ) {\n\t\t\t\t// Ignore z-index if position is set to a value where z-index is ignored by the browser\n\t\t\t\t// This makes behavior of this function consistent across browsers\n\t\t\t\t// WebKit always returns auto if the element is positioned\n\t\t\t\tposition = elem.css( \"position\" );\n\t\t\t\tif ( position === \"absolute\" || position === \"relative\" || position === \"fixed\" ) {\n\t\t\t\t\t// IE returns 0 when zIndex is not specified\n\t\t\t\t\t// other browsers return a string\n\t\t\t\t\t// we ignore the case of nested elements with an explicit value of 0\n\t\t\t\t\t// <div style=\"z-index: -10;\"><div style=\"z-index: 0;\"></div></div>\n\t\t\t\t\tvalue = parseInt( elem.css( \"zIndex\" ), 10 );\n\t\t\t\t\tif ( !isNaN( value ) && value !== 0 ) {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telem = elem.parent();\n\t\t\t}\n\t\t}\n\n\t\treturn 0;\n\t}\n});\n\n// $.ui.plugin is deprecated. Use $.widget() extensions instead.\n$.ui.plugin = {\n\tadd: function( module, option, set ) {\n\t\tvar i,\n\t\t\tproto = $.ui[ module ].prototype;\n\t\tfor ( i in set ) {\n\t\t\tproto.plugins[ i ] = proto.plugins[ i ] || [];\n\t\t\tproto.plugins[ i ].push( [ option, set[ i ] ] );\n\t\t}\n\t},\n\tcall: function( instance, name, args, allowDisconnected ) {\n\t\tvar i,\n\t\t\tset = instance.plugins[ name ];\n\n\t\tif ( !set ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !allowDisconnected && ( !instance.element[ 0 ].parentNode || instance.element[ 0 ].parentNode.nodeType === 11 ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor ( i = 0; i < set.length; i++ ) {\n\t\t\tif ( instance.options[ set[ i ][ 0 ] ] ) {\n\t\t\t\tset[ i ][ 1 ].apply( instance.element, args );\n\t\t\t}\n\t\t}\n\t}\n};\n\n\n/*!\n * jQuery UI Widget 1.11.4\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/jQuery.widget/\n */\n\n\nvar widget_uuid = 0,\n\twidget_slice = Array.prototype.slice;\n\n$.cleanData = (function( orig ) {\n\treturn function( elems ) {\n\t\tvar events, elem, i;\n\t\tfor ( i = 0; (elem = elems[i]) != null; i++ ) {\n\t\t\ttry {\n\n\t\t\t\t// Only trigger remove when necessary to save time\n\t\t\t\tevents = $._data( elem, \"events\" );\n\t\t\t\tif ( events && events.remove ) {\n\t\t\t\t\t$( elem ).triggerHandler( \"remove\" );\n\t\t\t\t}\n\n\t\t\t// http://bugs.jquery.com/ticket/8235\n\t\t\t} catch ( e ) {}\n\t\t}\n\t\torig( elems );\n\t};\n})( $.cleanData );\n\n$.widget = function( name, base, prototype ) {\n\tvar fullName, existingConstructor, constructor, basePrototype,\n\t\t// proxiedPrototype allows the provided prototype to remain unmodified\n\t\t// so that it can be used as a mixin for multiple widgets (#8876)\n\t\tproxiedPrototype = {},\n\t\tnamespace = name.split( \".\" )[ 0 ];\n\n\tname = name.split( \".\" )[ 1 ];\n\tfullName = namespace + \"-\" + name;\n\n\tif ( !prototype ) {\n\t\tprototype = base;\n\t\tbase = $.Widget;\n\t}\n\n\t// create selector for plugin\n\t$.expr[ \":\" ][ fullName.toLowerCase() ] = function( elem ) {\n\t\treturn !!$.data( elem, fullName );\n\t};\n\n\t$[ namespace ] = $[ namespace ] || {};\n\texistingConstructor = $[ namespace ][ name ];\n\tconstructor = $[ namespace ][ name ] = function( options, element ) {\n\t\t// allow instantiation without \"new\" keyword\n\t\tif ( !this._createWidget ) {\n\t\t\treturn new constructor( options, element );\n\t\t}\n\n\t\t// allow instantiation without initializing for simple inheritance\n\t\t// must use \"new\" keyword (the code above always passes args)\n\t\tif ( arguments.length ) {\n\t\t\tthis._createWidget( options, element );\n\t\t}\n\t};\n\t// extend with the existing constructor to carry over any static properties\n\t$.extend( constructor, existingConstructor, {\n\t\tversion: prototype.version,\n\t\t// copy the object used to create the prototype in case we need to\n\t\t// redefine the widget later\n\t\t_proto: $.extend( {}, prototype ),\n\t\t// track widgets that inherit from this widget in case this widget is\n\t\t// redefined after a widget inherits from it\n\t\t_childConstructors: []\n\t});\n\n\tbasePrototype = new base();\n\t// we need to make the options hash a property directly on the new instance\n\t// otherwise we'll modify the options hash on the prototype that we're\n\t// inheriting from\n\tbasePrototype.options = $.widget.extend( {}, basePrototype.options );\n\t$.each( prototype, function( prop, value ) {\n\t\tif ( !$.isFunction( value ) ) {\n\t\t\tproxiedPrototype[ prop ] = value;\n\t\t\treturn;\n\t\t}\n\t\tproxiedPrototype[ prop ] = (function() {\n\t\t\tvar _super = function() {\n\t\t\t\t\treturn base.prototype[ prop ].apply( this, arguments );\n\t\t\t\t},\n\t\t\t\t_superApply = function( args ) {\n\t\t\t\t\treturn base.prototype[ prop ].apply( this, args );\n\t\t\t\t};\n\t\t\treturn function() {\n\t\t\t\tvar __super = this._super,\n\t\t\t\t\t__superApply = this._superApply,\n\t\t\t\t\treturnValue;\n\n\t\t\t\tthis._super = _super;\n\t\t\t\tthis._superApply = _superApply;\n\n\t\t\t\treturnValue = value.apply( this, arguments );\n\n\t\t\t\tthis._super = __super;\n\t\t\t\tthis._superApply = __superApply;\n\n\t\t\t\treturn returnValue;\n\t\t\t};\n\t\t})();\n\t});\n\tconstructor.prototype = $.widget.extend( basePrototype, {\n\t\t// TODO: remove support for widgetEventPrefix\n\t\t// always use the name + a colon as the prefix, e.g., draggable:start\n\t\t// don't prefix for widgets that aren't DOM-based\n\t\twidgetEventPrefix: existingConstructor ? (basePrototype.widgetEventPrefix || name) : name\n\t}, proxiedPrototype, {\n\t\tconstructor: constructor,\n\t\tnamespace: namespace,\n\t\twidgetName: name,\n\t\twidgetFullName: fullName\n\t});\n\n\t// If this widget is being redefined then we need to find all widgets that\n\t// are inheriting from it and redefine all of them so that they inherit from\n\t// the new version of this widget. We're essentially trying to replace one\n\t// level in the prototype chain.\n\tif ( existingConstructor ) {\n\t\t$.each( existingConstructor._childConstructors, function( i, child ) {\n\t\t\tvar childPrototype = child.prototype;\n\n\t\t\t// redefine the child widget using the same prototype that was\n\t\t\t// originally used, but inherit from the new version of the base\n\t\t\t$.widget( childPrototype.namespace + \".\" + childPrototype.widgetName, constructor, child._proto );\n\t\t});\n\t\t// remove the list of existing child constructors from the old constructor\n\t\t// so the old child constructors can be garbage collected\n\t\tdelete existingConstructor._childConstructors;\n\t} else {\n\t\tbase._childConstructors.push( constructor );\n\t}\n\n\t$.widget.bridge( name, constructor );\n\n\treturn constructor;\n};\n\n$.widget.extend = function( target ) {\n\tvar input = widget_slice.call( arguments, 1 ),\n\t\tinputIndex = 0,\n\t\tinputLength = input.length,\n\t\tkey,\n\t\tvalue;\n\tfor ( ; inputIndex < inputLength; inputIndex++ ) {\n\t\tfor ( key in input[ inputIndex ] ) {\n\t\t\tvalue = input[ inputIndex ][ key ];\n\t\t\tif ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {\n\t\t\t\t// Clone objects\n\t\t\t\tif ( $.isPlainObject( value ) ) {\n\t\t\t\t\ttarget[ key ] = $.isPlainObject( target[ key ] ) ?\n\t\t\t\t\t\t$.widget.extend( {}, target[ key ], value ) :\n\t\t\t\t\t\t// Don't extend strings, arrays, etc. with objects\n\t\t\t\t\t\t$.widget.extend( {}, value );\n\t\t\t\t// Copy everything else by reference\n\t\t\t\t} else {\n\t\t\t\t\ttarget[ key ] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn target;\n};\n\n$.widget.bridge = function( name, object ) {\n\tvar fullName = object.prototype.widgetFullName || name;\n\t$.fn[ name ] = function( options ) {\n\t\tvar isMethodCall = typeof options === \"string\",\n\t\t\targs = widget_slice.call( arguments, 1 ),\n\t\t\treturnValue = this;\n\n\t\tif ( isMethodCall ) {\n\t\t\tthis.each(function() {\n\t\t\t\tvar methodValue,\n\t\t\t\t\tinstance = $.data( this, fullName );\n\t\t\t\tif ( options === \"instance\" ) {\n\t\t\t\t\treturnValue = instance;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif ( !instance ) {\n\t\t\t\t\treturn $.error( \"cannot call methods on \" + name + \" prior to initialization; \" +\n\t\t\t\t\t\t\"attempted to call method '\" + options + \"'\" );\n\t\t\t\t}\n\t\t\t\tif ( !$.isFunction( instance[options] ) || options.charAt( 0 ) === \"_\" ) {\n\t\t\t\t\treturn $.error( \"no such method '\" + options + \"' for \" + name + \" widget instance\" );\n\t\t\t\t}\n\t\t\t\tmethodValue = instance[ options ].apply( instance, args );\n\t\t\t\tif ( methodValue !== instance && methodValue !== undefined ) {\n\t\t\t\t\treturnValue = methodValue && methodValue.jquery ?\n\t\t\t\t\t\treturnValue.pushStack( methodValue.get() ) :\n\t\t\t\t\t\tmethodValue;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\n\t\t\t// Allow multiple hashes to be passed on init\n\t\t\tif ( args.length ) {\n\t\t\t\toptions = $.widget.extend.apply( null, [ options ].concat(args) );\n\t\t\t}\n\n\t\t\tthis.each(function() {\n\t\t\t\tvar instance = $.data( this, fullName );\n\t\t\t\tif ( instance ) {\n\t\t\t\t\tinstance.option( options || {} );\n\t\t\t\t\tif ( instance._init ) {\n\t\t\t\t\t\tinstance._init();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$.data( this, fullName, new object( options, this ) );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn returnValue;\n\t};\n};\n\n$.Widget = function( /* options, element */ ) {};\n$.Widget._childConstructors = [];\n\n$.Widget.prototype = {\n\twidgetName: \"widget\",\n\twidgetEventPrefix: \"\",\n\tdefaultElement: \"<div>\",\n\toptions: {\n\t\tdisabled: false,\n\n\t\t// callbacks\n\t\tcreate: null\n\t},\n\t_createWidget: function( options, element ) {\n\t\telement = $( element || this.defaultElement || this )[ 0 ];\n\t\tthis.element = $( element );\n\t\tthis.uuid = widget_uuid++;\n\t\tthis.eventNamespace = \".\" + this.widgetName + this.uuid;\n\n\t\tthis.bindings = $();\n\t\tthis.hoverable = $();\n\t\tthis.focusable = $();\n\n\t\tif ( element !== this ) {\n\t\t\t$.data( element, this.widgetFullName, this );\n\t\t\tthis._on( true, this.element, {\n\t\t\t\tremove: function( event ) {\n\t\t\t\t\tif ( event.target === element ) {\n\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.document = $( element.style ?\n\t\t\t\t// element within the document\n\t\t\t\telement.ownerDocument :\n\t\t\t\t// element is window or document\n\t\t\t\telement.document || element );\n\t\t\tthis.window = $( this.document[0].defaultView || this.document[0].parentWindow );\n\t\t}\n\n\t\tthis.options = $.widget.extend( {},\n\t\t\tthis.options,\n\t\t\tthis._getCreateOptions(),\n\t\t\toptions );\n\n\t\tthis._create();\n\t\tthis._trigger( \"create\", null, this._getCreateEventData() );\n\t\tthis._init();\n\t},\n\t_getCreateOptions: $.noop,\n\t_getCreateEventData: $.noop,\n\t_create: $.noop,\n\t_init: $.noop,\n\n\tdestroy: function() {\n\t\tthis._destroy();\n\t\t// we can probably remove the unbind calls in 2.0\n\t\t// all event bindings should go through this._on()\n\t\tthis.element\n\t\t\t.unbind( this.eventNamespace )\n\t\t\t.removeData( this.widgetFullName )\n\t\t\t// support: jquery <1.6.3\n\t\t\t// http://bugs.jquery.com/ticket/9413\n\t\t\t.removeData( $.camelCase( this.widgetFullName ) );\n\t\tthis.widget()\n\t\t\t.unbind( this.eventNamespace )\n\t\t\t.removeAttr( \"aria-disabled\" )\n\t\t\t.removeClass(\n\t\t\t\tthis.widgetFullName + \"-disabled \" +\n\t\t\t\t\"ui-state-disabled\" );\n\n\t\t// clean up events and states\n\t\tthis.bindings.unbind( this.eventNamespace );\n\t\tthis.hoverable.removeClass( \"ui-state-hover\" );\n\t\tthis.focusable.removeClass( \"ui-state-focus\" );\n\t},\n\t_destroy: $.noop,\n\n\twidget: function() {\n\t\treturn this.element;\n\t},\n\n\toption: function( key, value ) {\n\t\tvar options = key,\n\t\t\tparts,\n\t\t\tcurOption,\n\t\t\ti;\n\n\t\tif ( arguments.length === 0 ) {\n\t\t\t// don't return a reference to the internal hash\n\t\t\treturn $.widget.extend( {}, this.options );\n\t\t}\n\n\t\tif ( typeof key === \"string\" ) {\n\t\t\t// handle nested keys, e.g., \"foo.bar\" => { foo: { bar: ___ } }\n\t\t\toptions = {};\n\t\t\tparts = key.split( \".\" );\n\t\t\tkey = parts.shift();\n\t\t\tif ( parts.length ) {\n\t\t\t\tcurOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );\n\t\t\t\tfor ( i = 0; i < parts.length - 1; i++ ) {\n\t\t\t\t\tcurOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};\n\t\t\t\t\tcurOption = curOption[ parts[ i ] ];\n\t\t\t\t}\n\t\t\t\tkey = parts.pop();\n\t\t\t\tif ( arguments.length === 1 ) {\n\t\t\t\t\treturn curOption[ key ] === undefined ? null : curOption[ key ];\n\t\t\t\t}\n\t\t\t\tcurOption[ key ] = value;\n\t\t\t} else {\n\t\t\t\tif ( arguments.length === 1 ) {\n\t\t\t\t\treturn this.options[ key ] === undefined ? null : this.options[ key ];\n\t\t\t\t}\n\t\t\t\toptions[ key ] = value;\n\t\t\t}\n\t\t}\n\n\t\tthis._setOptions( options );\n\n\t\treturn this;\n\t},\n\t_setOptions: function( options ) {\n\t\tvar key;\n\n\t\tfor ( key in options ) {\n\t\t\tthis._setOption( key, options[ key ] );\n\t\t}\n\n\t\treturn this;\n\t},\n\t_setOption: function( key, value ) {\n\t\tthis.options[ key ] = value;\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis.widget()\n\t\t\t\t.toggleClass( this.widgetFullName + \"-disabled\", !!value );\n\n\t\t\t// If the widget is becoming disabled, then nothing is interactive\n\t\t\tif ( value ) {\n\t\t\t\tthis.hoverable.removeClass( \"ui-state-hover\" );\n\t\t\t\tthis.focusable.removeClass( \"ui-state-focus\" );\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tenable: function() {\n\t\treturn this._setOptions({ disabled: false });\n\t},\n\tdisable: function() {\n\t\treturn this._setOptions({ disabled: true });\n\t},\n\n\t_on: function( suppressDisabledCheck, element, handlers ) {\n\t\tvar delegateElement,\n\t\t\tinstance = this;\n\n\t\t// no suppressDisabledCheck flag, shuffle arguments\n\t\tif ( typeof suppressDisabledCheck !== \"boolean\" ) {\n\t\t\thandlers = element;\n\t\t\telement = suppressDisabledCheck;\n\t\t\tsuppressDisabledCheck = false;\n\t\t}\n\n\t\t// no element argument, shuffle and use this.element\n\t\tif ( !handlers ) {\n\t\t\thandlers = element;\n\t\t\telement = this.element;\n\t\t\tdelegateElement = this.widget();\n\t\t} else {\n\t\t\telement = delegateElement = $( element );\n\t\t\tthis.bindings = this.bindings.add( element );\n\t\t}\n\n\t\t$.each( handlers, function( event, handler ) {\n\t\t\tfunction handlerProxy() {\n\t\t\t\t// allow widgets to customize the disabled handling\n\t\t\t\t// - disabled as an array instead of boolean\n\t\t\t\t// - disabled class as method for disabling individual parts\n\t\t\t\tif ( !suppressDisabledCheck &&\n\t\t\t\t\t\t( instance.options.disabled === true ||\n\t\t\t\t\t\t\t$( this ).hasClass( \"ui-state-disabled\" ) ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t\t.apply( instance, arguments );\n\t\t\t}\n\n\t\t\t// copy the guid so direct unbinding works\n\t\t\tif ( typeof handler !== \"string\" ) {\n\t\t\t\thandlerProxy.guid = handler.guid =\n\t\t\t\t\thandler.guid || handlerProxy.guid || $.guid++;\n\t\t\t}\n\n\t\t\tvar match = event.match( /^([\\w:-]*)\\s*(.*)$/ ),\n\t\t\t\teventName = match[1] + instance.eventNamespace,\n\t\t\t\tselector = match[2];\n\t\t\tif ( selector ) {\n\t\t\t\tdelegateElement.delegate( selector, eventName, handlerProxy );\n\t\t\t} else {\n\t\t\t\telement.bind( eventName, handlerProxy );\n\t\t\t}\n\t\t});\n\t},\n\n\t_off: function( element, eventName ) {\n\t\teventName = (eventName || \"\").split( \" \" ).join( this.eventNamespace + \" \" ) +\n\t\t\tthis.eventNamespace;\n\t\telement.unbind( eventName ).undelegate( eventName );\n\n\t\t// Clear the stack to avoid memory leaks (#10056)\n\t\tthis.bindings = $( this.bindings.not( element ).get() );\n\t\tthis.focusable = $( this.focusable.not( element ).get() );\n\t\tthis.hoverable = $( this.hoverable.not( element ).get() );\n\t},\n\n\t_delay: function( handler, delay ) {\n\t\tfunction handlerProxy() {\n\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t.apply( instance, arguments );\n\t\t}\n\t\tvar instance = this;\n\t\treturn setTimeout( handlerProxy, delay || 0 );\n\t},\n\n\t_hoverable: function( element ) {\n\t\tthis.hoverable = this.hoverable.add( element );\n\t\tthis._on( element, {\n\t\t\tmouseenter: function( event ) {\n\t\t\t\t$( event.currentTarget ).addClass( \"ui-state-hover\" );\n\t\t\t},\n\t\t\tmouseleave: function( event ) {\n\t\t\t\t$( event.currentTarget ).removeClass( \"ui-state-hover\" );\n\t\t\t}\n\t\t});\n\t},\n\n\t_focusable: function( element ) {\n\t\tthis.focusable = this.focusable.add( element );\n\t\tthis._on( element, {\n\t\t\tfocusin: function( event ) {\n\t\t\t\t$( event.currentTarget ).addClass( \"ui-state-focus\" );\n\t\t\t},\n\t\t\tfocusout: function( event ) {\n\t\t\t\t$( event.currentTarget ).removeClass( \"ui-state-focus\" );\n\t\t\t}\n\t\t});\n\t},\n\n\t_trigger: function( type, event, data ) {\n\t\tvar prop, orig,\n\t\t\tcallback = this.options[ type ];\n\n\t\tdata = data || {};\n\t\tevent = $.Event( event );\n\t\tevent.type = ( type === this.widgetEventPrefix ?\n\t\t\ttype :\n\t\t\tthis.widgetEventPrefix + type ).toLowerCase();\n\t\t// the original event may come from any element\n\t\t// so we need to reset the target on the new event\n\t\tevent.target = this.element[ 0 ];\n\n\t\t// copy original event properties over to the new event\n\t\torig = event.originalEvent;\n\t\tif ( orig ) {\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tif ( !( prop in event ) ) {\n\t\t\t\t\tevent[ prop ] = orig[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.element.trigger( event, data );\n\t\treturn !( $.isFunction( callback ) &&\n\t\t\tcallback.apply( this.element[0], [ event ].concat( data ) ) === false ||\n\t\t\tevent.isDefaultPrevented() );\n\t}\n};\n\n$.each( { show: \"fadeIn\", hide: \"fadeOut\" }, function( method, defaultEffect ) {\n\t$.Widget.prototype[ \"_\" + method ] = function( element, options, callback ) {\n\t\tif ( typeof options === \"string\" ) {\n\t\t\toptions = { effect: options };\n\t\t}\n\t\tvar hasOptions,\n\t\t\teffectName = !options ?\n\t\t\t\tmethod :\n\t\t\t\toptions === true || typeof options === \"number\" ?\n\t\t\t\t\tdefaultEffect :\n\t\t\t\t\toptions.effect || defaultEffect;\n\t\toptions = options || {};\n\t\tif ( typeof options === \"number\" ) {\n\t\t\toptions = { duration: options };\n\t\t}\n\t\thasOptions = !$.isEmptyObject( options );\n\t\toptions.complete = callback;\n\t\tif ( options.delay ) {\n\t\t\telement.delay( options.delay );\n\t\t}\n\t\tif ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {\n\t\t\telement[ method ]( options );\n\t\t} else if ( effectName !== method && element[ effectName ] ) {\n\t\t\telement[ effectName ]( options.duration, options.easing, callback );\n\t\t} else {\n\t\t\telement.queue(function( next ) {\n\t\t\t\t$( this )[ method ]();\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback.call( element[ 0 ] );\n\t\t\t\t}\n\t\t\t\tnext();\n\t\t\t});\n\t\t}\n\t};\n});\n\nvar widget = $.widget;\n\n\n/*!\n * jQuery UI Position 1.11.4\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/position/\n */\n\n(function() {\n\n$.ui = $.ui || {};\n\nvar cachedScrollbarWidth, supportsOffsetFractions,\n\tmax = Math.max,\n\tabs = Math.abs,\n\tround = Math.round,\n\trhorizontal = /left|center|right/,\n\trvertical = /top|center|bottom/,\n\troffset = /[\\+\\-]\\d+(\\.[\\d]+)?%?/,\n\trposition = /^\\w+/,\n\trpercent = /%$/,\n\t_position = $.fn.position;\n\nfunction getOffsets( offsets, width, height ) {\n\treturn [\n\t\tparseFloat( offsets[ 0 ] ) * ( rpercent.test( offsets[ 0 ] ) ? width / 100 : 1 ),\n\t\tparseFloat( offsets[ 1 ] ) * ( rpercent.test( offsets[ 1 ] ) ? height / 100 : 1 )\n\t];\n}\n\nfunction parseCss( element, property ) {\n\treturn parseInt( $.css( element, property ), 10 ) || 0;\n}\n\nfunction getDimensions( elem ) {\n\tvar raw = elem[0];\n\tif ( raw.nodeType === 9 ) {\n\t\treturn {\n\t\t\twidth: elem.width(),\n\t\t\theight: elem.height(),\n\t\t\toffset: { top: 0, left: 0 }\n\t\t};\n\t}\n\tif ( $.isWindow( raw ) ) {\n\t\treturn {\n\t\t\twidth: elem.width(),\n\t\t\theight: elem.height(),\n\t\t\toffset: { top: elem.scrollTop(), left: elem.scrollLeft() }\n\t\t};\n\t}\n\tif ( raw.preventDefault ) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t\toffset: { top: raw.pageY, left: raw.pageX }\n\t\t};\n\t}\n\treturn {\n\t\twidth: elem.outerWidth(),\n\t\theight: elem.outerHeight(),\n\t\toffset: elem.offset()\n\t};\n}\n\n$.position = {\n\tscrollbarWidth: function() {\n\t\tif ( cachedScrollbarWidth !== undefined ) {\n\t\t\treturn cachedScrollbarWidth;\n\t\t}\n\t\tvar w1, w2,\n\t\t\tdiv = $( \"<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>\" ),\n\t\t\tinnerDiv = div.children()[0];\n\n\t\t$( \"body\" ).append( div );\n\t\tw1 = innerDiv.offsetWidth;\n\t\tdiv.css( \"overflow\", \"scroll\" );\n\n\t\tw2 = innerDiv.offsetWidth;\n\n\t\tif ( w1 === w2 ) {\n\t\t\tw2 = div[0].clientWidth;\n\t\t}\n\n\t\tdiv.remove();\n\n\t\treturn (cachedScrollbarWidth = w1 - w2);\n\t},\n\tgetScrollInfo: function( within ) {\n\t\tvar overflowX = within.isWindow || within.isDocument ? \"\" :\n\t\t\t\twithin.element.css( \"overflow-x\" ),\n\t\t\toverflowY = within.isWindow || within.isDocument ? \"\" :\n\t\t\t\twithin.element.css( \"overflow-y\" ),\n\t\t\thasOverflowX = overflowX === \"scroll\" ||\n\t\t\t\t( overflowX === \"auto\" && within.width < within.element[0].scrollWidth ),\n\t\t\thasOverflowY = overflowY === \"scroll\" ||\n\t\t\t\t( overflowY === \"auto\" && within.height < within.element[0].scrollHeight );\n\t\treturn {\n\t\t\twidth: hasOverflowY ? $.position.scrollbarWidth() : 0,\n\t\t\theight: hasOverflowX ? $.position.scrollbarWidth() : 0\n\t\t};\n\t},\n\tgetWithinInfo: function( element ) {\n\t\tvar withinElement = $( element || window ),\n\t\t\tisWindow = $.isWindow( withinElement[0] ),\n\t\t\tisDocument = !!withinElement[ 0 ] && withinElement[ 0 ].nodeType === 9;\n\t\treturn {\n\t\t\telement: withinElement,\n\t\t\tisWindow: isWindow,\n\t\t\tisDocument: isDocument,\n\t\t\toffset: withinElement.offset() || { left: 0, top: 0 },\n\t\t\tscrollLeft: withinElement.scrollLeft(),\n\t\t\tscrollTop: withinElement.scrollTop(),\n\n\t\t\t// support: jQuery 1.6.x\n\t\t\t// jQuery 1.6 doesn't support .outerWidth/Height() on documents or windows\n\t\t\twidth: isWindow || isDocument ? withinElement.width() : withinElement.outerWidth(),\n\t\t\theight: isWindow || isDocument ? withinElement.height() : withinElement.outerHeight()\n\t\t};\n\t}\n};\n\n$.fn.position = function( options ) {\n\tif ( !options || !options.of ) {\n\t\treturn _position.apply( this, arguments );\n\t}\n\n\t// make a copy, we don't want to modify arguments\n\toptions = $.extend( {}, options );\n\n\tvar atOffset, targetWidth, targetHeight, targetOffset, basePosition, dimensions,\n\t\ttarget = $( options.of ),\n\t\twithin = $.position.getWithinInfo( options.within ),\n\t\tscrollInfo = $.position.getScrollInfo( within ),\n\t\tcollision = ( options.collision || \"flip\" ).split( \" \" ),\n\t\toffsets = {};\n\n\tdimensions = getDimensions( target );\n\tif ( target[0].preventDefault ) {\n\t\t// force left top to allow flipping\n\t\toptions.at = \"left top\";\n\t}\n\ttargetWidth = dimensions.width;\n\ttargetHeight = dimensions.height;\n\ttargetOffset = dimensions.offset;\n\t// clone to reuse original targetOffset later\n\tbasePosition = $.extend( {}, targetOffset );\n\n\t// force my and at to have valid horizontal and vertical positions\n\t// if a value is missing or invalid, it will be converted to center\n\t$.each( [ \"my\", \"at\" ], function() {\n\t\tvar pos = ( options[ this ] || \"\" ).split( \" \" ),\n\t\t\thorizontalOffset,\n\t\t\tverticalOffset;\n\n\t\tif ( pos.length === 1) {\n\t\t\tpos = rhorizontal.test( pos[ 0 ] ) ?\n\t\t\t\tpos.concat( [ \"center\" ] ) :\n\t\t\t\trvertical.test( pos[ 0 ] ) ?\n\t\t\t\t\t[ \"center\" ].concat( pos ) :\n\t\t\t\t\t[ \"center\", \"center\" ];\n\t\t}\n\t\tpos[ 0 ] = rhorizontal.test( pos[ 0 ] ) ? pos[ 0 ] : \"center\";\n\t\tpos[ 1 ] = rvertical.test( pos[ 1 ] ) ? pos[ 1 ] : \"center\";\n\n\t\t// calculate offsets\n\t\thorizontalOffset = roffset.exec( pos[ 0 ] );\n\t\tverticalOffset = roffset.exec( pos[ 1 ] );\n\t\toffsets[ this ] = [\n\t\t\thorizontalOffset ? horizontalOffset[ 0 ] : 0,\n\t\t\tverticalOffset ? verticalOffset[ 0 ] : 0\n\t\t];\n\n\t\t// reduce to just the positions without the offsets\n\t\toptions[ this ] = [\n\t\t\trposition.exec( pos[ 0 ] )[ 0 ],\n\t\t\trposition.exec( pos[ 1 ] )[ 0 ]\n\t\t];\n\t});\n\n\t// normalize collision option\n\tif ( collision.length === 1 ) {\n\t\tcollision[ 1 ] = collision[ 0 ];\n\t}\n\n\tif ( options.at[ 0 ] === \"right\" ) {\n\t\tbasePosition.left += targetWidth;\n\t} else if ( options.at[ 0 ] === \"center\" ) {\n\t\tbasePosition.left += targetWidth / 2;\n\t}\n\n\tif ( options.at[ 1 ] === \"bottom\" ) {\n\t\tbasePosition.top += targetHeight;\n\t} else if ( options.at[ 1 ] === \"center\" ) {\n\t\tbasePosition.top += targetHeight / 2;\n\t}\n\n\tatOffset = getOffsets( offsets.at, targetWidth, targetHeight );\n\tbasePosition.left += atOffset[ 0 ];\n\tbasePosition.top += atOffset[ 1 ];\n\n\treturn this.each(function() {\n\t\tvar collisionPosition, using,\n\t\t\telem = $( this ),\n\t\t\telemWidth = elem.outerWidth(),\n\t\t\telemHeight = elem.outerHeight(),\n\t\t\tmarginLeft = parseCss( this, \"marginLeft\" ),\n\t\t\tmarginTop = parseCss( this, \"marginTop\" ),\n\t\t\tcollisionWidth = elemWidth + marginLeft + parseCss( this, \"marginRight\" ) + scrollInfo.width,\n\t\t\tcollisionHeight = elemHeight + marginTop + parseCss( this, \"marginBottom\" ) + scrollInfo.height,\n\t\t\tposition = $.extend( {}, basePosition ),\n\t\t\tmyOffset = getOffsets( offsets.my, elem.outerWidth(), elem.outerHeight() );\n\n\t\tif ( options.my[ 0 ] === \"right\" ) {\n\t\t\tposition.left -= elemWidth;\n\t\t} else if ( options.my[ 0 ] === \"center\" ) {\n\t\t\tposition.left -= elemWidth / 2;\n\t\t}\n\n\t\tif ( options.my[ 1 ] === \"bottom\" ) {\n\t\t\tposition.top -= elemHeight;\n\t\t} else if ( options.my[ 1 ] === \"center\" ) {\n\t\t\tposition.top -= elemHeight / 2;\n\t\t}\n\n\t\tposition.left += myOffset[ 0 ];\n\t\tposition.top += myOffset[ 1 ];\n\n\t\t// if the browser doesn't support fractions, then round for consistent results\n\t\tif ( !supportsOffsetFractions ) {\n\t\t\tposition.left = round( position.left );\n\t\t\tposition.top = round( position.top );\n\t\t}\n\n\t\tcollisionPosition = {\n\t\t\tmarginLeft: marginLeft,\n\t\t\tmarginTop: marginTop\n\t\t};\n\n\t\t$.each( [ \"left\", \"top\" ], function( i, dir ) {\n\t\t\tif ( $.ui.position[ collision[ i ] ] ) {\n\t\t\t\t$.ui.position[ collision[ i ] ][ dir ]( position, {\n\t\t\t\t\ttargetWidth: targetWidth,\n\t\t\t\t\ttargetHeight: targetHeight,\n\t\t\t\t\telemWidth: elemWidth,\n\t\t\t\t\telemHeight: elemHeight,\n\t\t\t\t\tcollisionPosition: collisionPosition,\n\t\t\t\t\tcollisionWidth: collisionWidth,\n\t\t\t\t\tcollisionHeight: collisionHeight,\n\t\t\t\t\toffset: [ atOffset[ 0 ] + myOffset[ 0 ], atOffset [ 1 ] + myOffset[ 1 ] ],\n\t\t\t\t\tmy: options.my,\n\t\t\t\t\tat: options.at,\n\t\t\t\t\twithin: within,\n\t\t\t\t\telem: elem\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tif ( options.using ) {\n\t\t\t// adds feedback as second argument to using callback, if present\n\t\t\tusing = function( props ) {\n\t\t\t\tvar left = targetOffset.left - position.left,\n\t\t\t\t\tright = left + targetWidth - elemWidth,\n\t\t\t\t\ttop = targetOffset.top - position.top,\n\t\t\t\t\tbottom = top + targetHeight - elemHeight,\n\t\t\t\t\tfeedback = {\n\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\telement: target,\n\t\t\t\t\t\t\tleft: targetOffset.left,\n\t\t\t\t\t\t\ttop: targetOffset.top,\n\t\t\t\t\t\t\twidth: targetWidth,\n\t\t\t\t\t\t\theight: targetHeight\n\t\t\t\t\t\t},\n\t\t\t\t\t\telement: {\n\t\t\t\t\t\t\telement: elem,\n\t\t\t\t\t\t\tleft: position.left,\n\t\t\t\t\t\t\ttop: position.top,\n\t\t\t\t\t\t\twidth: elemWidth,\n\t\t\t\t\t\t\theight: elemHeight\n\t\t\t\t\t\t},\n\t\t\t\t\t\thorizontal: right < 0 ? \"left\" : left > 0 ? \"right\" : \"center\",\n\t\t\t\t\t\tvertical: bottom < 0 ? \"top\" : top > 0 ? \"bottom\" : \"middle\"\n\t\t\t\t\t};\n\t\t\t\tif ( targetWidth < elemWidth && abs( left + right ) < targetWidth ) {\n\t\t\t\t\tfeedback.horizontal = \"center\";\n\t\t\t\t}\n\t\t\t\tif ( targetHeight < elemHeight && abs( top + bottom ) < targetHeight ) {\n\t\t\t\t\tfeedback.vertical = \"middle\";\n\t\t\t\t}\n\t\t\t\tif ( max( abs( left ), abs( right ) ) > max( abs( top ), abs( bottom ) ) ) {\n\t\t\t\t\tfeedback.important = \"horizontal\";\n\t\t\t\t} else {\n\t\t\t\t\tfeedback.important = \"vertical\";\n\t\t\t\t}\n\t\t\t\toptions.using.call( this, props, feedback );\n\t\t\t};\n\t\t}\n\n\t\telem.offset( $.extend( position, { using: using } ) );\n\t});\n};\n\n$.ui.position = {\n\tfit: {\n\t\tleft: function( position, data ) {\n\t\t\tvar within = data.within,\n\t\t\t\twithinOffset = within.isWindow ? within.scrollLeft : within.offset.left,\n\t\t\t\touterWidth = within.width,\n\t\t\t\tcollisionPosLeft = position.left - data.collisionPosition.marginLeft,\n\t\t\t\toverLeft = withinOffset - collisionPosLeft,\n\t\t\t\toverRight = collisionPosLeft + data.collisionWidth - outerWidth - withinOffset,\n\t\t\t\tnewOverRight;\n\n\t\t\t// element is wider than within\n\t\t\tif ( data.collisionWidth > outerWidth ) {\n\t\t\t\t// element is initially over the left side of within\n\t\t\t\tif ( overLeft > 0 && overRight <= 0 ) {\n\t\t\t\t\tnewOverRight = position.left + overLeft + data.collisionWidth - outerWidth - withinOffset;\n\t\t\t\t\tposition.left += overLeft - newOverRight;\n\t\t\t\t// element is initially over right side of within\n\t\t\t\t} else if ( overRight > 0 && overLeft <= 0 ) {\n\t\t\t\t\tposition.left = withinOffset;\n\t\t\t\t// element is initially over both left and right sides of within\n\t\t\t\t} else {\n\t\t\t\t\tif ( overLeft > overRight ) {\n\t\t\t\t\t\tposition.left = withinOffset + outerWidth - data.collisionWidth;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tposition.left = withinOffset;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t// too far left -> align with left edge\n\t\t\t} else if ( overLeft > 0 ) {\n\t\t\t\tposition.left += overLeft;\n\t\t\t// too far right -> align with right edge\n\t\t\t} else if ( overRight > 0 ) {\n\t\t\t\tposition.left -= overRight;\n\t\t\t// adjust based on position and margin\n\t\t\t} else {\n\t\t\t\tposition.left = max( position.left - collisionPosLeft, position.left );\n\t\t\t}\n\t\t},\n\t\ttop: function( position, data ) {\n\t\t\tvar within = data.within,\n\t\t\t\twithinOffset = within.isWindow ? within.scrollTop : within.offset.top,\n\t\t\t\touterHeight = data.within.height,\n\t\t\t\tcollisionPosTop = position.top - data.collisionPosition.marginTop,\n\t\t\t\toverTop = withinOffset - collisionPosTop,\n\t\t\t\toverBottom = collisionPosTop + data.collisionHeight - outerHeight - withinOffset,\n\t\t\t\tnewOverBottom;\n\n\t\t\t// element is taller than within\n\t\t\tif ( data.collisionHeight > outerHeight ) {\n\t\t\t\t// element is initially over the top of within\n\t\t\t\tif ( overTop > 0 && overBottom <= 0 ) {\n\t\t\t\t\tnewOverBottom = position.top + overTop + data.collisionHeight - outerHeight - withinOffset;\n\t\t\t\t\tposition.top += overTop - newOverBottom;\n\t\t\t\t// element is initially over bottom of within\n\t\t\t\t} else if ( overBottom > 0 && overTop <= 0 ) {\n\t\t\t\t\tposition.top = withinOffset;\n\t\t\t\t// element is initially over both top and bottom of within\n\t\t\t\t} else {\n\t\t\t\t\tif ( overTop > overBottom ) {\n\t\t\t\t\t\tposition.top = withinOffset + outerHeight - data.collisionHeight;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tposition.top = withinOffset;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t// too far up -> align with top\n\t\t\t} else if ( overTop > 0 ) {\n\t\t\t\tposition.top += overTop;\n\t\t\t// too far down -> align with bottom edge\n\t\t\t} else if ( overBottom > 0 ) {\n\t\t\t\tposition.top -= overBottom;\n\t\t\t// adjust based on position and margin\n\t\t\t} else {\n\t\t\t\tposition.top = max( position.top - collisionPosTop, position.top );\n\t\t\t}\n\t\t}\n\t},\n\tflip: {\n\t\tleft: function( position, data ) {\n\t\t\tvar within = data.within,\n\t\t\t\twithinOffset = within.offset.left + within.scrollLeft,\n\t\t\t\touterWidth = within.width,\n\t\t\t\toffsetLeft = within.isWindow ? within.scrollLeft : within.offset.left,\n\t\t\t\tcollisionPosLeft = position.left - data.collisionPosition.marginLeft,\n\t\t\t\toverLeft = collisionPosLeft - offsetLeft,\n\t\t\t\toverRight = collisionPosLeft + data.collisionWidth - outerWidth - offsetLeft,\n\t\t\t\tmyOffset = data.my[ 0 ] === \"left\" ?\n\t\t\t\t\t-data.elemWidth :\n\t\t\t\t\tdata.my[ 0 ] === \"right\" ?\n\t\t\t\t\t\tdata.elemWidth :\n\t\t\t\t\t\t0,\n\t\t\t\tatOffset = data.at[ 0 ] === \"left\" ?\n\t\t\t\t\tdata.targetWidth :\n\t\t\t\t\tdata.at[ 0 ] === \"right\" ?\n\t\t\t\t\t\t-data.targetWidth :\n\t\t\t\t\t\t0,\n\t\t\t\toffset = -2 * data.offset[ 0 ],\n\t\t\t\tnewOverRight,\n\t\t\t\tnewOverLeft;\n\n\t\t\tif ( overLeft < 0 ) {\n\t\t\t\tnewOverRight = position.left + myOffset + atOffset + offset + data.collisionWidth - outerWidth - withinOffset;\n\t\t\t\tif ( newOverRight < 0 || newOverRight < abs( overLeft ) ) {\n\t\t\t\t\tposition.left += myOffset + atOffset + offset;\n\t\t\t\t}\n\t\t\t} else if ( overRight > 0 ) {\n\t\t\t\tnewOverLeft = position.left - data.collisionPosition.marginLeft + myOffset + atOffset + offset - offsetLeft;\n\t\t\t\tif ( newOverLeft > 0 || abs( newOverLeft ) < overRight ) {\n\t\t\t\t\tposition.left += myOffset + atOffset + offset;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttop: function( position, data ) {\n\t\t\tvar within = data.within,\n\t\t\t\twithinOffset = within.offset.top + within.scrollTop,\n\t\t\t\touterHeight = within.height,\n\t\t\t\toffsetTop = within.isWindow ? within.scrollTop : within.offset.top,\n\t\t\t\tcollisionPosTop = position.top - data.collisionPosition.marginTop,\n\t\t\t\toverTop = collisionPosTop - offsetTop,\n\t\t\t\toverBottom = collisionPosTop + data.collisionHeight - outerHeight - offsetTop,\n\t\t\t\ttop = data.my[ 1 ] === \"top\",\n\t\t\t\tmyOffset = top ?\n\t\t\t\t\t-data.elemHeight :\n\t\t\t\t\tdata.my[ 1 ] === \"bottom\" ?\n\t\t\t\t\t\tdata.elemHeight :\n\t\t\t\t\t\t0,\n\t\t\t\tatOffset = data.at[ 1 ] === \"top\" ?\n\t\t\t\t\tdata.targetHeight :\n\t\t\t\t\tdata.at[ 1 ] === \"bottom\" ?\n\t\t\t\t\t\t-data.targetHeight :\n\t\t\t\t\t\t0,\n\t\t\t\toffset = -2 * data.offset[ 1 ],\n\t\t\t\tnewOverTop,\n\t\t\t\tnewOverBottom;\n\t\t\tif ( overTop < 0 ) {\n\t\t\t\tnewOverBottom = position.top + myOffset + atOffset + offset + data.collisionHeight - outerHeight - withinOffset;\n\t\t\t\tif ( newOverBottom < 0 || newOverBottom < abs( overTop ) ) {\n\t\t\t\t\tposition.top += myOffset + atOffset + offset;\n\t\t\t\t}\n\t\t\t} else if ( overBottom > 0 ) {\n\t\t\t\tnewOverTop = position.top - data.collisionPosition.marginTop + myOffset + atOffset + offset - offsetTop;\n\t\t\t\tif ( newOverTop > 0 || abs( newOverTop ) < overBottom ) {\n\t\t\t\t\tposition.top += myOffset + atOffset + offset;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tflipfit: {\n\t\tleft: function() {\n\t\t\t$.ui.position.flip.left.apply( this, arguments );\n\t\t\t$.ui.position.fit.left.apply( this, arguments );\n\t\t},\n\t\ttop: function() {\n\t\t\t$.ui.position.flip.top.apply( this, arguments );\n\t\t\t$.ui.position.fit.top.apply( this, arguments );\n\t\t}\n\t}\n};\n\n// fraction support test\n(function() {\n\tvar testElement, testElementParent, testElementStyle, offsetLeft, i,\n\t\tbody = document.getElementsByTagName( \"body\" )[ 0 ],\n\t\tdiv = document.createElement( \"div\" );\n\n\t//Create a \"fake body\" for testing based on method used in jQuery.support\n\ttestElement = document.createElement( body ? \"div\" : \"body\" );\n\ttestElementStyle = {\n\t\tvisibility: \"hidden\",\n\t\twidth: 0,\n\t\theight: 0,\n\t\tborder: 0,\n\t\tmargin: 0,\n\t\tbackground: \"none\"\n\t};\n\tif ( body ) {\n\t\t$.extend( testElementStyle, {\n\t\t\tposition: \"absolute\",\n\t\t\tleft: \"-1000px\",\n\t\t\ttop: \"-1000px\"\n\t\t});\n\t}\n\tfor ( i in testElementStyle ) {\n\t\ttestElement.style[ i ] = testElementStyle[ i ];\n\t}\n\ttestElement.appendChild( div );\n\ttestElementParent = body || document.documentElement;\n\ttestElementParent.insertBefore( testElement, testElementParent.firstChild );\n\n\tdiv.style.cssText = \"position: absolute; left: 10.7432222px;\";\n\n\toffsetLeft = $( div ).offset().left;\n\tsupportsOffsetFractions = offsetLeft > 10 && offsetLeft < 11;\n\n\ttestElement.innerHTML = \"\";\n\ttestElementParent.removeChild( testElement );\n})();\n\n})();\n\nvar position = $.ui.position;\n\n\n/*!\n * jQuery UI Menu 1.11.4\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/menu/\n */\n\n\nvar menu = $.widget( \"ui.menu\", {\n\tversion: \"1.11.4\",\n\tdefaultElement: \"<ul>\",\n\tdelay: 300,\n\toptions: {\n\t\ticons: {\n\t\t\tsubmenu: \"ui-icon-carat-1-e\"\n\t\t},\n\t\titems: \"> *\",\n\t\tmenus: \"ul\",\n\t\tposition: {\n\t\t\tmy: \"left-1 top\",\n\t\t\tat: \"right top\"\n\t\t},\n\t\trole: \"menu\",\n\n\t\t// callbacks\n\t\tblur: null,\n\t\tfocus: null,\n\t\tselect: null\n\t},\n\n\t_create: function() {\n\t\tthis.activeMenu = this.element;\n\n\t\t// Flag used to prevent firing of the click handler\n\t\t// as the event bubbles up through nested menus\n\t\tthis.mouseHandled = false;\n\t\tthis.element\n\t\t\t.uniqueId()\n\t\t\t.addClass( \"ui-menu ui-widget ui-widget-content\" )\n\t\t\t.toggleClass( \"ui-menu-icons\", !!this.element.find( \".ui-icon\" ).length )\n\t\t\t.attr({\n\t\t\t\trole: this.options.role,\n\t\t\t\ttabIndex: 0\n\t\t\t});\n\n\t\tif ( this.options.disabled ) {\n\t\t\tthis.element\n\t\t\t\t.addClass( \"ui-state-disabled\" )\n\t\t\t\t.attr( \"aria-disabled\", \"true\" );\n\t\t}\n\n\t\tthis._on({\n\t\t\t// Prevent focus from sticking to links inside menu after clicking\n\t\t\t// them (focus should always stay on UL during navigation).\n\t\t\t\"mousedown .ui-menu-item\": function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t},\n\t\t\t\"click .ui-menu-item\": function( event ) {\n\t\t\t\tvar target = $( event.target );\n\t\t\t\tif ( !this.mouseHandled && target.not( \".ui-state-disabled\" ).length ) {\n\t\t\t\t\tthis.select( event );\n\n\t\t\t\t\t// Only set the mouseHandled flag if the event will bubble, see #9469.\n\t\t\t\t\tif ( !event.isPropagationStopped() ) {\n\t\t\t\t\t\tthis.mouseHandled = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Open submenu on click\n\t\t\t\t\tif ( target.has( \".ui-menu\" ).length ) {\n\t\t\t\t\t\tthis.expand( event );\n\t\t\t\t\t} else if ( !this.element.is( \":focus\" ) && $( this.document[ 0 ].activeElement ).closest( \".ui-menu\" ).length ) {\n\n\t\t\t\t\t\t// Redirect focus to the menu\n\t\t\t\t\t\tthis.element.trigger( \"focus\", [ true ] );\n\n\t\t\t\t\t\t// If the active item is on the top level, let it stay active.\n\t\t\t\t\t\t// Otherwise, blur the active item since it is no longer visible.\n\t\t\t\t\t\tif ( this.active && this.active.parents( \".ui-menu\" ).length === 1 ) {\n\t\t\t\t\t\t\tclearTimeout( this.timer );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"mouseenter .ui-menu-item\": function( event ) {\n\t\t\t\t// Ignore mouse events while typeahead is active, see #10458.\n\t\t\t\t// Prevents focusing the wrong item when typeahead causes a scroll while the mouse\n\t\t\t\t// is over an item in the menu\n\t\t\t\tif ( this.previousFilter ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar target = $( event.currentTarget );\n\t\t\t\t// Remove ui-state-active class from siblings of the newly focused menu item\n\t\t\t\t// to avoid a jump caused by adjacent elements both having a class with a border\n\t\t\t\ttarget.siblings( \".ui-state-active\" ).removeClass( \"ui-state-active\" );\n\t\t\t\tthis.focus( event, target );\n\t\t\t},\n\t\t\tmouseleave: \"collapseAll\",\n\t\t\t\"mouseleave .ui-menu\": \"collapseAll\",\n\t\t\tfocus: function( event, keepActiveItem ) {\n\t\t\t\t// If there's already an active item, keep it active\n\t\t\t\t// If not, activate the first item\n\t\t\t\tvar item = this.active || this.element.find( this.options.items ).eq( 0 );\n\n\t\t\t\tif ( !keepActiveItem ) {\n\t\t\t\t\tthis.focus( event, item );\n\t\t\t\t}\n\t\t\t},\n\t\t\tblur: function( event ) {\n\t\t\t\tthis._delay(function() {\n\t\t\t\t\tif ( !$.contains( this.element[0], this.document[0].activeElement ) ) {\n\t\t\t\t\t\tthis.collapseAll( event );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tkeydown: \"_keydown\"\n\t\t});\n\n\t\tthis.refresh();\n\n\t\t// Clicks outside of a menu collapse any open menus\n\t\tthis._on( this.document, {\n\t\t\tclick: function( event ) {\n\t\t\t\tif ( this._closeOnDocumentClick( event ) ) {\n\t\t\t\t\tthis.collapseAll( event );\n\t\t\t\t}\n\n\t\t\t\t// Reset the mouseHandled flag\n\t\t\t\tthis.mouseHandled = false;\n\t\t\t}\n\t\t});\n\t},\n\n\t_destroy: function() {\n\t\t// Destroy (sub)menus\n\t\tthis.element\n\t\t\t.removeAttr( \"aria-activedescendant\" )\n\t\t\t.find( \".ui-menu\" ).addBack()\n\t\t\t\t.removeClass( \"ui-menu ui-widget ui-widget-content ui-menu-icons ui-front\" )\n\t\t\t\t.removeAttr( \"role\" )\n\t\t\t\t.removeAttr( \"tabIndex\" )\n\t\t\t\t.removeAttr( \"aria-labelledby\" )\n\t\t\t\t.removeAttr( \"aria-expanded\" )\n\t\t\t\t.removeAttr( \"aria-hidden\" )\n\t\t\t\t.removeAttr( \"aria-disabled\" )\n\t\t\t\t.removeUniqueId()\n\t\t\t\t.show();\n\n\t\t// Destroy menu items\n\t\tthis.element.find( \".ui-menu-item\" )\n\t\t\t.removeClass( \"ui-menu-item\" )\n\t\t\t.removeAttr( \"role\" )\n\t\t\t.removeAttr( \"aria-disabled\" )\n\t\t\t.removeUniqueId()\n\t\t\t.removeClass( \"ui-state-hover\" )\n\t\t\t.removeAttr( \"tabIndex\" )\n\t\t\t.removeAttr( \"role\" )\n\t\t\t.removeAttr( \"aria-haspopup\" )\n\t\t\t.children().each( function() {\n\t\t\t\tvar elem = $( this );\n\t\t\t\tif ( elem.data( \"ui-menu-submenu-carat\" ) ) {\n\t\t\t\t\telem.remove();\n\t\t\t\t}\n\t\t\t});\n\n\t\t// Destroy menu dividers\n\t\tthis.element.find( \".ui-menu-divider\" ).removeClass( \"ui-menu-divider ui-widget-content\" );\n\t},\n\n\t_keydown: function( event ) {\n\t\tvar match, prev, character, skip,\n\t\t\tpreventDefault = true;\n\n\t\tswitch ( event.keyCode ) {\n\t\tcase $.ui.keyCode.PAGE_UP:\n\t\t\tthis.previousPage( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.PAGE_DOWN:\n\t\t\tthis.nextPage( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.HOME:\n\t\t\tthis._move( \"first\", \"first\", event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.END:\n\t\t\tthis._move( \"last\", \"last\", event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.UP:\n\t\t\tthis.previous( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.DOWN:\n\t\t\tthis.next( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.LEFT:\n\t\t\tthis.collapse( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.RIGHT:\n\t\t\tif ( this.active && !this.active.is( \".ui-state-disabled\" ) ) {\n\t\t\t\tthis.expand( event );\n\t\t\t}\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.ENTER:\n\t\tcase $.ui.keyCode.SPACE:\n\t\t\tthis._activate( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.ESCAPE:\n\t\t\tthis.collapse( event );\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tpreventDefault = false;\n\t\t\tprev = this.previousFilter || \"\";\n\t\t\tcharacter = String.fromCharCode( event.keyCode );\n\t\t\tskip = false;\n\n\t\t\tclearTimeout( this.filterTimer );\n\n\t\t\tif ( character === prev ) {\n\t\t\t\tskip = true;\n\t\t\t} else {\n\t\t\t\tcharacter = prev + character;\n\t\t\t}\n\n\t\t\tmatch = this._filterMenuItems( character );\n\t\t\tmatch = skip && match.index( this.active.next() ) !== -1 ?\n\t\t\t\tthis.active.nextAll( \".ui-menu-item\" ) :\n\t\t\t\tmatch;\n\n\t\t\t// If no matches on the current filter, reset to the last character pressed\n\t\t\t// to move down the menu to the first item that starts with that character\n\t\t\tif ( !match.length ) {\n\t\t\t\tcharacter = String.fromCharCode( event.keyCode );\n\t\t\t\tmatch = this._filterMenuItems( character );\n\t\t\t}\n\n\t\t\tif ( match.length ) {\n\t\t\t\tthis.focus( event, match );\n\t\t\t\tthis.previousFilter = character;\n\t\t\t\tthis.filterTimer = this._delay(function() {\n\t\t\t\t\tdelete this.previousFilter;\n\t\t\t\t}, 1000 );\n\t\t\t} else {\n\t\t\t\tdelete this.previousFilter;\n\t\t\t}\n\t\t}\n\n\t\tif ( preventDefault ) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t},\n\n\t_activate: function( event ) {\n\t\tif ( !this.active.is( \".ui-state-disabled\" ) ) {\n\t\t\tif ( this.active.is( \"[aria-haspopup='true']\" ) ) {\n\t\t\t\tthis.expand( event );\n\t\t\t} else {\n\t\t\t\tthis.select( event );\n\t\t\t}\n\t\t}\n\t},\n\n\trefresh: function() {\n\t\tvar menus, items,\n\t\t\tthat = this,\n\t\t\ticon = this.options.icons.submenu,\n\t\t\tsubmenus = this.element.find( this.options.menus );\n\n\t\tthis.element.toggleClass( \"ui-menu-icons\", !!this.element.find( \".ui-icon\" ).length );\n\n\t\t// Initialize nested menus\n\t\tsubmenus.filter( \":not(.ui-menu)\" )\n\t\t\t.addClass( \"ui-menu ui-widget ui-widget-content ui-front\" )\n\t\t\t.hide()\n\t\t\t.attr({\n\t\t\t\trole: this.options.role,\n\t\t\t\t\"aria-hidden\": \"true\",\n\t\t\t\t\"aria-expanded\": \"false\"\n\t\t\t})\n\t\t\t.each(function() {\n\t\t\t\tvar menu = $( this ),\n\t\t\t\t\titem = menu.parent(),\n\t\t\t\t\tsubmenuCarat = $( \"<span>\" )\n\t\t\t\t\t\t.addClass( \"ui-menu-icon ui-icon \" + icon )\n\t\t\t\t\t\t.data( \"ui-menu-submenu-carat\", true );\n\n\t\t\t\titem\n\t\t\t\t\t.attr( \"aria-haspopup\", \"true\" )\n\t\t\t\t\t.prepend( submenuCarat );\n\t\t\t\tmenu.attr( \"aria-labelledby\", item.attr( \"id\" ) );\n\t\t\t});\n\n\t\tmenus = submenus.add( this.element );\n\t\titems = menus.find( this.options.items );\n\n\t\t// Initialize menu-items containing spaces and/or dashes only as dividers\n\t\titems.not( \".ui-menu-item\" ).each(function() {\n\t\t\tvar item = $( this );\n\t\t\tif ( that._isDivider( item ) ) {\n\t\t\t\titem.addClass( \"ui-widget-content ui-menu-divider\" );\n\t\t\t}\n\t\t});\n\n\t\t// Don't refresh list items that are already adapted\n\t\titems.not( \".ui-menu-item, .ui-menu-divider\" )\n\t\t\t.addClass( \"ui-menu-item\" )\n\t\t\t.uniqueId()\n\t\t\t.attr({\n\t\t\t\ttabIndex: -1,\n\t\t\t\trole: this._itemRole()\n\t\t\t});\n\n\t\t// Add aria-disabled attribute to any disabled menu item\n\t\titems.filter( \".ui-state-disabled\" ).attr( \"aria-disabled\", \"true\" );\n\n\t\t// If the active item has been removed, blur the menu\n\t\tif ( this.active && !$.contains( this.element[ 0 ], this.active[ 0 ] ) ) {\n\t\t\tthis.blur();\n\t\t}\n\t},\n\n\t_itemRole: function() {\n\t\treturn {\n\t\t\tmenu: \"menuitem\",\n\t\t\tlistbox: \"option\"\n\t\t}[ this.options.role ];\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"icons\" ) {\n\t\t\tthis.element.find( \".ui-menu-icon\" )\n\t\t\t\t.removeClass( this.options.icons.submenu )\n\t\t\t\t.addClass( value.submenu );\n\t\t}\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis.element\n\t\t\t\t.toggleClass( \"ui-state-disabled\", !!value )\n\t\t\t\t.attr( \"aria-disabled\", value );\n\t\t}\n\t\tthis._super( key, value );\n\t},\n\n\tfocus: function( event, item ) {\n\t\tvar nested, focused;\n\t\tthis.blur( event, event && event.type === \"focus\" );\n\n\t\tthis._scrollIntoView( item );\n\n\t\tthis.active = item.first();\n\t\tfocused = this.active.addClass( \"ui-state-focus\" ).removeClass( \"ui-state-active\" );\n\t\t// Only update aria-activedescendant if there's a role\n\t\t// otherwise we assume focus is managed elsewhere\n\t\tif ( this.options.role ) {\n\t\t\tthis.element.attr( \"aria-activedescendant\", focused.attr( \"id\" ) );\n\t\t}\n\n\t\t// Highlight active parent menu item, if any\n\t\tthis.active\n\t\t\t.parent()\n\t\t\t.closest( \".ui-menu-item\" )\n\t\t\t.addClass( \"ui-state-active\" );\n\n\t\tif ( event && event.type === \"keydown\" ) {\n\t\t\tthis._close();\n\t\t} else {\n\t\t\tthis.timer = this._delay(function() {\n\t\t\t\tthis._close();\n\t\t\t}, this.delay );\n\t\t}\n\n\t\tnested = item.children( \".ui-menu\" );\n\t\tif ( nested.length && event && ( /^mouse/.test( event.type ) ) ) {\n\t\t\tthis._startOpening(nested);\n\t\t}\n\t\tthis.activeMenu = item.parent();\n\n\t\tthis._trigger( \"focus\", event, { item: item } );\n\t},\n\n\t_scrollIntoView: function( item ) {\n\t\tvar borderTop, paddingTop, offset, scroll, elementHeight, itemHeight;\n\t\tif ( this._hasScroll() ) {\n\t\t\tborderTop = parseFloat( $.css( this.activeMenu[0], \"borderTopWidth\" ) ) || 0;\n\t\t\tpaddingTop = parseFloat( $.css( this.activeMenu[0], \"paddingTop\" ) ) || 0;\n\t\t\toffset = item.offset().top - this.activeMenu.offset().top - borderTop - paddingTop;\n\t\t\tscroll = this.activeMenu.scrollTop();\n\t\t\telementHeight = this.activeMenu.height();\n\t\t\titemHeight = item.outerHeight();\n\n\t\t\tif ( offset < 0 ) {\n\t\t\t\tthis.activeMenu.scrollTop( scroll + offset );\n\t\t\t} else if ( offset + itemHeight > elementHeight ) {\n\t\t\t\tthis.activeMenu.scrollTop( scroll + offset - elementHeight + itemHeight );\n\t\t\t}\n\t\t}\n\t},\n\n\tblur: function( event, fromFocus ) {\n\t\tif ( !fromFocus ) {\n\t\t\tclearTimeout( this.timer );\n\t\t}\n\n\t\tif ( !this.active ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.active.removeClass( \"ui-state-focus\" );\n\t\tthis.active = null;\n\n\t\tthis._trigger( \"blur\", event, { item: this.active } );\n\t},\n\n\t_startOpening: function( submenu ) {\n\t\tclearTimeout( this.timer );\n\n\t\t// Don't open if already open fixes a Firefox bug that caused a .5 pixel\n\t\t// shift in the submenu position when mousing over the carat icon\n\t\tif ( submenu.attr( \"aria-hidden\" ) !== \"true\" ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.timer = this._delay(function() {\n\t\t\tthis._close();\n\t\t\tthis._open( submenu );\n\t\t}, this.delay );\n\t},\n\n\t_open: function( submenu ) {\n\t\tvar position = $.extend({\n\t\t\tof: this.active\n\t\t}, this.options.position );\n\n\t\tclearTimeout( this.timer );\n\t\tthis.element.find( \".ui-menu\" ).not( submenu.parents( \".ui-menu\" ) )\n\t\t\t.hide()\n\t\t\t.attr( \"aria-hidden\", \"true\" );\n\n\t\tsubmenu\n\t\t\t.show()\n\t\t\t.removeAttr( \"aria-hidden\" )\n\t\t\t.attr( \"aria-expanded\", \"true\" )\n\t\t\t.position( position );\n\t},\n\n\tcollapseAll: function( event, all ) {\n\t\tclearTimeout( this.timer );\n\t\tthis.timer = this._delay(function() {\n\t\t\t// If we were passed an event, look for the submenu that contains the event\n\t\t\tvar currentMenu = all ? this.element :\n\t\t\t\t$( event && event.target ).closest( this.element.find( \".ui-menu\" ) );\n\n\t\t\t// If we found no valid submenu ancestor, use the main menu to close all sub menus anyway\n\t\t\tif ( !currentMenu.length ) {\n\t\t\t\tcurrentMenu = this.element;\n\t\t\t}\n\n\t\t\tthis._close( currentMenu );\n\n\t\t\tthis.blur( event );\n\t\t\tthis.activeMenu = currentMenu;\n\t\t}, this.delay );\n\t},\n\n\t// With no arguments, closes the currently active menu - if nothing is active\n\t// it closes all menus.  If passed an argument, it will search for menus BELOW\n\t_close: function( startMenu ) {\n\t\tif ( !startMenu ) {\n\t\t\tstartMenu = this.active ? this.active.parent() : this.element;\n\t\t}\n\n\t\tstartMenu\n\t\t\t.find( \".ui-menu\" )\n\t\t\t\t.hide()\n\t\t\t\t.attr( \"aria-hidden\", \"true\" )\n\t\t\t\t.attr( \"aria-expanded\", \"false\" )\n\t\t\t.end()\n\t\t\t.find( \".ui-state-active\" ).not( \".ui-state-focus\" )\n\t\t\t\t.removeClass( \"ui-state-active\" );\n\t},\n\n\t_closeOnDocumentClick: function( event ) {\n\t\treturn !$( event.target ).closest( \".ui-menu\" ).length;\n\t},\n\n\t_isDivider: function( item ) {\n\n\t\t// Match hyphen, em dash, en dash\n\t\treturn !/[^\\-\\u2014\\u2013\\s]/.test( item.text() );\n\t},\n\n\tcollapse: function( event ) {\n\t\tvar newItem = this.active &&\n\t\t\tthis.active.parent().closest( \".ui-menu-item\", this.element );\n\t\tif ( newItem && newItem.length ) {\n\t\t\tthis._close();\n\t\t\tthis.focus( event, newItem );\n\t\t}\n\t},\n\n\texpand: function( event ) {\n\t\tvar newItem = this.active &&\n\t\t\tthis.active\n\t\t\t\t.children( \".ui-menu \" )\n\t\t\t\t.find( this.options.items )\n\t\t\t\t.first();\n\n\t\tif ( newItem && newItem.length ) {\n\t\t\tthis._open( newItem.parent() );\n\n\t\t\t// Delay so Firefox will not hide activedescendant change in expanding submenu from AT\n\t\t\tthis._delay(function() {\n\t\t\t\tthis.focus( event, newItem );\n\t\t\t});\n\t\t}\n\t},\n\n\tnext: function( event ) {\n\t\tthis._move( \"next\", \"first\", event );\n\t},\n\n\tprevious: function( event ) {\n\t\tthis._move( \"prev\", \"last\", event );\n\t},\n\n\tisFirstItem: function() {\n\t\treturn this.active && !this.active.prevAll( \".ui-menu-item\" ).length;\n\t},\n\n\tisLastItem: function() {\n\t\treturn this.active && !this.active.nextAll( \".ui-menu-item\" ).length;\n\t},\n\n\t_move: function( direction, filter, event ) {\n\t\tvar next;\n\t\tif ( this.active ) {\n\t\t\tif ( direction === \"first\" || direction === \"last\" ) {\n\t\t\t\tnext = this.active\n\t\t\t\t\t[ direction === \"first\" ? \"prevAll\" : \"nextAll\" ]( \".ui-menu-item\" )\n\t\t\t\t\t.eq( -1 );\n\t\t\t} else {\n\t\t\t\tnext = this.active\n\t\t\t\t\t[ direction + \"All\" ]( \".ui-menu-item\" )\n\t\t\t\t\t.eq( 0 );\n\t\t\t}\n\t\t}\n\t\tif ( !next || !next.length || !this.active ) {\n\t\t\tnext = this.activeMenu.find( this.options.items )[ filter ]();\n\t\t}\n\n\t\tthis.focus( event, next );\n\t},\n\n\tnextPage: function( event ) {\n\t\tvar item, base, height;\n\n\t\tif ( !this.active ) {\n\t\t\tthis.next( event );\n\t\t\treturn;\n\t\t}\n\t\tif ( this.isLastItem() ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( this._hasScroll() ) {\n\t\t\tbase = this.active.offset().top;\n\t\t\theight = this.element.height();\n\t\t\tthis.active.nextAll( \".ui-menu-item\" ).each(function() {\n\t\t\t\titem = $( this );\n\t\t\t\treturn item.offset().top - base - height < 0;\n\t\t\t});\n\n\t\t\tthis.focus( event, item );\n\t\t} else {\n\t\t\tthis.focus( event, this.activeMenu.find( this.options.items )\n\t\t\t\t[ !this.active ? \"first\" : \"last\" ]() );\n\t\t}\n\t},\n\n\tpreviousPage: function( event ) {\n\t\tvar item, base, height;\n\t\tif ( !this.active ) {\n\t\t\tthis.next( event );\n\t\t\treturn;\n\t\t}\n\t\tif ( this.isFirstItem() ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( this._hasScroll() ) {\n\t\t\tbase = this.active.offset().top;\n\t\t\theight = this.element.height();\n\t\t\tthis.active.prevAll( \".ui-menu-item\" ).each(function() {\n\t\t\t\titem = $( this );\n\t\t\t\treturn item.offset().top - base + height > 0;\n\t\t\t});\n\n\t\t\tthis.focus( event, item );\n\t\t} else {\n\t\t\tthis.focus( event, this.activeMenu.find( this.options.items ).first() );\n\t\t}\n\t},\n\n\t_hasScroll: function() {\n\t\treturn this.element.outerHeight() < this.element.prop( \"scrollHeight\" );\n\t},\n\n\tselect: function( event ) {\n\t\t// TODO: It should never be possible to not have an active item at this\n\t\t// point, but the tests don't trigger mouseenter before click.\n\t\tthis.active = this.active || $( event.target ).closest( \".ui-menu-item\" );\n\t\tvar ui = { item: this.active };\n\t\tif ( !this.active.has( \".ui-menu\" ).length ) {\n\t\t\tthis.collapseAll( event, true );\n\t\t}\n\t\tthis._trigger( \"select\", event, ui );\n\t},\n\n\t_filterMenuItems: function(character) {\n\t\tvar escapedCharacter = character.replace( /[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\" ),\n\t\t\tregex = new RegExp( \"^\" + escapedCharacter, \"i\" );\n\n\t\treturn this.activeMenu\n\t\t\t.find( this.options.items )\n\n\t\t\t// Only match on items, not dividers or other content (#10571)\n\t\t\t.filter( \".ui-menu-item\" )\n\t\t\t.filter(function() {\n\t\t\t\treturn regex.test( $.trim( $( this ).text() ) );\n\t\t\t});\n\t}\n});\n\n\n/*!\n * jQuery UI Autocomplete 1.11.4\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/autocomplete/\n */\n\n\n$.widget( \"ui.autocomplete\", {\n\tversion: \"1.11.4\",\n\tdefaultElement: \"<input>\",\n\toptions: {\n\t\tappendTo: null,\n\t\tautoFocus: false,\n\t\tdelay: 300,\n\t\tminLength: 1,\n\t\tposition: {\n\t\t\tmy: \"left top\",\n\t\t\tat: \"left bottom\",\n\t\t\tcollision: \"none\"\n\t\t},\n\t\tsource: null,\n\n\t\t// callbacks\n\t\tchange: null,\n\t\tclose: null,\n\t\tfocus: null,\n\t\topen: null,\n\t\tresponse: null,\n\t\tsearch: null,\n\t\tselect: null\n\t},\n\n\trequestIndex: 0,\n\tpending: 0,\n\n\t_create: function() {\n\t\t// Some browsers only repeat keydown events, not keypress events,\n\t\t// so we use the suppressKeyPress flag to determine if we've already\n\t\t// handled the keydown event. #7269\n\t\t// Unfortunately the code for & in keypress is the same as the up arrow,\n\t\t// so we use the suppressKeyPressRepeat flag to avoid handling keypress\n\t\t// events when we know the keydown event was used to modify the\n\t\t// search term. #7799\n\t\tvar suppressKeyPress, suppressKeyPressRepeat, suppressInput,\n\t\t\tnodeName = this.element[ 0 ].nodeName.toLowerCase(),\n\t\t\tisTextarea = nodeName === \"textarea\",\n\t\t\tisInput = nodeName === \"input\";\n\n\t\tthis.isMultiLine =\n\t\t\t// Textareas are always multi-line\n\t\t\tisTextarea ? true :\n\t\t\t// Inputs are always single-line, even if inside a contentEditable element\n\t\t\t// IE also treats inputs as contentEditable\n\t\t\tisInput ? false :\n\t\t\t// All other element types are determined by whether or not they're contentEditable\n\t\t\tthis.element.prop( \"isContentEditable\" );\n\n\t\tthis.valueMethod = this.element[ isTextarea || isInput ? \"val\" : \"text\" ];\n\t\tthis.isNewMenu = true;\n\n\t\tthis.element\n\t\t\t.addClass( \"ui-autocomplete-input\" )\n\t\t\t.attr( \"autocomplete\", \"off\" );\n\n\t\tthis._on( this.element, {\n\t\t\tkeydown: function( event ) {\n\t\t\t\tif ( this.element.prop( \"readOnly\" ) ) {\n\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\tsuppressInput = true;\n\t\t\t\t\tsuppressKeyPressRepeat = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsuppressKeyPress = false;\n\t\t\t\tsuppressInput = false;\n\t\t\t\tsuppressKeyPressRepeat = false;\n\t\t\t\tvar keyCode = $.ui.keyCode;\n\t\t\t\tswitch ( event.keyCode ) {\n\t\t\t\tcase keyCode.PAGE_UP:\n\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\tthis._move( \"previousPage\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.PAGE_DOWN:\n\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\tthis._move( \"nextPage\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.UP:\n\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\tthis._keyEvent( \"previous\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.DOWN:\n\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\tthis._keyEvent( \"next\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.ENTER:\n\t\t\t\t\t// when menu is open and has focus\n\t\t\t\t\tif ( this.menu.active ) {\n\t\t\t\t\t\t// #6055 - Opera still allows the keypress to occur\n\t\t\t\t\t\t// which causes forms to submit\n\t\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tthis.menu.select( event );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.TAB:\n\t\t\t\t\tif ( this.menu.active ) {\n\t\t\t\t\t\tthis.menu.select( event );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.ESCAPE:\n\t\t\t\t\tif ( this.menu.element.is( \":visible\" ) ) {\n\t\t\t\t\t\tif ( !this.isMultiLine ) {\n\t\t\t\t\t\t\tthis._value( this.term );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.close( event );\n\t\t\t\t\t\t// Different browsers have different default behavior for escape\n\t\t\t\t\t\t// Single press can mean undo or clear\n\t\t\t\t\t\t// Double press in IE means clear the whole form\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tsuppressKeyPressRepeat = true;\n\t\t\t\t\t// search timeout should be triggered before the input value is changed\n\t\t\t\t\tthis._searchTimeout( event );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\tkeypress: function( event ) {\n\t\t\t\tif ( suppressKeyPress ) {\n\t\t\t\t\tsuppressKeyPress = false;\n\t\t\t\t\tif ( !this.isMultiLine || this.menu.element.is( \":visible\" ) ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ( suppressKeyPressRepeat ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// replicate some key handlers to allow them to repeat in Firefox and Opera\n\t\t\t\tvar keyCode = $.ui.keyCode;\n\t\t\t\tswitch ( event.keyCode ) {\n\t\t\t\tcase keyCode.PAGE_UP:\n\t\t\t\t\tthis._move( \"previousPage\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.PAGE_DOWN:\n\t\t\t\t\tthis._move( \"nextPage\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.UP:\n\t\t\t\t\tthis._keyEvent( \"previous\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.DOWN:\n\t\t\t\t\tthis._keyEvent( \"next\", event );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\tinput: function( event ) {\n\t\t\t\tif ( suppressInput ) {\n\t\t\t\t\tsuppressInput = false;\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._searchTimeout( event );\n\t\t\t},\n\t\t\tfocus: function() {\n\t\t\t\tthis.selectedItem = null;\n\t\t\t\tthis.previous = this._value();\n\t\t\t},\n\t\t\tblur: function( event ) {\n\t\t\t\tif ( this.cancelBlur ) {\n\t\t\t\t\tdelete this.cancelBlur;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tclearTimeout( this.searching );\n\t\t\t\tthis.close( event );\n\t\t\t\tthis._change( event );\n\t\t\t}\n\t\t});\n\n\t\tthis._initSource();\n\t\tthis.menu = $( \"<ul>\" )\n\t\t\t.addClass( \"ui-autocomplete ui-front\" )\n\t\t\t.appendTo( this._appendTo() )\n\t\t\t.menu({\n\t\t\t\t// disable ARIA support, the live region takes care of that\n\t\t\t\trole: null\n\t\t\t})\n\t\t\t.hide()\n\t\t\t.menu( \"instance\" );\n\n\t\tthis._on( this.menu.element, {\n\t\t\tmousedown: function( event ) {\n\t\t\t\t// prevent moving focus out of the text field\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t// IE doesn't prevent moving focus even with event.preventDefault()\n\t\t\t\t// so we set a flag to know when we should ignore the blur event\n\t\t\t\tthis.cancelBlur = true;\n\t\t\t\tthis._delay(function() {\n\t\t\t\t\tdelete this.cancelBlur;\n\t\t\t\t});\n\n\t\t\t\t// clicking on the scrollbar causes focus to shift to the body\n\t\t\t\t// but we can't detect a mouseup or a click immediately afterward\n\t\t\t\t// so we have to track the next mousedown and close the menu if\n\t\t\t\t// the user clicks somewhere outside of the autocomplete\n\t\t\t\tvar menuElement = this.menu.element[ 0 ];\n\t\t\t\tif ( !$( event.target ).closest( \".ui-menu-item\" ).length ) {\n\t\t\t\t\tthis._delay(function() {\n\t\t\t\t\t\tvar that = this;\n\t\t\t\t\t\tthis.document.one( \"mousedown\", function( event ) {\n\t\t\t\t\t\t\tif ( event.target !== that.element[ 0 ] &&\n\t\t\t\t\t\t\t\t\tevent.target !== menuElement &&\n\t\t\t\t\t\t\t\t\t!$.contains( menuElement, event.target ) ) {\n\t\t\t\t\t\t\t\tthat.close();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenufocus: function( event, ui ) {\n\t\t\t\tvar label, item;\n\t\t\t\t// support: Firefox\n\t\t\t\t// Prevent accidental activation of menu items in Firefox (#7024 #9118)\n\t\t\t\tif ( this.isNewMenu ) {\n\t\t\t\t\tthis.isNewMenu = false;\n\t\t\t\t\tif ( event.originalEvent && /^mouse/.test( event.originalEvent.type ) ) {\n\t\t\t\t\t\tthis.menu.blur();\n\n\t\t\t\t\t\tthis.document.one( \"mousemove\", function() {\n\t\t\t\t\t\t\t$( event.target ).trigger( event.originalEvent );\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\titem = ui.item.data( \"ui-autocomplete-item\" );\n\t\t\t\tif ( false !== this._trigger( \"focus\", event, { item: item } ) ) {\n\t\t\t\t\t// use value to match what will end up in the input, if it was a key event\n\t\t\t\t\tif ( event.originalEvent && /^key/.test( event.originalEvent.type ) ) {\n\t\t\t\t\t\tthis._value( item.value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Announce the value in the liveRegion\n\t\t\t\tlabel = ui.item.attr( \"aria-label\" ) || item.value;\n\t\t\t\tif ( label && $.trim( label ).length ) {\n\t\t\t\t\tthis.liveRegion.children().hide();\n\t\t\t\t\t$( \"<div>\" ).text( label ).appendTo( this.liveRegion );\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuselect: function( event, ui ) {\n\t\t\t\tvar item = ui.item.data( \"ui-autocomplete-item\" ),\n\t\t\t\t\tprevious = this.previous;\n\n\t\t\t\t// only trigger when focus was lost (click on menu)\n\t\t\t\tif ( this.element[ 0 ] !== this.document[ 0 ].activeElement ) {\n\t\t\t\t\tthis.element.focus();\n\t\t\t\t\tthis.previous = previous;\n\t\t\t\t\t// #6109 - IE triggers two focus events and the second\n\t\t\t\t\t// is asynchronous, so we need to reset the previous\n\t\t\t\t\t// term synchronously and asynchronously :-(\n\t\t\t\t\tthis._delay(function() {\n\t\t\t\t\t\tthis.previous = previous;\n\t\t\t\t\t\tthis.selectedItem = item;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif ( false !== this._trigger( \"select\", event, { item: item } ) ) {\n\t\t\t\t\tthis._value( item.value );\n\t\t\t\t}\n\t\t\t\t// reset the term after the select event\n\t\t\t\t// this allows custom select handling to work properly\n\t\t\t\tthis.term = this._value();\n\n\t\t\t\tthis.close( event );\n\t\t\t\tthis.selectedItem = item;\n\t\t\t}\n\t\t});\n\n\t\tthis.liveRegion = $( \"<span>\", {\n\t\t\t\trole: \"status\",\n\t\t\t\t\"aria-live\": \"assertive\",\n\t\t\t\t\"aria-relevant\": \"additions\"\n\t\t\t})\n\t\t\t.addClass( \"ui-helper-hidden-accessible\" )\n\t\t\t.appendTo( this.document[ 0 ].body );\n\n\t\t// turning off autocomplete prevents the browser from remembering the\n\t\t// value when navigating through history, so we re-enable autocomplete\n\t\t// if the page is unloaded before the widget is destroyed. #7790\n\t\tthis._on( this.window, {\n\t\t\tbeforeunload: function() {\n\t\t\t\tthis.element.removeAttr( \"autocomplete\" );\n\t\t\t}\n\t\t});\n\t},\n\n\t_destroy: function() {\n\t\tclearTimeout( this.searching );\n\t\tthis.element\n\t\t\t.removeClass( \"ui-autocomplete-input\" )\n\t\t\t.removeAttr( \"autocomplete\" );\n\t\tthis.menu.element.remove();\n\t\tthis.liveRegion.remove();\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tthis._super( key, value );\n\t\tif ( key === \"source\" ) {\n\t\t\tthis._initSource();\n\t\t}\n\t\tif ( key === \"appendTo\" ) {\n\t\t\tthis.menu.element.appendTo( this._appendTo() );\n\t\t}\n\t\tif ( key === \"disabled\" && value && this.xhr ) {\n\t\t\tthis.xhr.abort();\n\t\t}\n\t},\n\n\t_appendTo: function() {\n\t\tvar element = this.options.appendTo;\n\n\t\tif ( element ) {\n\t\t\telement = element.jquery || element.nodeType ?\n\t\t\t\t$( element ) :\n\t\t\t\tthis.document.find( element ).eq( 0 );\n\t\t}\n\n\t\tif ( !element || !element[ 0 ] ) {\n\t\t\telement = this.element.closest( \".ui-front\" );\n\t\t}\n\n\t\tif ( !element.length ) {\n\t\t\telement = this.document[ 0 ].body;\n\t\t}\n\n\t\treturn element;\n\t},\n\n\t_initSource: function() {\n\t\tvar array, url,\n\t\t\tthat = this;\n\t\tif ( $.isArray( this.options.source ) ) {\n\t\t\tarray = this.options.source;\n\t\t\tthis.source = function( request, response ) {\n\t\t\t\tresponse( $.ui.autocomplete.filter( array, request.term ) );\n\t\t\t};\n\t\t} else if ( typeof this.options.source === \"string\" ) {\n\t\t\turl = this.options.source;\n\t\t\tthis.source = function( request, response ) {\n\t\t\t\tif ( that.xhr ) {\n\t\t\t\t\tthat.xhr.abort();\n\t\t\t\t}\n\t\t\t\tthat.xhr = $.ajax({\n\t\t\t\t\turl: url,\n\t\t\t\t\tdata: request,\n\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\tsuccess: function( data ) {\n\t\t\t\t\t\tresponse( data );\n\t\t\t\t\t},\n\t\t\t\t\terror: function() {\n\t\t\t\t\t\tresponse([]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t} else {\n\t\t\tthis.source = this.options.source;\n\t\t}\n\t},\n\n\t_searchTimeout: function( event ) {\n\t\tclearTimeout( this.searching );\n\t\tthis.searching = this._delay(function() {\n\n\t\t\t// Search if the value has changed, or if the user retypes the same value (see #7434)\n\t\t\tvar equalValues = this.term === this._value(),\n\t\t\t\tmenuVisible = this.menu.element.is( \":visible\" ),\n\t\t\t\tmodifierKey = event.altKey || event.ctrlKey || event.metaKey || event.shiftKey;\n\n\t\t\tif ( !equalValues || ( equalValues && !menuVisible && !modifierKey ) ) {\n\t\t\t\tthis.selectedItem = null;\n\t\t\t\tthis.search( null, event );\n\t\t\t}\n\t\t}, this.options.delay );\n\t},\n\n\tsearch: function( value, event ) {\n\t\tvalue = value != null ? value : this._value();\n\n\t\t// always save the actual value, not the one passed as an argument\n\t\tthis.term = this._value();\n\n\t\tif ( value.length < this.options.minLength ) {\n\t\t\treturn this.close( event );\n\t\t}\n\n\t\tif ( this._trigger( \"search\", event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn this._search( value );\n\t},\n\n\t_search: function( value ) {\n\t\tthis.pending++;\n\t\tthis.element.addClass( \"ui-autocomplete-loading\" );\n\t\tthis.cancelSearch = false;\n\n\t\tthis.source( { term: value }, this._response() );\n\t},\n\n\t_response: function() {\n\t\tvar index = ++this.requestIndex;\n\n\t\treturn $.proxy(function( content ) {\n\t\t\tif ( index === this.requestIndex ) {\n\t\t\t\tthis.__response( content );\n\t\t\t}\n\n\t\t\tthis.pending--;\n\t\t\tif ( !this.pending ) {\n\t\t\t\tthis.element.removeClass( \"ui-autocomplete-loading\" );\n\t\t\t}\n\t\t}, this );\n\t},\n\n\t__response: function( content ) {\n\t\tif ( content ) {\n\t\t\tcontent = this._normalize( content );\n\t\t}\n\t\tthis._trigger( \"response\", null, { content: content } );\n\t\tif ( !this.options.disabled && content && content.length && !this.cancelSearch ) {\n\t\t\tthis._suggest( content );\n\t\t\tthis._trigger( \"open\" );\n\t\t} else {\n\t\t\t// use ._close() instead of .close() so we don't cancel future searches\n\t\t\tthis._close();\n\t\t}\n\t},\n\n\tclose: function( event ) {\n\t\tthis.cancelSearch = true;\n\t\tthis._close( event );\n\t},\n\n\t_close: function( event ) {\n\t\tif ( this.menu.element.is( \":visible\" ) ) {\n\t\t\tthis.menu.element.hide();\n\t\t\tthis.menu.blur();\n\t\t\tthis.isNewMenu = true;\n\t\t\tthis._trigger( \"close\", event );\n\t\t}\n\t},\n\n\t_change: function( event ) {\n\t\tif ( this.previous !== this._value() ) {\n\t\t\tthis._trigger( \"change\", event, { item: this.selectedItem } );\n\t\t}\n\t},\n\n\t_normalize: function( items ) {\n\t\t// assume all items have the right format when the first item is complete\n\t\tif ( items.length && items[ 0 ].label && items[ 0 ].value ) {\n\t\t\treturn items;\n\t\t}\n\t\treturn $.map( items, function( item ) {\n\t\t\tif ( typeof item === \"string\" ) {\n\t\t\t\treturn {\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tvalue: item\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn $.extend( {}, item, {\n\t\t\t\tlabel: item.label || item.value,\n\t\t\t\tvalue: item.value || item.label\n\t\t\t});\n\t\t});\n\t},\n\n\t_suggest: function( items ) {\n\t\tvar ul = this.menu.element.empty();\n\t\tthis._renderMenu( ul, items );\n\t\tthis.isNewMenu = true;\n\t\tthis.menu.refresh();\n\n\t\t// size and position menu\n\t\tul.show();\n\t\tthis._resizeMenu();\n\t\tul.position( $.extend({\n\t\t\tof: this.element\n\t\t}, this.options.position ) );\n\n\t\tif ( this.options.autoFocus ) {\n\t\t\tthis.menu.next();\n\t\t}\n\t},\n\n\t_resizeMenu: function() {\n\t\tvar ul = this.menu.element;\n\t\tul.outerWidth( Math.max(\n\t\t\t// Firefox wraps long text (possibly a rounding bug)\n\t\t\t// so we add 1px to avoid the wrapping (#7513)\n\t\t\tul.width( \"\" ).outerWidth() + 1,\n\t\t\tthis.element.outerWidth()\n\t\t) );\n\t},\n\n\t_renderMenu: function( ul, items ) {\n\t\tvar that = this;\n\t\t$.each( items, function( index, item ) {\n\t\t\tthat._renderItemData( ul, item );\n\t\t});\n\t},\n\n\t_renderItemData: function( ul, item ) {\n\t\treturn this._renderItem( ul, item ).data( \"ui-autocomplete-item\", item );\n\t},\n\n\t_renderItem: function( ul, item ) {\n\t\treturn $( \"<li>\" ).text( item.label ).appendTo( ul );\n\t},\n\n\t_move: function( direction, event ) {\n\t\tif ( !this.menu.element.is( \":visible\" ) ) {\n\t\t\tthis.search( null, event );\n\t\t\treturn;\n\t\t}\n\t\tif ( this.menu.isFirstItem() && /^previous/.test( direction ) ||\n\t\t\t\tthis.menu.isLastItem() && /^next/.test( direction ) ) {\n\n\t\t\tif ( !this.isMultiLine ) {\n\t\t\t\tthis._value( this.term );\n\t\t\t}\n\n\t\t\tthis.menu.blur();\n\t\t\treturn;\n\t\t}\n\t\tthis.menu[ direction ]( event );\n\t},\n\n\twidget: function() {\n\t\treturn this.menu.element;\n\t},\n\n\t_value: function() {\n\t\treturn this.valueMethod.apply( this.element, arguments );\n\t},\n\n\t_keyEvent: function( keyEvent, event ) {\n\t\tif ( !this.isMultiLine || this.menu.element.is( \":visible\" ) ) {\n\t\t\tthis._move( keyEvent, event );\n\n\t\t\t// prevents moving cursor to beginning/end of the text field in some browsers\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n});\n\n$.extend( $.ui.autocomplete, {\n\tescapeRegex: function( value ) {\n\t\treturn value.replace( /[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\" );\n\t},\n\tfilter: function( array, term ) {\n\t\tvar matcher = new RegExp( $.ui.autocomplete.escapeRegex( term ), \"i\" );\n\t\treturn $.grep( array, function( value ) {\n\t\t\treturn matcher.test( value.label || value.value || value );\n\t\t});\n\t}\n});\n\n// live region extension, adding a `messages` option\n// NOTE: This is an experimental API. We are still investigating\n// a full solution for string manipulation and internationalization.\n$.widget( \"ui.autocomplete\", $.ui.autocomplete, {\n\toptions: {\n\t\tmessages: {\n\t\t\tnoResults: \"No search results.\",\n\t\t\tresults: function( amount ) {\n\t\t\t\treturn amount + ( amount > 1 ? \" results are\" : \" result is\" ) +\n\t\t\t\t\t\" available, use up and down arrow keys to navigate.\";\n\t\t\t}\n\t\t}\n\t},\n\n\t__response: function( content ) {\n\t\tvar message;\n\t\tthis._superApply( arguments );\n\t\tif ( this.options.disabled || this.cancelSearch ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( content && content.length ) {\n\t\t\tmessage = this.options.messages.results( content.length );\n\t\t} else {\n\t\t\tmessage = this.options.messages.noResults;\n\t\t}\n\t\tthis.liveRegion.children().hide();\n\t\t$( \"<div>\" ).text( message ).appendTo( this.liveRegion );\n\t}\n});\n\nvar autocomplete = $.ui.autocomplete;\n\n\n\n}));\n\n//# sourceURL=webpack:///./src/main/webapp/includes/jquery-ui-1.11.4.custom/jquery-ui.js?");

/***/ }),

/***/ "./src/main/webapp/includes/jquery.cookie.js":
/*!***************************************************!*\
  !*** ./src/main/webapp/includes/jquery.cookie.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(jQuery) {/**\n * Cookie plugin\n *\n * Copyright (c) 2006 Klaus Hartl (stilbuero.de)\n * Dual licensed under the MIT and GPL licenses:\n * http://www.opensource.org/licenses/mit-license.php\n * http://www.gnu.org/licenses/gpl.html\n *\n */\n\n/**\n * Create a cookie with the given name and value and other optional parameters.\n *\n * @example $.cookie('the_cookie', 'the_value');\n * @desc Set the value of a cookie.\n * @example $.cookie('the_cookie', 'the_value', { expires: 7, path: '/', domain: 'jquery.com', secure: true });\n * @desc Create a cookie with all available options.\n * @example $.cookie('the_cookie', 'the_value');\n * @desc Create a session cookie.\n * @example $.cookie('the_cookie', null);\n * @desc Delete a cookie by passing null as value. Keep in mind that you have to use the same path and domain\n *       used when the cookie was set.\n *\n * @param String name The name of the cookie.\n * @param String value The value of the cookie.\n * @param Object options An object literal containing key/value pairs to provide optional cookie attributes.\n * @option Number|Date expires Either an integer specifying the expiration date from now on in days or a Date object.\n *                             If a negative value is specified (e.g. a date in the past), the cookie will be deleted.\n *                             If set to null or omitted, the cookie will be a session cookie and will not be retained\n *                             when the the browser exits.\n * @option String path The value of the path atribute of the cookie (default: path of page that created the cookie).\n * @option String domain The value of the domain attribute of the cookie (default: domain of page that created the cookie).\n * @option Boolean secure If true, the secure attribute of the cookie will be set and the cookie transmission will\n *                        require a secure protocol (like HTTPS).\n * @type undefined\n *\n * @name $.cookie\n * @cat Plugins/Cookie\n * @author Klaus Hartl/klaus.hartl@stilbuero.de\n */\n\n/**\n * Get the value of a cookie with the given name.\n *\n * @example $.cookie('the_cookie');\n * @desc Get the value of a cookie.\n *\n * @param String name The name of the cookie.\n * @return The value of the cookie.\n * @type String\n *\n * @name $.cookie\n * @cat Plugins/Cookie\n * @author Klaus Hartl/klaus.hartl@stilbuero.de\n */\njQuery.cookie = function(name, value, options) {\n    if (typeof value != 'undefined') { // name and value given, set cookie\n        options = options || {};\n        if (value === null) {\n            value = '';\n            options.expires = -1;\n        }\n        var expires = '';\n        if (options.expires && (typeof options.expires == 'number' || options.expires.toUTCString)) {\n            var date;\n            if (typeof options.expires == 'number') {\n                date = new Date();\n                date.setTime(date.getTime() + (options.expires * 24 * 60 * 60 * 1000));\n            } else {\n                date = options.expires;\n            }\n            expires = '; expires=' + date.toUTCString(); // use expires attribute, max-age is not supported by IE\n        }\n        // CAUTION: Needed to parenthesize options.path and options.domain\n        // in the following expressions, otherwise they evaluate to undefined\n        // in the packed version for some reason...\n        var path = options.path ? '; path=' + (options.path) : '';\n        var domain = options.domain ? '; domain=' + (options.domain) : '';\n        var secure = options.secure ? '; secure' : '';\n        document.cookie = [name, '=', encodeURIComponent(value), expires, path, domain, secure].join('');\n    } else { // only name given, get cookie\n        var cookieValue = null;\n        if (document.cookie && document.cookie != '') {\n            var cookies = document.cookie.split(';');\n            for (var i = 0; i < cookies.length; i++) {\n                var cookie = jQuery.trim(cookies[i]);\n                // Does this cookie string begin with the name we want?\n                if (cookie.substring(0, name.length + 1) == (name + '=')) {\n                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                    break;\n                }\n            }\n        }\n        return cookieValue;\n    }\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/includes/jquery.cookie.js?");

/***/ }),

/***/ "./src/main/webapp/includes/jquery.datatables-1.9.4/media/css/jquery.dataTables.css":
/*!******************************************************************************************!*\
  !*** ./src/main/webapp/includes/jquery.datatables-1.9.4/media/css/jquery.dataTables.css ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/main/webapp/includes/jquery.datatables-1.9.4/media/css/jquery.dataTables.css?");

/***/ }),

/***/ "./src/main/webapp/includes/jquery.datatables-1.9.4/media/js/jquery.dataTables.js":
/*!****************************************************************************************!*\
  !*** ./src/main/webapp/includes/jquery.datatables-1.9.4/media/js/jquery.dataTables.js ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(jQuery) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * @summary     DataTables\n * @description Paginate, search and sort HTML tables\n * @version     1.9.4\n * @file        jquery.dataTables.js\n * @author      Allan Jardine (www.sprymedia.co.uk)\n * @contact     www.sprymedia.co.uk/contact\n *\n * @copyright Copyright 2008-2012 Allan Jardine, all rights reserved.\n *\n * This source file is free software, under either the GPL v2 license or a\n * BSD style license, available at:\n *   http://datatables.net/license_gpl2\n *   http://datatables.net/license_bsd\n * \n * This source file is distributed in the hope that it will be useful, but \n * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY \n * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.\n * \n * For details please refer to: http://www.datatables.net\n */\n\n/*jslint evil: true, undef: true, browser: true */\n/*globals $, jQuery,define,_fnExternApiFunc,_fnInitialise,_fnInitComplete,_fnLanguageCompat,_fnAddColumn,_fnColumnOptions,_fnAddData,_fnCreateTr,_fnGatherData,_fnBuildHead,_fnDrawHead,_fnDraw,_fnReDraw,_fnAjaxUpdate,_fnAjaxParameters,_fnAjaxUpdateDraw,_fnServerParams,_fnAddOptionsHtml,_fnFeatureHtmlTable,_fnScrollDraw,_fnAdjustColumnSizing,_fnFeatureHtmlFilter,_fnFilterComplete,_fnFilterCustom,_fnFilterColumn,_fnFilter,_fnBuildSearchArray,_fnBuildSearchRow,_fnFilterCreateSearch,_fnDataToSearch,_fnSort,_fnSortAttachListener,_fnSortingClasses,_fnFeatureHtmlPaginate,_fnPageChange,_fnFeatureHtmlInfo,_fnUpdateInfo,_fnFeatureHtmlLength,_fnFeatureHtmlProcessing,_fnProcessingDisplay,_fnVisibleToColumnIndex,_fnColumnIndexToVisible,_fnNodeToDataIndex,_fnVisbleColumns,_fnCalculateEnd,_fnConvertToWidth,_fnCalculateColumnWidths,_fnScrollingWidthAdjust,_fnGetWidestNode,_fnGetMaxLenString,_fnStringToCss,_fnDetectType,_fnSettingsFromNode,_fnGetDataMaster,_fnGetTrNodes,_fnGetTdNodes,_fnEscapeRegex,_fnDeleteIndex,_fnReOrderIndex,_fnColumnOrdering,_fnLog,_fnClearTable,_fnSaveState,_fnLoadState,_fnCreateCookie,_fnReadCookie,_fnDetectHeader,_fnGetUniqueThs,_fnScrollBarWidth,_fnApplyToChildren,_fnMap,_fnGetRowData,_fnGetCellData,_fnSetCellData,_fnGetObjectDataFn,_fnSetObjectDataFn,_fnApplyColumnDefs,_fnBindAction,_fnCallbackReg,_fnCallbackFire,_fnJsonString,_fnRender,_fnNodeToColumnIndex,_fnInfoMacros,_fnBrowserDetect,_fnGetColumns*/\n\n(/** @lends <global> */function( window, document, undefined ) {\n\n(function( factory ) {\n\t\"use strict\";\n\n\t// Define as an AMD module if possible\n\tif ( true )\n\t{\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t}\n\t/* Define using browser globals otherwise\n\t * Prevent multiple instantiations if the script is loaded twice\n\t */\n\telse {}\n}\n(/** @lends <global> */function( $ ) {\n\t\"use strict\";\n\t/** \n\t * DataTables is a plug-in for the jQuery Javascript library. It is a \n\t * highly flexible tool, based upon the foundations of progressive \n\t * enhancement, which will add advanced interaction controls to any \n\t * HTML table. For a full list of features please refer to\n\t * <a href=\"http://datatables.net\">DataTables.net</a>.\n\t *\n\t * Note that the <i>DataTable</i> object is not a global variable but is\n\t * aliased to <i>jQuery.fn.DataTable</i> and <i>jQuery.fn.dataTable</i> through which \n\t * it may be  accessed.\n\t *\n\t *  @class\n\t *  @param {object} [oInit={}] Configuration object for DataTables. Options\n\t *    are defined by {@link DataTable.defaults}\n\t *  @requires jQuery 1.3+\n\t * \n\t *  @example\n\t *    // Basic initialisation\n\t *    $(document).ready( function {\n\t *      $('#example').dataTable();\n\t *    } );\n\t *  \n\t *  @example\n\t *    // Initialisation with configuration options - in this case, disable\n\t *    // pagination and sorting.\n\t *    $(document).ready( function {\n\t *      $('#example').dataTable( {\n\t *        \"bPaginate\": false,\n\t *        \"bSort\": false \n\t *      } );\n\t *    } );\n\t */\n\tvar DataTable = function( oInit )\n\t{\n\t\t\n\t\t\n\t\t/**\n\t\t * Add a column to the list used for the table with default values\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {node} nTh The th element for this column\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnAddColumn( oSettings, nTh )\n\t\t{\n\t\t\tvar oDefaults = DataTable.defaults.columns;\n\t\t\tvar iCol = oSettings.aoColumns.length;\n\t\t\tvar oCol = $.extend( {}, DataTable.models.oColumn, oDefaults, {\n\t\t\t\t\"sSortingClass\": oSettings.oClasses.sSortable,\n\t\t\t\t\"sSortingClassJUI\": oSettings.oClasses.sSortJUI,\n\t\t\t\t\"nTh\": nTh ? nTh : document.createElement('th'),\n\t\t\t\t\"sTitle\":    oDefaults.sTitle    ? oDefaults.sTitle    : nTh ? nTh.innerHTML : '',\n\t\t\t\t\"aDataSort\": oDefaults.aDataSort ? oDefaults.aDataSort : [iCol],\n\t\t\t\t\"mData\": oDefaults.mData ? oDefaults.oDefaults : iCol\n\t\t\t} );\n\t\t\toSettings.aoColumns.push( oCol );\n\t\t\t\n\t\t\t/* Add a column specific filter */\n\t\t\tif ( oSettings.aoPreSearchCols[ iCol ] === undefined || oSettings.aoPreSearchCols[ iCol ] === null )\n\t\t\t{\n\t\t\t\toSettings.aoPreSearchCols[ iCol ] = $.extend( {}, DataTable.models.oSearch );\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tvar oPre = oSettings.aoPreSearchCols[ iCol ];\n\t\t\t\t\n\t\t\t\t/* Don't require that the user must specify bRegex, bSmart or bCaseInsensitive */\n\t\t\t\tif ( oPre.bRegex === undefined )\n\t\t\t\t{\n\t\t\t\t\toPre.bRegex = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ( oPre.bSmart === undefined )\n\t\t\t\t{\n\t\t\t\t\toPre.bSmart = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ( oPre.bCaseInsensitive === undefined )\n\t\t\t\t{\n\t\t\t\t\toPre.bCaseInsensitive = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* Use the column options function to initialise classes etc */\n\t\t\t_fnColumnOptions( oSettings, iCol, null );\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Apply options for a column\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {int} iCol column index to consider\n\t\t *  @param {object} oOptions object with sType, bVisible and bSearchable etc\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnColumnOptions( oSettings, iCol, oOptions )\n\t\t{\n\t\t\tvar oCol = oSettings.aoColumns[ iCol ];\n\t\t\t\n\t\t\t/* User specified column options */\n\t\t\tif ( oOptions !== undefined && oOptions !== null )\n\t\t\t{\n\t\t\t\t/* Backwards compatibility for mDataProp */\n\t\t\t\tif ( oOptions.mDataProp && !oOptions.mData )\n\t\t\t\t{\n\t\t\t\t\toOptions.mData = oOptions.mDataProp;\n\t\t\t\t}\n\t\t\n\t\t\t\tif ( oOptions.sType !== undefined )\n\t\t\t\t{\n\t\t\t\t\toCol.sType = oOptions.sType;\n\t\t\t\t\toCol._bAutoType = false;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$.extend( oCol, oOptions );\n\t\t\t\t_fnMap( oCol, oOptions, \"sWidth\", \"sWidthOrig\" );\n\t\t\n\t\t\t\t/* iDataSort to be applied (backwards compatibility), but aDataSort will take\n\t\t\t\t * priority if defined\n\t\t\t\t */\n\t\t\t\tif ( oOptions.iDataSort !== undefined )\n\t\t\t\t{\n\t\t\t\t\toCol.aDataSort = [ oOptions.iDataSort ];\n\t\t\t\t}\n\t\t\t\t_fnMap( oCol, oOptions, \"aDataSort\" );\n\t\t\t}\n\t\t\n\t\t\t/* Cache the data get and set functions for speed */\n\t\t\tvar mRender = oCol.mRender ? _fnGetObjectDataFn( oCol.mRender ) : null;\n\t\t\tvar mData = _fnGetObjectDataFn( oCol.mData );\n\t\t\n\t\t\toCol.fnGetData = function (oData, sSpecific) {\n\t\t\t\tvar innerData = mData( oData, sSpecific );\n\t\t\n\t\t\t\tif ( oCol.mRender && (sSpecific && sSpecific !== '') )\n\t\t\t\t{\n\t\t\t\t\treturn mRender( innerData, sSpecific, oData );\n\t\t\t\t}\n\t\t\t\treturn innerData;\n\t\t\t};\n\t\t\toCol.fnSetData = _fnSetObjectDataFn( oCol.mData );\n\t\t\t\n\t\t\t/* Feature sorting overrides column specific when off */\n\t\t\tif ( !oSettings.oFeatures.bSort )\n\t\t\t{\n\t\t\t\toCol.bSortable = false;\n\t\t\t}\n\t\t\t\n\t\t\t/* Check that the class assignment is correct for sorting */\n\t\t\tif ( !oCol.bSortable ||\n\t\t\t\t ($.inArray('asc', oCol.asSorting) == -1 && $.inArray('desc', oCol.asSorting) == -1) )\n\t\t\t{\n\t\t\t\toCol.sSortingClass = oSettings.oClasses.sSortableNone;\n\t\t\t\toCol.sSortingClassJUI = \"\";\n\t\t\t}\n\t\t\telse if ( $.inArray('asc', oCol.asSorting) == -1 && $.inArray('desc', oCol.asSorting) == -1 )\n\t\t\t{\n\t\t\t\toCol.sSortingClass = oSettings.oClasses.sSortable;\n\t\t\t\toCol.sSortingClassJUI = oSettings.oClasses.sSortJUI;\n\t\t\t}\n\t\t\telse if ( $.inArray('asc', oCol.asSorting) != -1 && $.inArray('desc', oCol.asSorting) == -1 )\n\t\t\t{\n\t\t\t\toCol.sSortingClass = oSettings.oClasses.sSortableAsc;\n\t\t\t\toCol.sSortingClassJUI = oSettings.oClasses.sSortJUIAscAllowed;\n\t\t\t}\n\t\t\telse if ( $.inArray('asc', oCol.asSorting) == -1 && $.inArray('desc', oCol.asSorting) != -1 )\n\t\t\t{\n\t\t\t\toCol.sSortingClass = oSettings.oClasses.sSortableDesc;\n\t\t\t\toCol.sSortingClassJUI = oSettings.oClasses.sSortJUIDescAllowed;\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Adjust the table column widths for new data. Note: you would probably want to \n\t\t * do a redraw after calling this function!\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnAdjustColumnSizing ( oSettings )\n\t\t{\n\t\t\t/* Not interested in doing column width calculation if auto-width is disabled */\n\t\t\tif ( oSettings.oFeatures.bAutoWidth === false )\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\t_fnCalculateColumnWidths( oSettings );\n\t\t\tfor ( var i=0 , iLen=oSettings.aoColumns.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\toSettings.aoColumns[i].nTh.style.width = oSettings.aoColumns[i].sWidth;\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Covert the index of a visible column to the index in the data array (take account\n\t\t * of hidden columns)\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {int} iMatch Visible column index to lookup\n\t\t *  @returns {int} i the data index\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnVisibleToColumnIndex( oSettings, iMatch )\n\t\t{\n\t\t\tvar aiVis = _fnGetColumns( oSettings, 'bVisible' );\n\t\t\n\t\t\treturn typeof aiVis[iMatch] === 'number' ?\n\t\t\t\taiVis[iMatch] :\n\t\t\t\tnull;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Covert the index of an index in the data array and convert it to the visible\n\t\t *   column index (take account of hidden columns)\n\t\t *  @param {int} iMatch Column index to lookup\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @returns {int} i the data index\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnColumnIndexToVisible( oSettings, iMatch )\n\t\t{\n\t\t\tvar aiVis = _fnGetColumns( oSettings, 'bVisible' );\n\t\t\tvar iPos = $.inArray( iMatch, aiVis );\n\t\t\n\t\t\treturn iPos !== -1 ? iPos : null;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Get the number of visible columns\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @returns {int} i the number of visible columns\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnVisbleColumns( oSettings )\n\t\t{\n\t\t\treturn _fnGetColumns( oSettings, 'bVisible' ).length;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Get an array of column indexes that match a given property\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {string} sParam Parameter in aoColumns to look for - typically \n\t\t *    bVisible or bSearchable\n\t\t *  @returns {array} Array of indexes with matched properties\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnGetColumns( oSettings, sParam )\n\t\t{\n\t\t\tvar a = [];\n\t\t\n\t\t\t$.map( oSettings.aoColumns, function(val, i) {\n\t\t\t\tif ( val[sParam] ) {\n\t\t\t\t\ta.push( i );\n\t\t\t\t}\n\t\t\t} );\n\t\t\n\t\t\treturn a;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Get the sort type based on an input string\n\t\t *  @param {string} sData data we wish to know the type of\n\t\t *  @returns {string} type (defaults to 'string' if no type can be detected)\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnDetectType( sData )\n\t\t{\n\t\t\tvar aTypes = DataTable.ext.aTypes;\n\t\t\tvar iLen = aTypes.length;\n\t\t\t\n\t\t\tfor ( var i=0 ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tvar sType = aTypes[i]( sData );\n\t\t\t\tif ( sType !== null )\n\t\t\t\t{\n\t\t\t\t\treturn sType;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn 'string';\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Figure out how to reorder a display list\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @returns array {int} aiReturn index list for reordering\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnReOrderIndex ( oSettings, sColumns )\n\t\t{\n\t\t\tvar aColumns = sColumns.split(',');\n\t\t\tvar aiReturn = [];\n\t\t\t\n\t\t\tfor ( var i=0, iLen=oSettings.aoColumns.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tfor ( var j=0 ; j<iLen ; j++ )\n\t\t\t\t{\n\t\t\t\t\tif ( oSettings.aoColumns[i].sName == aColumns[j] )\n\t\t\t\t\t{\n\t\t\t\t\t\taiReturn.push( j );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn aiReturn;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Get the column ordering that DataTables expects\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @returns {string} comma separated list of names\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnColumnOrdering ( oSettings )\n\t\t{\n\t\t\tvar sNames = '';\n\t\t\tfor ( var i=0, iLen=oSettings.aoColumns.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tsNames += oSettings.aoColumns[i].sName+',';\n\t\t\t}\n\t\t\tif ( sNames.length == iLen )\n\t\t\t{\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t\treturn sNames.slice(0, -1);\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Take the column definitions and static columns arrays and calculate how\n\t\t * they relate to column indexes. The callback function will then apply the\n\t\t * definition found for a column to a suitable configuration object.\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {array} aoColDefs The aoColumnDefs array that is to be applied\n\t\t *  @param {array} aoCols The aoColumns array that defines columns individually\n\t\t *  @param {function} fn Callback function - takes two parameters, the calculated\n\t\t *    column index and the definition for that column.\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnApplyColumnDefs( oSettings, aoColDefs, aoCols, fn )\n\t\t{\n\t\t\tvar i, iLen, j, jLen, k, kLen;\n\t\t\n\t\t\t// Column definitions with aTargets\n\t\t\tif ( aoColDefs )\n\t\t\t{\n\t\t\t\t/* Loop over the definitions array - loop in reverse so first instance has priority */\n\t\t\t\tfor ( i=aoColDefs.length-1 ; i>=0 ; i-- )\n\t\t\t\t{\n\t\t\t\t\t/* Each definition can target multiple columns, as it is an array */\n\t\t\t\t\tvar aTargets = aoColDefs[i].aTargets;\n\t\t\t\t\tif ( !$.isArray( aTargets ) )\n\t\t\t\t\t{\n\t\t\t\t\t\t_fnLog( oSettings, 1, 'aTargets must be an array of targets, not a '+(typeof aTargets) );\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tfor ( j=0, jLen=aTargets.length ; j<jLen ; j++ )\n\t\t\t\t\t{\n\t\t\t\t\t\tif ( typeof aTargets[j] === 'number' && aTargets[j] >= 0 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t/* Add columns that we don't yet know about */\n\t\t\t\t\t\t\twhile( oSettings.aoColumns.length <= aTargets[j] )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t_fnAddColumn( oSettings );\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t/* Integer, basic index */\n\t\t\t\t\t\t\tfn( aTargets[j], aoColDefs[i] );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if ( typeof aTargets[j] === 'number' && aTargets[j] < 0 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t/* Negative integer, right to left column counting */\n\t\t\t\t\t\t\tfn( oSettings.aoColumns.length+aTargets[j], aoColDefs[i] );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if ( typeof aTargets[j] === 'string' )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t/* Class name matching on TH element */\n\t\t\t\t\t\t\tfor ( k=0, kLen=oSettings.aoColumns.length ; k<kLen ; k++ )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif ( aTargets[j] == \"_all\" ||\n\t\t\t\t\t\t\t\t     $(oSettings.aoColumns[k].nTh).hasClass( aTargets[j] ) )\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfn( k, aoColDefs[i] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\t// Statically defined columns array\n\t\t\tif ( aoCols )\n\t\t\t{\n\t\t\t\tfor ( i=0, iLen=aoCols.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\tfn( i, aoCols[i] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t/**\n\t\t * Add a data array to the table, creating DOM node etc. This is the parallel to \n\t\t * _fnGatherData, but for adding rows from a Javascript source, rather than a\n\t\t * DOM source.\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {array} aData data array to be added\n\t\t *  @returns {int} >=0 if successful (index of new aoData entry), -1 if failed\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnAddData ( oSettings, aDataSupplied )\n\t\t{\n\t\t\tvar oCol;\n\t\t\t\n\t\t\t/* Take an independent copy of the data source so we can bash it about as we wish */\n\t\t\tvar aDataIn = ($.isArray(aDataSupplied)) ?\n\t\t\t\taDataSupplied.slice() :\n\t\t\t\t$.extend( true, {}, aDataSupplied );\n\t\t\t\n\t\t\t/* Create the object for storing information about this new row */\n\t\t\tvar iRow = oSettings.aoData.length;\n\t\t\tvar oData = $.extend( true, {}, DataTable.models.oRow );\n\t\t\toData._aData = aDataIn;\n\t\t\toSettings.aoData.push( oData );\n\t\t\n\t\t\t/* Create the cells */\n\t\t\tvar nTd, sThisType;\n\t\t\tfor ( var i=0, iLen=oSettings.aoColumns.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\toCol = oSettings.aoColumns[i];\n\t\t\n\t\t\t\t/* Use rendered data for filtering / sorting */\n\t\t\t\tif ( typeof oCol.fnRender === 'function' && oCol.bUseRendered && oCol.mData !== null )\n\t\t\t\t{\n\t\t\t\t\t_fnSetCellData( oSettings, iRow, i, _fnRender(oSettings, iRow, i) );\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t_fnSetCellData( oSettings, iRow, i, _fnGetCellData( oSettings, iRow, i ) );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* See if we should auto-detect the column type */\n\t\t\t\tif ( oCol._bAutoType && oCol.sType != 'string' )\n\t\t\t\t{\n\t\t\t\t\t/* Attempt to auto detect the type - same as _fnGatherData() */\n\t\t\t\t\tvar sVarType = _fnGetCellData( oSettings, iRow, i, 'type' );\n\t\t\t\t\tif ( sVarType !== null && sVarType !== '' )\n\t\t\t\t\t{\n\t\t\t\t\t\tsThisType = _fnDetectType( sVarType );\n\t\t\t\t\t\tif ( oCol.sType === null )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toCol.sType = sThisType;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if ( oCol.sType != sThisType && oCol.sType != \"html\" )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t/* String is always the 'fallback' option */\n\t\t\t\t\t\t\toCol.sType = 'string';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* Add to the display array */\n\t\t\toSettings.aiDisplayMaster.push( iRow );\n\t\t\n\t\t\t/* Create the DOM information */\n\t\t\tif ( !oSettings.oFeatures.bDeferRender )\n\t\t\t{\n\t\t\t\t_fnCreateTr( oSettings, iRow );\n\t\t\t}\n\t\t\n\t\t\treturn iRow;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Read in the data from the target table from the DOM\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnGatherData( oSettings )\n\t\t{\n\t\t\tvar iLoop, i, iLen, j, jLen, jInner,\n\t\t\t \tnTds, nTrs, nTd, nTr, aLocalData, iThisIndex,\n\t\t\t\tiRow, iRows, iColumn, iColumns, sNodeName,\n\t\t\t\toCol, oData;\n\t\t\t\n\t\t\t/*\n\t\t\t * Process by row first\n\t\t\t * Add the data object for the whole table - storing the tr node. Note - no point in getting\n\t\t\t * DOM based data if we are going to go and replace it with Ajax source data.\n\t\t\t */\n\t\t\tif ( oSettings.bDeferLoading || oSettings.sAjaxSource === null )\n\t\t\t{\n\t\t\t\tnTr = oSettings.nTBody.firstChild;\n\t\t\t\twhile ( nTr )\n\t\t\t\t{\n\t\t\t\t\tif ( nTr.nodeName.toUpperCase() == \"TR\" )\n\t\t\t\t\t{\n\t\t\t\t\t\tiThisIndex = oSettings.aoData.length;\n\t\t\t\t\t\tnTr._DT_RowIndex = iThisIndex;\n\t\t\t\t\t\toSettings.aoData.push( $.extend( true, {}, DataTable.models.oRow, {\n\t\t\t\t\t\t\t\"nTr\": nTr\n\t\t\t\t\t\t} ) );\n\t\t\n\t\t\t\t\t\toSettings.aiDisplayMaster.push( iThisIndex );\n\t\t\t\t\t\tnTd = nTr.firstChild;\n\t\t\t\t\t\tjInner = 0;\n\t\t\t\t\t\twhile ( nTd )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsNodeName = nTd.nodeName.toUpperCase();\n\t\t\t\t\t\t\tif ( sNodeName == \"TD\" || sNodeName == \"TH\" )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t_fnSetCellData( oSettings, iThisIndex, jInner, $.trim(nTd.innerHTML) );\n\t\t\t\t\t\t\t\tjInner++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tnTd = nTd.nextSibling;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnTr = nTr.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* Gather in the TD elements of the Table - note that this is basically the same as\n\t\t\t * fnGetTdNodes, but that function takes account of hidden columns, which we haven't yet\n\t\t\t * setup!\n\t\t\t */\n\t\t\tnTrs = _fnGetTrNodes( oSettings );\n\t\t\tnTds = [];\n\t\t\tfor ( i=0, iLen=nTrs.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tnTd = nTrs[i].firstChild;\n\t\t\t\twhile ( nTd )\n\t\t\t\t{\n\t\t\t\t\tsNodeName = nTd.nodeName.toUpperCase();\n\t\t\t\t\tif ( sNodeName == \"TD\" || sNodeName == \"TH\" )\n\t\t\t\t\t{\n\t\t\t\t\t\tnTds.push( nTd );\n\t\t\t\t\t}\n\t\t\t\t\tnTd = nTd.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* Now process by column */\n\t\t\tfor ( iColumn=0, iColumns=oSettings.aoColumns.length ; iColumn<iColumns ; iColumn++ )\n\t\t\t{\n\t\t\t\toCol = oSettings.aoColumns[iColumn];\n\t\t\n\t\t\t\t/* Get the title of the column - unless there is a user set one */\n\t\t\t\tif ( oCol.sTitle === null )\n\t\t\t\t{\n\t\t\t\t\toCol.sTitle = oCol.nTh.innerHTML;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvar\n\t\t\t\t\tbAutoType = oCol._bAutoType,\n\t\t\t\t\tbRender = typeof oCol.fnRender === 'function',\n\t\t\t\t\tbClass = oCol.sClass !== null,\n\t\t\t\t\tbVisible = oCol.bVisible,\n\t\t\t\t\tnCell, sThisType, sRendered, sValType;\n\t\t\t\t\n\t\t\t\t/* A single loop to rule them all (and be more efficient) */\n\t\t\t\tif ( bAutoType || bRender || bClass || !bVisible )\n\t\t\t\t{\n\t\t\t\t\tfor ( iRow=0, iRows=oSettings.aoData.length ; iRow<iRows ; iRow++ )\n\t\t\t\t\t{\n\t\t\t\t\t\toData = oSettings.aoData[iRow];\n\t\t\t\t\t\tnCell = nTds[ (iRow*iColumns) + iColumn ];\n\t\t\t\t\t\t\n\t\t\t\t\t\t/* Type detection */\n\t\t\t\t\t\tif ( bAutoType && oCol.sType != 'string' )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsValType = _fnGetCellData( oSettings, iRow, iColumn, 'type' );\n\t\t\t\t\t\t\tif ( sValType !== '' )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tsThisType = _fnDetectType( sValType );\n\t\t\t\t\t\t\t\tif ( oCol.sType === null )\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\toCol.sType = sThisType;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if ( oCol.sType != sThisType && \n\t\t\t\t\t\t\t\t          oCol.sType != \"html\" )\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t/* String is always the 'fallback' option */\n\t\t\t\t\t\t\t\t\toCol.sType = 'string';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tif ( oCol.mRender )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// mRender has been defined, so we need to get the value and set it\n\t\t\t\t\t\t\tnCell.innerHTML = _fnGetCellData( oSettings, iRow, iColumn, 'display' );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if ( oCol.mData !== iColumn )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// If mData is not the same as the column number, then we need to\n\t\t\t\t\t\t\t// get the dev set value. If it is the column, no point in wasting\n\t\t\t\t\t\t\t// time setting the value that is already there!\n\t\t\t\t\t\t\tnCell.innerHTML = _fnGetCellData( oSettings, iRow, iColumn, 'display' );\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t/* Rendering */\n\t\t\t\t\t\tif ( bRender )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsRendered = _fnRender( oSettings, iRow, iColumn );\n\t\t\t\t\t\t\tnCell.innerHTML = sRendered;\n\t\t\t\t\t\t\tif ( oCol.bUseRendered )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t/* Use the rendered data for filtering / sorting */\n\t\t\t\t\t\t\t\t_fnSetCellData( oSettings, iRow, iColumn, sRendered );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t/* Classes */\n\t\t\t\t\t\tif ( bClass )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnCell.className += ' '+oCol.sClass;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t/* Column visibility */\n\t\t\t\t\t\tif ( !bVisible )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toData._anHidden[iColumn] = nCell;\n\t\t\t\t\t\t\tnCell.parentNode.removeChild( nCell );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toData._anHidden[iColumn] = null;\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tif ( oCol.fnCreatedCell )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toCol.fnCreatedCell.call( oSettings.oInstance,\n\t\t\t\t\t\t\t\tnCell, _fnGetCellData( oSettings, iRow, iColumn, 'display' ), oData._aData, iRow, iColumn\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\t/* Row created callbacks */\n\t\t\tif ( oSettings.aoRowCreatedCallback.length !== 0 )\n\t\t\t{\n\t\t\t\tfor ( i=0, iLen=oSettings.aoData.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\toData = oSettings.aoData[i];\n\t\t\t\t\t_fnCallbackFire( oSettings, 'aoRowCreatedCallback', null, [oData.nTr, oData._aData, i] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Take a TR element and convert it to an index in aoData\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {node} n the TR element to find\n\t\t *  @returns {int} index if the node is found, null if not\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnNodeToDataIndex( oSettings, n )\n\t\t{\n\t\t\treturn (n._DT_RowIndex!==undefined) ? n._DT_RowIndex : null;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Take a TD element and convert it into a column data index (not the visible index)\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {int} iRow The row number the TD/TH can be found in\n\t\t *  @param {node} n The TD/TH element to find\n\t\t *  @returns {int} index if the node is found, -1 if not\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnNodeToColumnIndex( oSettings, iRow, n )\n\t\t{\n\t\t\tvar anCells = _fnGetTdNodes( oSettings, iRow );\n\t\t\n\t\t\tfor ( var i=0, iLen=oSettings.aoColumns.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tif ( anCells[i] === n )\n\t\t\t\t{\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Get an array of data for a given row from the internal data cache\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {int} iRow aoData row id\n\t\t *  @param {string} sSpecific data get type ('type' 'filter' 'sort')\n\t\t *  @param {array} aiColumns Array of column indexes to get data from\n\t\t *  @returns {array} Data array\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnGetRowData( oSettings, iRow, sSpecific, aiColumns )\n\t\t{\n\t\t\tvar out = [];\n\t\t\tfor ( var i=0, iLen=aiColumns.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tout.push( _fnGetCellData( oSettings, iRow, aiColumns[i], sSpecific ) );\n\t\t\t}\n\t\t\treturn out;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Get the data for a given cell from the internal cache, taking into account data mapping\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {int} iRow aoData row id\n\t\t *  @param {int} iCol Column index\n\t\t *  @param {string} sSpecific data get type ('display', 'type' 'filter' 'sort')\n\t\t *  @returns {*} Cell data\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnGetCellData( oSettings, iRow, iCol, sSpecific )\n\t\t{\n\t\t\tvar sData;\n\t\t\tvar oCol = oSettings.aoColumns[iCol];\n\t\t\tvar oData = oSettings.aoData[iRow]._aData;\n\t\t\n\t\t\tif ( (sData=oCol.fnGetData( oData, sSpecific )) === undefined )\n\t\t\t{\n\t\t\t\tif ( oSettings.iDrawError != oSettings.iDraw && oCol.sDefaultContent === null )\n\t\t\t\t{\n\t\t\t\t\t_fnLog( oSettings, 0, \"Requested unknown parameter \"+\n\t\t\t\t\t\t(typeof oCol.mData=='function' ? '{mData function}' : \"'\"+oCol.mData+\"'\")+\n\t\t\t\t\t\t\" from the data source for row \"+iRow );\n\t\t\t\t\toSettings.iDrawError = oSettings.iDraw;\n\t\t\t\t}\n\t\t\t\treturn oCol.sDefaultContent;\n\t\t\t}\n\t\t\n\t\t\t/* When the data source is null, we can use default column data */\n\t\t\tif ( sData === null && oCol.sDefaultContent !== null )\n\t\t\t{\n\t\t\t\tsData = oCol.sDefaultContent;\n\t\t\t}\n\t\t\telse if ( typeof sData === 'function' )\n\t\t\t{\n\t\t\t\t/* If the data source is a function, then we run it and use the return */\n\t\t\t\treturn sData();\n\t\t\t}\n\t\t\n\t\t\tif ( sSpecific == 'display' && sData === null )\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\treturn sData;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Set the value for a specific cell, into the internal data cache\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {int} iRow aoData row id\n\t\t *  @param {int} iCol Column index\n\t\t *  @param {*} val Value to set\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnSetCellData( oSettings, iRow, iCol, val )\n\t\t{\n\t\t\tvar oCol = oSettings.aoColumns[iCol];\n\t\t\tvar oData = oSettings.aoData[iRow]._aData;\n\t\t\n\t\t\toCol.fnSetData( oData, val );\n\t\t}\n\t\t\n\t\t\n\t\t// Private variable that is used to match array syntax in the data property object\n\t\tvar __reArray = /\\[.*?\\]$/;\n\t\t\n\t\t/**\n\t\t * Return a function that can be used to get data from a source object, taking\n\t\t * into account the ability to use nested objects as a source\n\t\t *  @param {string|int|function} mSource The data source for the object\n\t\t *  @returns {function} Data get function\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnGetObjectDataFn( mSource )\n\t\t{\n\t\t\tif ( mSource === null )\n\t\t\t{\n\t\t\t\t/* Give an empty string for rendering / sorting etc */\n\t\t\t\treturn function (data, type) {\n\t\t\t\t\treturn null;\n\t\t\t\t};\n\t\t\t}\n\t\t\telse if ( typeof mSource === 'function' )\n\t\t\t{\n\t\t\t\treturn function (data, type, extra) {\n\t\t\t\t\treturn mSource( data, type, extra );\n\t\t\t\t};\n\t\t\t}\n\t\t\telse if ( typeof mSource === 'string' && (mSource.indexOf('.') !== -1 || mSource.indexOf('[') !== -1) )\n\t\t\t{\n\t\t\t\t/* If there is a . in the source string then the data source is in a \n\t\t\t\t * nested object so we loop over the data for each level to get the next\n\t\t\t\t * level down. On each loop we test for undefined, and if found immediately\n\t\t\t\t * return. This allows entire objects to be missing and sDefaultContent to\n\t\t\t\t * be used if defined, rather than throwing an error\n\t\t\t\t */\n\t\t\t\tvar fetchData = function (data, type, src) {\n\t\t\t\t\tvar a = src.split('.');\n\t\t\t\t\tvar arrayNotation, out, innerSrc;\n\t\t\n\t\t\t\t\tif ( src !== \"\" )\n\t\t\t\t\t{\n\t\t\t\t\t\tfor ( var i=0, iLen=a.length ; i<iLen ; i++ )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// Check if we are dealing with an array notation request\n\t\t\t\t\t\t\tarrayNotation = a[i].match(__reArray);\n\t\t\n\t\t\t\t\t\t\tif ( arrayNotation ) {\n\t\t\t\t\t\t\t\ta[i] = a[i].replace(__reArray, '');\n\t\t\n\t\t\t\t\t\t\t\t// Condition allows simply [] to be passed in\n\t\t\t\t\t\t\t\tif ( a[i] !== \"\" ) {\n\t\t\t\t\t\t\t\t\tdata = data[ a[i] ];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tout = [];\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// Get the remainder of the nested object to get\n\t\t\t\t\t\t\t\ta.splice( 0, i+1 );\n\t\t\t\t\t\t\t\tinnerSrc = a.join('.');\n\t\t\n\t\t\t\t\t\t\t\t// Traverse each entry in the array getting the properties requested\n\t\t\t\t\t\t\t\tfor ( var j=0, jLen=data.length ; j<jLen ; j++ ) {\n\t\t\t\t\t\t\t\t\tout.push( fetchData( data[j], type, innerSrc ) );\n\t\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t\t// If a string is given in between the array notation indicators, that\n\t\t\t\t\t\t\t\t// is used to join the strings together, otherwise an array is returned\n\t\t\t\t\t\t\t\tvar join = arrayNotation[0].substring(1, arrayNotation[0].length-1);\n\t\t\t\t\t\t\t\tdata = (join===\"\") ? out : out.join(join);\n\t\t\n\t\t\t\t\t\t\t\t// The inner call to fetchData has already traversed through the remainder\n\t\t\t\t\t\t\t\t// of the source requested, so we exit from the loop\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\tif ( data === null || data[ a[i] ] === undefined )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdata = data[ a[i] ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn data;\n\t\t\t\t};\n\t\t\n\t\t\t\treturn function (data, type) {\n\t\t\t\t\treturn fetchData( data, type, mSource );\n\t\t\t\t};\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t/* Array or flat object mapping */\n\t\t\t\treturn function (data, type) {\n\t\t\t\t\treturn data[mSource];\t\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Return a function that can be used to set data from a source object, taking\n\t\t * into account the ability to use nested objects as a source\n\t\t *  @param {string|int|function} mSource The data source for the object\n\t\t *  @returns {function} Data set function\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnSetObjectDataFn( mSource )\n\t\t{\n\t\t\tif ( mSource === null )\n\t\t\t{\n\t\t\t\t/* Nothing to do when the data source is null */\n\t\t\t\treturn function (data, val) {};\n\t\t\t}\n\t\t\telse if ( typeof mSource === 'function' )\n\t\t\t{\n\t\t\t\treturn function (data, val) {\n\t\t\t\t\tmSource( data, 'set', val );\n\t\t\t\t};\n\t\t\t}\n\t\t\telse if ( typeof mSource === 'string' && (mSource.indexOf('.') !== -1 || mSource.indexOf('[') !== -1) )\n\t\t\t{\n\t\t\t\t/* Like the get, we need to get data from a nested object */\n\t\t\t\tvar setData = function (data, val, src) {\n\t\t\t\t\tvar a = src.split('.'), b;\n\t\t\t\t\tvar arrayNotation, o, innerSrc;\n\t\t\n\t\t\t\t\tfor ( var i=0, iLen=a.length-1 ; i<iLen ; i++ )\n\t\t\t\t\t{\n\t\t\t\t\t\t// Check if we are dealing with an array notation request\n\t\t\t\t\t\tarrayNotation = a[i].match(__reArray);\n\t\t\n\t\t\t\t\t\tif ( arrayNotation )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ta[i] = a[i].replace(__reArray, '');\n\t\t\t\t\t\t\tdata[ a[i] ] = [];\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// Get the remainder of the nested object to set so we can recurse\n\t\t\t\t\t\t\tb = a.slice();\n\t\t\t\t\t\t\tb.splice( 0, i+1 );\n\t\t\t\t\t\t\tinnerSrc = b.join('.');\n\t\t\n\t\t\t\t\t\t\t// Traverse each entry in the array setting the properties requested\n\t\t\t\t\t\t\tfor ( var j=0, jLen=val.length ; j<jLen ; j++ )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\to = {};\n\t\t\t\t\t\t\t\tsetData( o, val[j], innerSrc );\n\t\t\t\t\t\t\t\tdata[ a[i] ].push( o );\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t// The inner call to setData has already traversed through the remainder\n\t\t\t\t\t\t\t// of the source and has set the data, thus we can exit here\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t// If the nested object doesn't currently exist - since we are\n\t\t\t\t\t\t// trying to set the value - create it\n\t\t\t\t\t\tif ( data[ a[i] ] === null || data[ a[i] ] === undefined )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdata[ a[i] ] = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata = data[ a[i] ];\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t// If array notation is used, we just want to strip it and use the property name\n\t\t\t\t\t// and assign the value. If it isn't used, then we get the result we want anyway\n\t\t\t\t\tdata[ a[a.length-1].replace(__reArray, '') ] = val;\n\t\t\t\t};\n\t\t\n\t\t\t\treturn function (data, val) {\n\t\t\t\t\treturn setData( data, val, mSource );\n\t\t\t\t};\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t/* Array or flat object mapping */\n\t\t\t\treturn function (data, val) {\n\t\t\t\t\tdata[mSource] = val;\t\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Return an array with the full table data\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @returns array {array} aData Master data array\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnGetDataMaster ( oSettings )\n\t\t{\n\t\t\tvar aData = [];\n\t\t\tvar iLen = oSettings.aoData.length;\n\t\t\tfor ( var i=0 ; i<iLen; i++ )\n\t\t\t{\n\t\t\t\taData.push( oSettings.aoData[i]._aData );\n\t\t\t}\n\t\t\treturn aData;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Nuke the table\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnClearTable( oSettings )\n\t\t{\n\t\t\toSettings.aoData.splice( 0, oSettings.aoData.length );\n\t\t\toSettings.aiDisplayMaster.splice( 0, oSettings.aiDisplayMaster.length );\n\t\t\toSettings.aiDisplay.splice( 0, oSettings.aiDisplay.length );\n\t\t\t_fnCalculateEnd( oSettings );\n\t\t}\n\t\t\n\t\t\n\t\t /**\n\t\t * Take an array of integers (index array) and remove a target integer (value - not \n\t\t * the key!)\n\t\t *  @param {array} a Index array to target\n\t\t *  @param {int} iTarget value to find\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnDeleteIndex( a, iTarget )\n\t\t{\n\t\t\tvar iTargetIndex = -1;\n\t\t\t\n\t\t\tfor ( var i=0, iLen=a.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tif ( a[i] == iTarget )\n\t\t\t\t{\n\t\t\t\t\tiTargetIndex = i;\n\t\t\t\t}\n\t\t\t\telse if ( a[i] > iTarget )\n\t\t\t\t{\n\t\t\t\t\ta[i]--;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif ( iTargetIndex != -1 )\n\t\t\t{\n\t\t\t\ta.splice( iTargetIndex, 1 );\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t /**\n\t\t * Call the developer defined fnRender function for a given cell (row/column) with\n\t\t * the required parameters and return the result.\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {int} iRow aoData index for the row\n\t\t *  @param {int} iCol aoColumns index for the column\n\t\t *  @returns {*} Return of the developer's fnRender function\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnRender( oSettings, iRow, iCol )\n\t\t{\n\t\t\tvar oCol = oSettings.aoColumns[iCol];\n\t\t\n\t\t\treturn oCol.fnRender( {\n\t\t\t\t\"iDataRow\":    iRow,\n\t\t\t\t\"iDataColumn\": iCol,\n\t\t\t\t\"oSettings\":   oSettings,\n\t\t\t\t\"aData\":       oSettings.aoData[iRow]._aData,\n\t\t\t\t\"mDataProp\":   oCol.mData\n\t\t\t}, _fnGetCellData(oSettings, iRow, iCol, 'display') );\n\t\t}\n\t\t/**\n\t\t * Create a new TR element (and it's TD children) for a row\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {int} iRow Row to consider\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnCreateTr ( oSettings, iRow )\n\t\t{\n\t\t\tvar oData = oSettings.aoData[iRow];\n\t\t\tvar nTd;\n\t\t\n\t\t\tif ( oData.nTr === null )\n\t\t\t{\n\t\t\t\toData.nTr = document.createElement('tr');\n\t\t\n\t\t\t\t/* Use a private property on the node to allow reserve mapping from the node\n\t\t\t\t * to the aoData array for fast look up\n\t\t\t\t */\n\t\t\t\toData.nTr._DT_RowIndex = iRow;\n\t\t\n\t\t\t\t/* Special parameters can be given by the data source to be used on the row */\n\t\t\t\tif ( oData._aData.DT_RowId )\n\t\t\t\t{\n\t\t\t\t\toData.nTr.id = oData._aData.DT_RowId;\n\t\t\t\t}\n\t\t\n\t\t\t\tif ( oData._aData.DT_RowClass )\n\t\t\t\t{\n\t\t\t\t\toData.nTr.className = oData._aData.DT_RowClass;\n\t\t\t\t}\n\t\t\n\t\t\t\t/* Process each column */\n\t\t\t\tfor ( var i=0, iLen=oSettings.aoColumns.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\tvar oCol = oSettings.aoColumns[i];\n\t\t\t\t\tnTd = document.createElement( oCol.sCellType );\n\t\t\n\t\t\t\t\t/* Render if needed - if bUseRendered is true then we already have the rendered\n\t\t\t\t\t * value in the data source - so can just use that\n\t\t\t\t\t */\n\t\t\t\t\tnTd.innerHTML = (typeof oCol.fnRender === 'function' && (!oCol.bUseRendered || oCol.mData === null)) ?\n\t\t\t\t\t\t_fnRender( oSettings, iRow, i ) :\n\t\t\t\t\t\t_fnGetCellData( oSettings, iRow, i, 'display' );\n\t\t\t\t\n\t\t\t\t\t/* Add user defined class */\n\t\t\t\t\tif ( oCol.sClass !== null )\n\t\t\t\t\t{\n\t\t\t\t\t\tnTd.className = oCol.sClass;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif ( oCol.bVisible )\n\t\t\t\t\t{\n\t\t\t\t\t\toData.nTr.appendChild( nTd );\n\t\t\t\t\t\toData._anHidden[i] = null;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\toData._anHidden[i] = nTd;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif ( oCol.fnCreatedCell )\n\t\t\t\t\t{\n\t\t\t\t\t\toCol.fnCreatedCell.call( oSettings.oInstance,\n\t\t\t\t\t\t\tnTd, _fnGetCellData( oSettings, iRow, i, 'display' ), oData._aData, iRow, i\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t_fnCallbackFire( oSettings, 'aoRowCreatedCallback', null, [oData.nTr, oData._aData, iRow] );\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Create the HTML header for the table\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnBuildHead( oSettings )\n\t\t{\n\t\t\tvar i, nTh, iLen, j, jLen;\n\t\t\tvar iThs = $('th, td', oSettings.nTHead).length;\n\t\t\tvar iCorrector = 0;\n\t\t\tvar jqChildren;\n\t\t\t\n\t\t\t/* If there is a header in place - then use it - otherwise it's going to get nuked... */\n\t\t\tif ( iThs !== 0 )\n\t\t\t{\n\t\t\t\t/* We've got a thead from the DOM, so remove hidden columns and apply width to vis cols */\n\t\t\t\tfor ( i=0, iLen=oSettings.aoColumns.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\tnTh = oSettings.aoColumns[i].nTh;\n\t\t\t\t\tnTh.setAttribute('role', 'columnheader');\n\t\t\t\t\tif ( oSettings.aoColumns[i].bSortable )\n\t\t\t\t\t{\n\t\t\t\t\t\tnTh.setAttribute('tabindex', oSettings.iTabIndex);\n\t\t\t\t\t\tnTh.setAttribute('aria-controls', oSettings.sTableId);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif ( oSettings.aoColumns[i].sClass !== null )\n\t\t\t\t\t{\n\t\t\t\t\t\t$(nTh).addClass( oSettings.aoColumns[i].sClass );\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t/* Set the title of the column if it is user defined (not what was auto detected) */\n\t\t\t\t\tif ( oSettings.aoColumns[i].sTitle != nTh.innerHTML )\n\t\t\t\t\t{\n\t\t\t\t\t\tnTh.innerHTML = oSettings.aoColumns[i].sTitle;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t/* We don't have a header in the DOM - so we are going to have to create one */\n\t\t\t\tvar nTr = document.createElement( \"tr\" );\n\t\t\t\t\n\t\t\t\tfor ( i=0, iLen=oSettings.aoColumns.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\tnTh = oSettings.aoColumns[i].nTh;\n\t\t\t\t\tnTh.innerHTML = oSettings.aoColumns[i].sTitle;\n\t\t\t\t\tnTh.setAttribute('tabindex', '0');\n\t\t\t\t\t\n\t\t\t\t\tif ( oSettings.aoColumns[i].sClass !== null )\n\t\t\t\t\t{\n\t\t\t\t\t\t$(nTh).addClass( oSettings.aoColumns[i].sClass );\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tnTr.appendChild( nTh );\n\t\t\t\t}\n\t\t\t\t$(oSettings.nTHead).html( '' )[0].appendChild( nTr );\n\t\t\t\t_fnDetectHeader( oSettings.aoHeader, oSettings.nTHead );\n\t\t\t}\n\t\t\t\n\t\t\t/* ARIA role for the rows */\t\n\t\t\t$(oSettings.nTHead).children('tr').attr('role', 'row');\n\t\t\t\n\t\t\t/* Add the extra markup needed by jQuery UI's themes */\n\t\t\tif ( oSettings.bJUI )\n\t\t\t{\n\t\t\t\tfor ( i=0, iLen=oSettings.aoColumns.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\tnTh = oSettings.aoColumns[i].nTh;\n\t\t\t\t\t\n\t\t\t\t\tvar nDiv = document.createElement('div');\n\t\t\t\t\tnDiv.className = oSettings.oClasses.sSortJUIWrapper;\n\t\t\t\t\t$(nTh).contents().appendTo(nDiv);\n\t\t\t\t\t\n\t\t\t\t\tvar nSpan = document.createElement('span');\n\t\t\t\t\tnSpan.className = oSettings.oClasses.sSortIcon;\n\t\t\t\t\tnDiv.appendChild( nSpan );\n\t\t\t\t\tnTh.appendChild( nDiv );\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif ( oSettings.oFeatures.bSort )\n\t\t\t{\n\t\t\t\tfor ( i=0 ; i<oSettings.aoColumns.length ; i++ )\n\t\t\t\t{\n\t\t\t\t\tif ( oSettings.aoColumns[i].bSortable !== false )\n\t\t\t\t\t{\n\t\t\t\t\t\t_fnSortAttachListener( oSettings, oSettings.aoColumns[i].nTh, i );\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t$(oSettings.aoColumns[i].nTh).addClass( oSettings.oClasses.sSortableNone );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* Deal with the footer - add classes if required */\n\t\t\tif ( oSettings.oClasses.sFooterTH !== \"\" )\n\t\t\t{\n\t\t\t\t$(oSettings.nTFoot).children('tr').children('th').addClass( oSettings.oClasses.sFooterTH );\n\t\t\t}\n\t\t\t\n\t\t\t/* Cache the footer elements */\n\t\t\tif ( oSettings.nTFoot !== null )\n\t\t\t{\n\t\t\t\tvar anCells = _fnGetUniqueThs( oSettings, null, oSettings.aoFooter );\n\t\t\t\tfor ( i=0, iLen=oSettings.aoColumns.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\tif ( anCells[i] )\n\t\t\t\t\t{\n\t\t\t\t\t\toSettings.aoColumns[i].nTf = anCells[i];\n\t\t\t\t\t\tif ( oSettings.aoColumns[i].sClass )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$(anCells[i]).addClass( oSettings.aoColumns[i].sClass );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Draw the header (or footer) element based on the column visibility states. The\n\t\t * methodology here is to use the layout array from _fnDetectHeader, modified for\n\t\t * the instantaneous column visibility, to construct the new layout. The grid is\n\t\t * traversed over cell at a time in a rows x columns grid fashion, although each \n\t\t * cell insert can cover multiple elements in the grid - which is tracks using the\n\t\t * aApplied array. Cell inserts in the grid will only occur where there isn't\n\t\t * already a cell in that position.\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param array {objects} aoSource Layout array from _fnDetectHeader\n\t\t *  @param {boolean} [bIncludeHidden=false] If true then include the hidden columns in the calc, \n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnDrawHead( oSettings, aoSource, bIncludeHidden )\n\t\t{\n\t\t\tvar i, iLen, j, jLen, k, kLen, n, nLocalTr;\n\t\t\tvar aoLocal = [];\n\t\t\tvar aApplied = [];\n\t\t\tvar iColumns = oSettings.aoColumns.length;\n\t\t\tvar iRowspan, iColspan;\n\t\t\n\t\t\tif (  bIncludeHidden === undefined )\n\t\t\t{\n\t\t\t\tbIncludeHidden = false;\n\t\t\t}\n\t\t\n\t\t\t/* Make a copy of the master layout array, but without the visible columns in it */\n\t\t\tfor ( i=0, iLen=aoSource.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\taoLocal[i] = aoSource[i].slice();\n\t\t\t\taoLocal[i].nTr = aoSource[i].nTr;\n\t\t\n\t\t\t\t/* Remove any columns which are currently hidden */\n\t\t\t\tfor ( j=iColumns-1 ; j>=0 ; j-- )\n\t\t\t\t{\n\t\t\t\t\tif ( !oSettings.aoColumns[j].bVisible && !bIncludeHidden )\n\t\t\t\t\t{\n\t\t\t\t\t\taoLocal[i].splice( j, 1 );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t/* Prep the applied array - it needs an element for each row */\n\t\t\t\taApplied.push( [] );\n\t\t\t}\n\t\t\n\t\t\tfor ( i=0, iLen=aoLocal.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tnLocalTr = aoLocal[i].nTr;\n\t\t\t\t\n\t\t\t\t/* All cells are going to be replaced, so empty out the row */\n\t\t\t\tif ( nLocalTr )\n\t\t\t\t{\n\t\t\t\t\twhile( (n = nLocalTr.firstChild) )\n\t\t\t\t\t{\n\t\t\t\t\t\tnLocalTr.removeChild( n );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tfor ( j=0, jLen=aoLocal[i].length ; j<jLen ; j++ )\n\t\t\t\t{\n\t\t\t\t\tiRowspan = 1;\n\t\t\t\t\tiColspan = 1;\n\t\t\n\t\t\t\t\t/* Check to see if there is already a cell (row/colspan) covering our target\n\t\t\t\t\t * insert point. If there is, then there is nothing to do.\n\t\t\t\t\t */\n\t\t\t\t\tif ( aApplied[i][j] === undefined )\n\t\t\t\t\t{\n\t\t\t\t\t\tnLocalTr.appendChild( aoLocal[i][j].cell );\n\t\t\t\t\t\taApplied[i][j] = 1;\n\t\t\n\t\t\t\t\t\t/* Expand the cell to cover as many rows as needed */\n\t\t\t\t\t\twhile ( aoLocal[i+iRowspan] !== undefined &&\n\t\t\t\t\t\t        aoLocal[i][j].cell == aoLocal[i+iRowspan][j].cell )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\taApplied[i+iRowspan][j] = 1;\n\t\t\t\t\t\t\tiRowspan++;\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t/* Expand the cell to cover as many columns as needed */\n\t\t\t\t\t\twhile ( aoLocal[i][j+iColspan] !== undefined &&\n\t\t\t\t\t\t        aoLocal[i][j].cell == aoLocal[i][j+iColspan].cell )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t/* Must update the applied array over the rows for the columns */\n\t\t\t\t\t\t\tfor ( k=0 ; k<iRowspan ; k++ )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\taApplied[i+k][j+iColspan] = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tiColspan++;\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t/* Do the actual expansion in the DOM */\n\t\t\t\t\t\taoLocal[i][j].cell.rowSpan = iRowspan;\n\t\t\t\t\t\taoLocal[i][j].cell.colSpan = iColspan;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Insert the required TR nodes into the table for display\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnDraw( oSettings )\n\t\t{\n\t\t\t/* Provide a pre-callback function which can be used to cancel the draw is false is returned */\n\t\t\tvar aPreDraw = _fnCallbackFire( oSettings, 'aoPreDrawCallback', 'preDraw', [oSettings] );\n\t\t\tif ( $.inArray( false, aPreDraw ) !== -1 )\n\t\t\t{\n\t\t\t\t_fnProcessingDisplay( oSettings, false );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tvar i, iLen, n;\n\t\t\tvar anRows = [];\n\t\t\tvar iRowCount = 0;\n\t\t\tvar iStripes = oSettings.asStripeClasses.length;\n\t\t\tvar iOpenRows = oSettings.aoOpenRows.length;\n\t\t\t\n\t\t\toSettings.bDrawing = true;\n\t\t\t\n\t\t\t/* Check and see if we have an initial draw position from state saving */\n\t\t\tif ( oSettings.iInitDisplayStart !== undefined && oSettings.iInitDisplayStart != -1 )\n\t\t\t{\n\t\t\t\tif ( oSettings.oFeatures.bServerSide )\n\t\t\t\t{\n\t\t\t\t\toSettings._iDisplayStart = oSettings.iInitDisplayStart;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\toSettings._iDisplayStart = (oSettings.iInitDisplayStart >= oSettings.fnRecordsDisplay()) ?\n\t\t\t\t\t\t0 : oSettings.iInitDisplayStart;\n\t\t\t\t}\n\t\t\t\toSettings.iInitDisplayStart = -1;\n\t\t\t\t_fnCalculateEnd( oSettings );\n\t\t\t}\n\t\t\t\n\t\t\t/* Server-side processing draw intercept */\n\t\t\tif ( oSettings.bDeferLoading )\n\t\t\t{\n\t\t\t\toSettings.bDeferLoading = false;\n\t\t\t\toSettings.iDraw++;\n\t\t\t}\n\t\t\telse if ( !oSettings.oFeatures.bServerSide )\n\t\t\t{\n\t\t\t\toSettings.iDraw++;\n\t\t\t}\n\t\t\telse if ( !oSettings.bDestroying && !_fnAjaxUpdate( oSettings ) )\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tif ( oSettings.aiDisplay.length !== 0 )\n\t\t\t{\n\t\t\t\tvar iStart = oSettings._iDisplayStart;\n\t\t\t\tvar iEnd = oSettings._iDisplayEnd;\n\t\t\t\t\n\t\t\t\tif ( oSettings.oFeatures.bServerSide )\n\t\t\t\t{\n\t\t\t\t\tiStart = 0;\n\t\t\t\t\tiEnd = oSettings.aoData.length;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor ( var j=iStart ; j<iEnd ; j++ )\n\t\t\t\t{\n\t\t\t\t\tvar aoData = oSettings.aoData[ oSettings.aiDisplay[j] ];\n\t\t\t\t\tif ( aoData.nTr === null )\n\t\t\t\t\t{\n\t\t\t\t\t\t_fnCreateTr( oSettings, oSettings.aiDisplay[j] );\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tvar nRow = aoData.nTr;\n\t\t\t\t\t\n\t\t\t\t\t/* Remove the old striping classes and then add the new one */\n\t\t\t\t\tif ( iStripes !== 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\tvar sStripe = oSettings.asStripeClasses[ iRowCount % iStripes ];\n\t\t\t\t\t\tif ( aoData._sRowStripe != sStripe )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$(nRow).removeClass( aoData._sRowStripe ).addClass( sStripe );\n\t\t\t\t\t\t\taoData._sRowStripe = sStripe;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t/* Row callback functions - might want to manipulate the row */\n\t\t\t\t\t_fnCallbackFire( oSettings, 'aoRowCallback', null, \n\t\t\t\t\t\t[nRow, oSettings.aoData[ oSettings.aiDisplay[j] ]._aData, iRowCount, j] );\n\t\t\t\t\t\n\t\t\t\t\tanRows.push( nRow );\n\t\t\t\t\tiRowCount++;\n\t\t\t\t\t\n\t\t\t\t\t/* If there is an open row - and it is attached to this parent - attach it on redraw */\n\t\t\t\t\tif ( iOpenRows !== 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\tfor ( var k=0 ; k<iOpenRows ; k++ )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif ( nRow == oSettings.aoOpenRows[k].nParent )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tanRows.push( oSettings.aoOpenRows[k].nTr );\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t/* Table is empty - create a row with an empty message in it */\n\t\t\t\tanRows[ 0 ] = document.createElement( 'tr' );\n\t\t\t\t\n\t\t\t\tif ( oSettings.asStripeClasses[0] )\n\t\t\t\t{\n\t\t\t\t\tanRows[ 0 ].className = oSettings.asStripeClasses[0];\n\t\t\t\t}\n\t\t\n\t\t\t\tvar oLang = oSettings.oLanguage;\n\t\t\t\tvar sZero = oLang.sZeroRecords;\n\t\t\t\tif ( oSettings.iDraw == 1 && oSettings.sAjaxSource !== null && !oSettings.oFeatures.bServerSide )\n\t\t\t\t{\n\t\t\t\t\tsZero = oLang.sLoadingRecords;\n\t\t\t\t}\n\t\t\t\telse if ( oLang.sEmptyTable && oSettings.fnRecordsTotal() === 0 )\n\t\t\t\t{\n\t\t\t\t\tsZero = oLang.sEmptyTable;\n\t\t\t\t}\n\t\t\n\t\t\t\tvar nTd = document.createElement( 'td' );\n\t\t\t\tnTd.setAttribute( 'valign', \"top\" );\n\t\t\t\tnTd.colSpan = _fnVisbleColumns( oSettings );\n\t\t\t\tnTd.className = oSettings.oClasses.sRowEmpty;\n\t\t\t\tnTd.innerHTML = _fnInfoMacros( oSettings, sZero );\n\t\t\t\t\n\t\t\t\tanRows[ iRowCount ].appendChild( nTd );\n\t\t\t}\n\t\t\t\n\t\t\t/* Header and footer callbacks */\n\t\t\t_fnCallbackFire( oSettings, 'aoHeaderCallback', 'header', [ $(oSettings.nTHead).children('tr')[0], \n\t\t\t\t_fnGetDataMaster( oSettings ), oSettings._iDisplayStart, oSettings.fnDisplayEnd(), oSettings.aiDisplay ] );\n\t\t\t\n\t\t\t_fnCallbackFire( oSettings, 'aoFooterCallback', 'footer', [ $(oSettings.nTFoot).children('tr')[0], \n\t\t\t\t_fnGetDataMaster( oSettings ), oSettings._iDisplayStart, oSettings.fnDisplayEnd(), oSettings.aiDisplay ] );\n\t\t\t\n\t\t\t/* \n\t\t\t * Need to remove any old row from the display - note we can't just empty the tbody using\n\t\t\t * $().html('') since this will unbind the jQuery event handlers (even although the node \n\t\t\t * still exists!) - equally we can't use innerHTML, since IE throws an exception.\n\t\t\t */\n\t\t\tvar\n\t\t\t\tnAddFrag = document.createDocumentFragment(),\n\t\t\t\tnRemoveFrag = document.createDocumentFragment(),\n\t\t\t\tnBodyPar, nTrs;\n\t\t\t\n\t\t\tif ( oSettings.nTBody )\n\t\t\t{\n\t\t\t\tnBodyPar = oSettings.nTBody.parentNode;\n\t\t\t\tnRemoveFrag.appendChild( oSettings.nTBody );\n\t\t\t\t\n\t\t\t\t/* When doing infinite scrolling, only remove child rows when sorting, filtering or start\n\t\t\t\t * up. When not infinite scroll, always do it.\n\t\t\t\t */\n\t\t\t\tif ( !oSettings.oScroll.bInfinite || !oSettings._bInitComplete ||\n\t\t\t\t \toSettings.bSorted || oSettings.bFiltered )\n\t\t\t\t{\n\t\t\t\t\twhile( (n = oSettings.nTBody.firstChild) )\n\t\t\t\t\t{\n\t\t\t\t\t\toSettings.nTBody.removeChild( n );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* Put the draw table into the dom */\n\t\t\t\tfor ( i=0, iLen=anRows.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\tnAddFrag.appendChild( anRows[i] );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\toSettings.nTBody.appendChild( nAddFrag );\n\t\t\t\tif ( nBodyPar !== null )\n\t\t\t\t{\n\t\t\t\t\tnBodyPar.appendChild( oSettings.nTBody );\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* Call all required callback functions for the end of a draw */\n\t\t\t_fnCallbackFire( oSettings, 'aoDrawCallback', 'draw', [oSettings] );\n\t\t\t\n\t\t\t/* Draw is complete, sorting and filtering must be as well */\n\t\t\toSettings.bSorted = false;\n\t\t\toSettings.bFiltered = false;\n\t\t\toSettings.bDrawing = false;\n\t\t\t\n\t\t\tif ( oSettings.oFeatures.bServerSide )\n\t\t\t{\n\t\t\t\t_fnProcessingDisplay( oSettings, false );\n\t\t\t\tif ( !oSettings._bInitComplete )\n\t\t\t\t{\n\t\t\t\t\t_fnInitComplete( oSettings );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Redraw the table - taking account of the various features which are enabled\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnReDraw( oSettings )\n\t\t{\n\t\t\tif ( oSettings.oFeatures.bSort )\n\t\t\t{\n\t\t\t\t/* Sorting will refilter and draw for us */\n\t\t\t\t_fnSort( oSettings, oSettings.oPreviousSearch );\n\t\t\t}\n\t\t\telse if ( oSettings.oFeatures.bFilter )\n\t\t\t{\n\t\t\t\t/* Filtering will redraw for us */\n\t\t\t\t_fnFilterComplete( oSettings, oSettings.oPreviousSearch );\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t_fnCalculateEnd( oSettings );\n\t\t\t\t_fnDraw( oSettings );\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Add the options to the page HTML for the table\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnAddOptionsHtml ( oSettings )\n\t\t{\n\t\t\t/*\n\t\t\t * Create a temporary, empty, div which we can later on replace with what we have generated\n\t\t\t * we do it this way to rendering the 'options' html offline - speed :-)\n\t\t\t */\n\t\t\tvar nHolding = $('<div></div>')[0];\n\t\t\toSettings.nTable.parentNode.insertBefore( nHolding, oSettings.nTable );\n\t\t\t\n\t\t\t/* \n\t\t\t * All DataTables are wrapped in a div\n\t\t\t */\n\t\t\toSettings.nTableWrapper = $('<div id=\"'+oSettings.sTableId+'_wrapper\" class=\"'+oSettings.oClasses.sWrapper+'\" role=\"grid\"></div>')[0];\n\t\t\toSettings.nTableReinsertBefore = oSettings.nTable.nextSibling;\n\t\t\n\t\t\t/* Track where we want to insert the option */\n\t\t\tvar nInsertNode = oSettings.nTableWrapper;\n\t\t\t\n\t\t\t/* Loop over the user set positioning and place the elements as needed */\n\t\t\tvar aDom = oSettings.sDom.split('');\n\t\t\tvar nTmp, iPushFeature, cOption, nNewNode, cNext, sAttr, j;\n\t\t\tfor ( var i=0 ; i<aDom.length ; i++ )\n\t\t\t{\n\t\t\t\tiPushFeature = 0;\n\t\t\t\tcOption = aDom[i];\n\t\t\t\t\n\t\t\t\tif ( cOption == '<' )\n\t\t\t\t{\n\t\t\t\t\t/* New container div */\n\t\t\t\t\tnNewNode = $('<div></div>')[0];\n\t\t\t\t\t\n\t\t\t\t\t/* Check to see if we should append an id and/or a class name to the container */\n\t\t\t\t\tcNext = aDom[i+1];\n\t\t\t\t\tif ( cNext == \"'\" || cNext == '\"' )\n\t\t\t\t\t{\n\t\t\t\t\t\tsAttr = \"\";\n\t\t\t\t\t\tj = 2;\n\t\t\t\t\t\twhile ( aDom[i+j] != cNext )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsAttr += aDom[i+j];\n\t\t\t\t\t\t\tj++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t/* Replace jQuery UI constants */\n\t\t\t\t\t\tif ( sAttr == \"H\" )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsAttr = oSettings.oClasses.sJUIHeader;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if ( sAttr == \"F\" )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsAttr = oSettings.oClasses.sJUIFooter;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t/* The attribute can be in the format of \"#id.class\", \"#id\" or \"class\" This logic\n\t\t\t\t\t\t * breaks the string into parts and applies them as needed\n\t\t\t\t\t\t */\n\t\t\t\t\t\tif ( sAttr.indexOf('.') != -1 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar aSplit = sAttr.split('.');\n\t\t\t\t\t\t\tnNewNode.id = aSplit[0].substr(1, aSplit[0].length-1);\n\t\t\t\t\t\t\tnNewNode.className = aSplit[1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if ( sAttr.charAt(0) == \"#\" )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnNewNode.id = sAttr.substr(1, sAttr.length-1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnNewNode.className = sAttr;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\ti += j; /* Move along the position array */\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tnInsertNode.appendChild( nNewNode );\n\t\t\t\t\tnInsertNode = nNewNode;\n\t\t\t\t}\n\t\t\t\telse if ( cOption == '>' )\n\t\t\t\t{\n\t\t\t\t\t/* End container div */\n\t\t\t\t\tnInsertNode = nInsertNode.parentNode;\n\t\t\t\t}\n\t\t\t\telse if ( cOption == 'l' && oSettings.oFeatures.bPaginate && oSettings.oFeatures.bLengthChange )\n\t\t\t\t{\n\t\t\t\t\t/* Length */\n\t\t\t\t\tnTmp = _fnFeatureHtmlLength( oSettings );\n\t\t\t\t\tiPushFeature = 1;\n\t\t\t\t}\n\t\t\t\telse if ( cOption == 'f' && oSettings.oFeatures.bFilter )\n\t\t\t\t{\n\t\t\t\t\t/* Filter */\n\t\t\t\t\tnTmp = _fnFeatureHtmlFilter( oSettings );\n\t\t\t\t\tiPushFeature = 1;\n\t\t\t\t}\n\t\t\t\telse if ( cOption == 'r' && oSettings.oFeatures.bProcessing )\n\t\t\t\t{\n\t\t\t\t\t/* pRocessing */\n\t\t\t\t\tnTmp = _fnFeatureHtmlProcessing( oSettings );\n\t\t\t\t\tiPushFeature = 1;\n\t\t\t\t}\n\t\t\t\telse if ( cOption == 't' )\n\t\t\t\t{\n\t\t\t\t\t/* Table */\n\t\t\t\t\tnTmp = _fnFeatureHtmlTable( oSettings );\n\t\t\t\t\tiPushFeature = 1;\n\t\t\t\t}\n\t\t\t\telse if ( cOption ==  'i' && oSettings.oFeatures.bInfo )\n\t\t\t\t{\n\t\t\t\t\t/* Info */\n\t\t\t\t\tnTmp = _fnFeatureHtmlInfo( oSettings );\n\t\t\t\t\tiPushFeature = 1;\n\t\t\t\t}\n\t\t\t\telse if ( cOption == 'p' && oSettings.oFeatures.bPaginate )\n\t\t\t\t{\n\t\t\t\t\t/* Pagination */\n\t\t\t\t\tnTmp = _fnFeatureHtmlPaginate( oSettings );\n\t\t\t\t\tiPushFeature = 1;\n\t\t\t\t}\n\t\t\t\telse if ( DataTable.ext.aoFeatures.length !== 0 )\n\t\t\t\t{\n\t\t\t\t\t/* Plug-in features */\n\t\t\t\t\tvar aoFeatures = DataTable.ext.aoFeatures;\n\t\t\t\t\tfor ( var k=0, kLen=aoFeatures.length ; k<kLen ; k++ )\n\t\t\t\t\t{\n\t\t\t\t\t\tif ( cOption == aoFeatures[k].cFeature )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnTmp = aoFeatures[k].fnInit( oSettings );\n\t\t\t\t\t\t\tif ( nTmp )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tiPushFeature = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* Add to the 2D features array */\n\t\t\t\tif ( iPushFeature == 1 && nTmp !== null )\n\t\t\t\t{\n\t\t\t\t\tif ( typeof oSettings.aanFeatures[cOption] !== 'object' )\n\t\t\t\t\t{\n\t\t\t\t\t\toSettings.aanFeatures[cOption] = [];\n\t\t\t\t\t}\n\t\t\t\t\toSettings.aanFeatures[cOption].push( nTmp );\n\t\t\t\t\tnInsertNode.appendChild( nTmp );\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* Built our DOM structure - replace the holding div with what we want */\n\t\t\tnHolding.parentNode.replaceChild( oSettings.nTableWrapper, nHolding );\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Use the DOM source to create up an array of header cells. The idea here is to\n\t\t * create a layout grid (array) of rows x columns, which contains a reference\n\t\t * to the cell that that point in the grid (regardless of col/rowspan), such that\n\t\t * any column / row could be removed and the new grid constructed\n\t\t *  @param array {object} aLayout Array to store the calculated layout in\n\t\t *  @param {node} nThead The header/footer element for the table\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnDetectHeader ( aLayout, nThead )\n\t\t{\n\t\t\tvar nTrs = $(nThead).children('tr');\n\t\t\tvar nTr, nCell;\n\t\t\tvar i, k, l, iLen, jLen, iColShifted, iColumn, iColspan, iRowspan;\n\t\t\tvar bUnique;\n\t\t\tvar fnShiftCol = function ( a, i, j ) {\n\t\t\t\tvar k = a[i];\n\t\t                while ( k[j] ) {\n\t\t\t\t\tj++;\n\t\t\t\t}\n\t\t\t\treturn j;\n\t\t\t};\n\t\t\n\t\t\taLayout.splice( 0, aLayout.length );\n\t\t\t\n\t\t\t/* We know how many rows there are in the layout - so prep it */\n\t\t\tfor ( i=0, iLen=nTrs.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\taLayout.push( [] );\n\t\t\t}\n\t\t\t\n\t\t\t/* Calculate a layout array */\n\t\t\tfor ( i=0, iLen=nTrs.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tnTr = nTrs[i];\n\t\t\t\tiColumn = 0;\n\t\t\t\t\n\t\t\t\t/* For every cell in the row... */\n\t\t\t\tnCell = nTr.firstChild;\n\t\t\t\twhile ( nCell ) {\n\t\t\t\t\tif ( nCell.nodeName.toUpperCase() == \"TD\" ||\n\t\t\t\t\t     nCell.nodeName.toUpperCase() == \"TH\" )\n\t\t\t\t\t{\n\t\t\t\t\t\t/* Get the col and rowspan attributes from the DOM and sanitise them */\n\t\t\t\t\t\tiColspan = nCell.getAttribute('colspan') * 1;\n\t\t\t\t\t\tiRowspan = nCell.getAttribute('rowspan') * 1;\n\t\t\t\t\t\tiColspan = (!iColspan || iColspan===0 || iColspan===1) ? 1 : iColspan;\n\t\t\t\t\t\tiRowspan = (!iRowspan || iRowspan===0 || iRowspan===1) ? 1 : iRowspan;\n\t\t\n\t\t\t\t\t\t/* There might be colspan cells already in this row, so shift our target \n\t\t\t\t\t\t * accordingly\n\t\t\t\t\t\t */\n\t\t\t\t\t\tiColShifted = fnShiftCol( aLayout, i, iColumn );\n\t\t\t\t\t\t\n\t\t\t\t\t\t/* Cache calculation for unique columns */\n\t\t\t\t\t\tbUnique = iColspan === 1 ? true : false;\n\t\t\t\t\t\t\n\t\t\t\t\t\t/* If there is col / rowspan, copy the information into the layout grid */\n\t\t\t\t\t\tfor ( l=0 ; l<iColspan ; l++ )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfor ( k=0 ; k<iRowspan ; k++ )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\taLayout[i+k][iColShifted+l] = {\n\t\t\t\t\t\t\t\t\t\"cell\": nCell,\n\t\t\t\t\t\t\t\t\t\"unique\": bUnique\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\taLayout[i+k].nTr = nTr;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnCell = nCell.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Get an array of unique th elements, one for each column\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {node} nHeader automatically detect the layout from this node - optional\n\t\t *  @param {array} aLayout thead/tfoot layout from _fnDetectHeader - optional\n\t\t *  @returns array {node} aReturn list of unique th's\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnGetUniqueThs ( oSettings, nHeader, aLayout )\n\t\t{\n\t\t\tvar aReturn = [];\n\t\t\tif ( !aLayout )\n\t\t\t{\n\t\t\t\taLayout = oSettings.aoHeader;\n\t\t\t\tif ( nHeader )\n\t\t\t\t{\n\t\t\t\t\taLayout = [];\n\t\t\t\t\t_fnDetectHeader( aLayout, nHeader );\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tfor ( var i=0, iLen=aLayout.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tfor ( var j=0, jLen=aLayout[i].length ; j<jLen ; j++ )\n\t\t\t\t{\n\t\t\t\t\tif ( aLayout[i][j].unique && \n\t\t\t\t\t\t (!aReturn[j] || !oSettings.bSortCellsTop) )\n\t\t\t\t\t{\n\t\t\t\t\t\taReturn[j] = aLayout[i][j].cell;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn aReturn;\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t/**\n\t\t * Update the table using an Ajax call\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @returns {boolean} Block the table drawing or not\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnAjaxUpdate( oSettings )\n\t\t{\n\t\t\tif ( oSettings.bAjaxDataGet )\n\t\t\t{\n\t\t\t\toSettings.iDraw++;\n\t\t\t\t_fnProcessingDisplay( oSettings, true );\n\t\t\t\tvar iColumns = oSettings.aoColumns.length;\n\t\t\t\tvar aoData = _fnAjaxParameters( oSettings );\n\t\t\t\t_fnServerParams( oSettings, aoData );\n\t\t\t\t\n\t\t\t\toSettings.fnServerData.call( oSettings.oInstance, oSettings.sAjaxSource, aoData,\n\t\t\t\t\tfunction(json) {\n\t\t\t\t\t\t_fnAjaxUpdateDraw( oSettings, json );\n\t\t\t\t\t}, oSettings );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Build up the parameters in an object needed for a server-side processing request\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @returns {bool} block the table drawing or not\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnAjaxParameters( oSettings )\n\t\t{\n\t\t\tvar iColumns = oSettings.aoColumns.length;\n\t\t\tvar aoData = [], mDataProp, aaSort, aDataSort;\n\t\t\tvar i, j;\n\t\t\t\n\t\t\taoData.push( { \"name\": \"sEcho\",          \"value\": oSettings.iDraw } );\n\t\t\taoData.push( { \"name\": \"iColumns\",       \"value\": iColumns } );\n\t\t\taoData.push( { \"name\": \"sColumns\",       \"value\": _fnColumnOrdering(oSettings) } );\n\t\t\taoData.push( { \"name\": \"iDisplayStart\",  \"value\": oSettings._iDisplayStart } );\n\t\t\taoData.push( { \"name\": \"iDisplayLength\", \"value\": oSettings.oFeatures.bPaginate !== false ?\n\t\t\t\toSettings._iDisplayLength : -1 } );\n\t\t\t\t\n\t\t\tfor ( i=0 ; i<iColumns ; i++ )\n\t\t\t{\n\t\t\t  mDataProp = oSettings.aoColumns[i].mData;\n\t\t\t\taoData.push( { \"name\": \"mDataProp_\"+i, \"value\": typeof(mDataProp)===\"function\" ? 'function' : mDataProp } );\n\t\t\t}\n\t\t\t\n\t\t\t/* Filtering */\n\t\t\tif ( oSettings.oFeatures.bFilter !== false )\n\t\t\t{\n\t\t\t\taoData.push( { \"name\": \"sSearch\", \"value\": oSettings.oPreviousSearch.sSearch } );\n\t\t\t\taoData.push( { \"name\": \"bRegex\",  \"value\": oSettings.oPreviousSearch.bRegex } );\n\t\t\t\tfor ( i=0 ; i<iColumns ; i++ )\n\t\t\t\t{\n\t\t\t\t\taoData.push( { \"name\": \"sSearch_\"+i,     \"value\": oSettings.aoPreSearchCols[i].sSearch } );\n\t\t\t\t\taoData.push( { \"name\": \"bRegex_\"+i,      \"value\": oSettings.aoPreSearchCols[i].bRegex } );\n\t\t\t\t\taoData.push( { \"name\": \"bSearchable_\"+i, \"value\": oSettings.aoColumns[i].bSearchable } );\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* Sorting */\n\t\t\tif ( oSettings.oFeatures.bSort !== false )\n\t\t\t{\n\t\t\t\tvar iCounter = 0;\n\t\t\n\t\t\t\taaSort = ( oSettings.aaSortingFixed !== null ) ?\n\t\t\t\t\toSettings.aaSortingFixed.concat( oSettings.aaSorting ) :\n\t\t\t\t\toSettings.aaSorting.slice();\n\t\t\t\t\n\t\t\t\tfor ( i=0 ; i<aaSort.length ; i++ )\n\t\t\t\t{\n\t\t\t\t\taDataSort = oSettings.aoColumns[ aaSort[i][0] ].aDataSort;\n\t\t\t\t\t\n\t\t\t\t\tfor ( j=0 ; j<aDataSort.length ; j++ )\n\t\t\t\t\t{\n\t\t\t\t\t\taoData.push( { \"name\": \"iSortCol_\"+iCounter,  \"value\": aDataSort[j] } );\n\t\t\t\t\t\taoData.push( { \"name\": \"sSortDir_\"+iCounter,  \"value\": aaSort[i][1] } );\n\t\t\t\t\t\tiCounter++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\taoData.push( { \"name\": \"iSortingCols\",   \"value\": iCounter } );\n\t\t\t\t\n\t\t\t\tfor ( i=0 ; i<iColumns ; i++ )\n\t\t\t\t{\n\t\t\t\t\taoData.push( { \"name\": \"bSortable_\"+i,  \"value\": oSettings.aoColumns[i].bSortable } );\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn aoData;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Add Ajax parameters from plug-ins\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param array {objects} aoData name/value pairs to send to the server\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnServerParams( oSettings, aoData )\n\t\t{\n\t\t\t_fnCallbackFire( oSettings, 'aoServerParams', 'serverParams', [aoData] );\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Data the data from the server (nuking the old) and redraw the table\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {object} json json data return from the server.\n\t\t *  @param {string} json.sEcho Tracking flag for DataTables to match requests\n\t\t *  @param {int} json.iTotalRecords Number of records in the data set, not accounting for filtering\n\t\t *  @param {int} json.iTotalDisplayRecords Number of records in the data set, accounting for filtering\n\t\t *  @param {array} json.aaData The data to display on this page\n\t\t *  @param {string} [json.sColumns] Column ordering (sName, comma separated)\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnAjaxUpdateDraw ( oSettings, json )\n\t\t{\n\t\t\tif ( json.sEcho !== undefined )\n\t\t\t{\n\t\t\t\t/* Protect against old returns over-writing a new one. Possible when you get\n\t\t\t\t * very fast interaction, and later queries are completed much faster\n\t\t\t\t */\n\t\t\t\tif ( json.sEcho*1 < oSettings.iDraw )\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\toSettings.iDraw = json.sEcho * 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif ( !oSettings.oScroll.bInfinite ||\n\t\t\t\t   (oSettings.oScroll.bInfinite && (oSettings.bSorted || oSettings.bFiltered)) )\n\t\t\t{\n\t\t\t\t_fnClearTable( oSettings );\n\t\t\t}\n\t\t\toSettings._iRecordsTotal = parseInt(json.iTotalRecords, 10);\n\t\t\toSettings._iRecordsDisplay = parseInt(json.iTotalDisplayRecords, 10);\n\t\t\t\n\t\t\t/* Determine if reordering is required */\n\t\t\tvar sOrdering = _fnColumnOrdering(oSettings);\n\t\t\tvar bReOrder = (json.sColumns !== undefined && sOrdering !== \"\" && json.sColumns != sOrdering );\n\t\t\tvar aiIndex;\n\t\t\tif ( bReOrder )\n\t\t\t{\n\t\t\t\taiIndex = _fnReOrderIndex( oSettings, json.sColumns );\n\t\t\t}\n\t\t\t\n\t\t\tvar aData = _fnGetObjectDataFn( oSettings.sAjaxDataProp )( json );\n\t\t\tfor ( var i=0, iLen=aData.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tif ( bReOrder )\n\t\t\t\t{\n\t\t\t\t\t/* If we need to re-order, then create a new array with the correct order and add it */\n\t\t\t\t\tvar aDataSorted = [];\n\t\t\t\t\tfor ( var j=0, jLen=oSettings.aoColumns.length ; j<jLen ; j++ )\n\t\t\t\t\t{\n\t\t\t\t\t\taDataSorted.push( aData[i][ aiIndex[j] ] );\n\t\t\t\t\t}\n\t\t\t\t\t_fnAddData( oSettings, aDataSorted );\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t/* No re-order required, sever got it \"right\" - just straight add */\n\t\t\t\t\t_fnAddData( oSettings, aData[i] );\n\t\t\t\t}\n\t\t\t}\n\t\t\toSettings.aiDisplay = oSettings.aiDisplayMaster.slice();\n\t\t\t\n\t\t\toSettings.bAjaxDataGet = false;\n\t\t\t_fnDraw( oSettings );\n\t\t\toSettings.bAjaxDataGet = true;\n\t\t\t_fnProcessingDisplay( oSettings, false );\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t/**\n\t\t * Generate the node required for filtering text\n\t\t *  @returns {node} Filter control element\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnFeatureHtmlFilter ( oSettings )\n\t\t{\n\t\t\tvar oPreviousSearch = oSettings.oPreviousSearch;\n\t\t\t\n\t\t\tvar sSearchStr = oSettings.oLanguage.sSearch;\n\t\t\tsSearchStr = (sSearchStr.indexOf('_INPUT_') !== -1) ?\n\t\t\t  sSearchStr.replace('_INPUT_', '<input type=\"text\" />') :\n\t\t\t  sSearchStr===\"\" ? '<input type=\"text\" />' : sSearchStr+' <input type=\"text\" />';\n\t\t\t\n\t\t\tvar nFilter = document.createElement( 'div' );\n\t\t\tnFilter.className = oSettings.oClasses.sFilter;\n\t\t\tnFilter.innerHTML = '<label>'+sSearchStr+'</label>';\n\t\t\tif ( !oSettings.aanFeatures.f )\n\t\t\t{\n\t\t\t\tnFilter.id = oSettings.sTableId+'_filter';\n\t\t\t}\n\t\t\t\n\t\t\tvar jqFilter = $('input[type=\"text\"]', nFilter);\n\t\t\n\t\t\t// Store a reference to the input element, so other input elements could be\n\t\t\t// added to the filter wrapper if needed (submit button for example)\n\t\t\tnFilter._DT_Input = jqFilter[0];\n\t\t\n\t\t\tjqFilter.val( oPreviousSearch.sSearch.replace('\"','&quot;') );\n\t\t\tjqFilter.bind( 'keyup.DT', function(e) {\n\t\t\t\t/* Update all other filter input elements for the new display */\n\t\t\t\tvar n = oSettings.aanFeatures.f;\n\t\t\t\tvar val = this.value===\"\" ? \"\" : this.value; // mental IE8 fix :-(\n\t\t\n\t\t\t\tfor ( var i=0, iLen=n.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\tif ( n[i] != $(this).parents('div.dataTables_filter')[0] )\n\t\t\t\t\t{\n\t\t\t\t\t\t$(n[i]._DT_Input).val( val );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* Now do the filter */\n\t\t\t\tif ( val != oPreviousSearch.sSearch )\n\t\t\t\t{\n\t\t\t\t\t_fnFilterComplete( oSettings, { \n\t\t\t\t\t\t\"sSearch\": val, \n\t\t\t\t\t\t\"bRegex\": oPreviousSearch.bRegex,\n\t\t\t\t\t\t\"bSmart\": oPreviousSearch.bSmart ,\n\t\t\t\t\t\t\"bCaseInsensitive\": oPreviousSearch.bCaseInsensitive \n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t\n\t\t\tjqFilter\n\t\t\t\t.attr('aria-controls', oSettings.sTableId)\n\t\t\t\t.bind( 'keypress.DT', function(e) {\n\t\t\t\t\t/* Prevent form submission */\n\t\t\t\t\tif ( e.keyCode == 13 )\n\t\t\t\t\t{\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\t\n\t\t\treturn nFilter;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Filter the table using both the global filter and column based filtering\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {object} oSearch search information\n\t\t *  @param {int} [iForce] force a research of the master array (1) or not (undefined or 0)\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnFilterComplete ( oSettings, oInput, iForce )\n\t\t{\n\t\t\tvar oPrevSearch = oSettings.oPreviousSearch;\n\t\t\tvar aoPrevSearch = oSettings.aoPreSearchCols;\n\t\t\tvar fnSaveFilter = function ( oFilter ) {\n\t\t\t\t/* Save the filtering values */\n\t\t\t\toPrevSearch.sSearch = oFilter.sSearch;\n\t\t\t\toPrevSearch.bRegex = oFilter.bRegex;\n\t\t\t\toPrevSearch.bSmart = oFilter.bSmart;\n\t\t\t\toPrevSearch.bCaseInsensitive = oFilter.bCaseInsensitive;\n\t\t\t};\n\t\t\n\t\t\t/* In server-side processing all filtering is done by the server, so no point hanging around here */\n\t\t\tif ( !oSettings.oFeatures.bServerSide )\n\t\t\t{\n\t\t\t\t/* Global filter */\n\t\t\t\t_fnFilter( oSettings, oInput.sSearch, iForce, oInput.bRegex, oInput.bSmart, oInput.bCaseInsensitive );\n\t\t\t\tfnSaveFilter( oInput );\n\t\t\n\t\t\t\t/* Now do the individual column filter */\n\t\t\t\tfor ( var i=0 ; i<oSettings.aoPreSearchCols.length ; i++ )\n\t\t\t\t{\n\t\t\t\t\t_fnFilterColumn( oSettings, aoPrevSearch[i].sSearch, i, aoPrevSearch[i].bRegex, \n\t\t\t\t\t\taoPrevSearch[i].bSmart, aoPrevSearch[i].bCaseInsensitive );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* Custom filtering */\n\t\t\t\t_fnFilterCustom( oSettings );\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfnSaveFilter( oInput );\n\t\t\t}\n\t\t\t\n\t\t\t/* Tell the draw function we have been filtering */\n\t\t\toSettings.bFiltered = true;\n\t\t\t$(oSettings.oInstance).trigger('filter', oSettings);\n\t\t\t\n\t\t\t/* Redraw the table */\n\t\t\toSettings._iDisplayStart = 0;\n\t\t\t_fnCalculateEnd( oSettings );\n\t\t\t_fnDraw( oSettings );\n\t\t\t\n\t\t\t/* Rebuild search array 'offline' */\n\t\t\t_fnBuildSearchArray( oSettings, 0 );\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Apply custom filtering functions\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnFilterCustom( oSettings )\n\t\t{\n\t\t\tvar afnFilters = DataTable.ext.afnFiltering;\n\t\t\tvar aiFilterColumns = _fnGetColumns( oSettings, 'bSearchable' );\n\t\t\n\t\t\tfor ( var i=0, iLen=afnFilters.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tvar iCorrector = 0;\n\t\t\t\tfor ( var j=0, jLen=oSettings.aiDisplay.length ; j<jLen ; j++ )\n\t\t\t\t{\n\t\t\t\t\tvar iDisIndex = oSettings.aiDisplay[j-iCorrector];\n\t\t\t\t\tvar bTest = afnFilters[i](\n\t\t\t\t\t\toSettings,\n\t\t\t\t\t\t_fnGetRowData( oSettings, iDisIndex, 'filter', aiFilterColumns ),\n\t\t\t\t\t\tiDisIndex\n\t\t\t\t\t);\n\t\t\t\t\t\n\t\t\t\t\t/* Check if we should use this row based on the filtering function */\n\t\t\t\t\tif ( !bTest )\n\t\t\t\t\t{\n\t\t\t\t\t\toSettings.aiDisplay.splice( j-iCorrector, 1 );\n\t\t\t\t\t\tiCorrector++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Filter the table on a per-column basis\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {string} sInput string to filter on\n\t\t *  @param {int} iColumn column to filter\n\t\t *  @param {bool} bRegex treat search string as a regular expression or not\n\t\t *  @param {bool} bSmart use smart filtering or not\n\t\t *  @param {bool} bCaseInsensitive Do case insenstive matching or not\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnFilterColumn ( oSettings, sInput, iColumn, bRegex, bSmart, bCaseInsensitive )\n\t\t{\n\t\t\tif ( sInput === \"\" )\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tvar iIndexCorrector = 0;\n\t\t\tvar rpSearch = _fnFilterCreateSearch( sInput, bRegex, bSmart, bCaseInsensitive );\n\t\t\t\n\t\t\tfor ( var i=oSettings.aiDisplay.length-1 ; i>=0 ; i-- )\n\t\t\t{\n\t\t\t\tvar sData = _fnDataToSearch( _fnGetCellData( oSettings, oSettings.aiDisplay[i], iColumn, 'filter' ),\n\t\t\t\t\toSettings.aoColumns[iColumn].sType );\n\t\t\t\tif ( ! rpSearch.test( sData ) )\n\t\t\t\t{\n\t\t\t\t\toSettings.aiDisplay.splice( i, 1 );\n\t\t\t\t\tiIndexCorrector++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Filter the data table based on user input and draw the table\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {string} sInput string to filter on\n\t\t *  @param {int} iForce optional - force a research of the master array (1) or not (undefined or 0)\n\t\t *  @param {bool} bRegex treat as a regular expression or not\n\t\t *  @param {bool} bSmart perform smart filtering or not\n\t\t *  @param {bool} bCaseInsensitive Do case insenstive matching or not\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnFilter( oSettings, sInput, iForce, bRegex, bSmart, bCaseInsensitive )\n\t\t{\n\t\t\tvar i;\n\t\t\tvar rpSearch = _fnFilterCreateSearch( sInput, bRegex, bSmart, bCaseInsensitive );\n\t\t\tvar oPrevSearch = oSettings.oPreviousSearch;\n\t\t\t\n\t\t\t/* Check if we are forcing or not - optional parameter */\n\t\t\tif ( !iForce )\n\t\t\t{\n\t\t\t\tiForce = 0;\n\t\t\t}\n\t\t\t\n\t\t\t/* Need to take account of custom filtering functions - always filter */\n\t\t\tif ( DataTable.ext.afnFiltering.length !== 0 )\n\t\t\t{\n\t\t\t\tiForce = 1;\n\t\t\t}\n\t\t\t\n\t\t\t/*\n\t\t\t * If the input is blank - we want the full data set\n\t\t\t */\n\t\t\tif ( sInput.length <= 0 )\n\t\t\t{\n\t\t\t\toSettings.aiDisplay.splice( 0, oSettings.aiDisplay.length);\n\t\t\t\toSettings.aiDisplay = oSettings.aiDisplayMaster.slice();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t/*\n\t\t\t\t * We are starting a new search or the new search string is smaller \n\t\t\t\t * then the old one (i.e. delete). Search from the master array\n\t\t\t \t */\n\t\t\t\tif ( oSettings.aiDisplay.length == oSettings.aiDisplayMaster.length ||\n\t\t\t\t\t   oPrevSearch.sSearch.length > sInput.length || iForce == 1 ||\n\t\t\t\t\t   sInput.indexOf(oPrevSearch.sSearch) !== 0 )\n\t\t\t\t{\n\t\t\t\t\t/* Nuke the old display array - we are going to rebuild it */\n\t\t\t\t\toSettings.aiDisplay.splice( 0, oSettings.aiDisplay.length);\n\t\t\t\t\t\n\t\t\t\t\t/* Force a rebuild of the search array */\n\t\t\t\t\t_fnBuildSearchArray( oSettings, 1 );\n\t\t\t\t\t\n\t\t\t\t\t/* Search through all records to populate the search array\n\t\t\t\t\t * The the oSettings.aiDisplayMaster and asDataSearch arrays have 1 to 1 \n\t\t\t\t\t * mapping\n\t\t\t\t\t */\n\t\t\t\t\tfor ( i=0 ; i<oSettings.aiDisplayMaster.length ; i++ )\n\t\t\t\t\t{\n\t\t\t\t\t\tif ( rpSearch.test(oSettings.asDataSearch[i]) )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toSettings.aiDisplay.push( oSettings.aiDisplayMaster[i] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t  }\n\t\t\t  else\n\t\t\t\t{\n\t\t\t  \t/* Using old search array - refine it - do it this way for speed\n\t\t\t  \t * Don't have to search the whole master array again\n\t\t\t\t\t */\n\t\t\t  \tvar iIndexCorrector = 0;\n\t\t\t  \t\n\t\t\t  \t/* Search the current results */\n\t\t\t  \tfor ( i=0 ; i<oSettings.asDataSearch.length ; i++ )\n\t\t\t\t\t{\n\t\t\t  \t\tif ( ! rpSearch.test(oSettings.asDataSearch[i]) )\n\t\t\t\t\t\t{\n\t\t\t  \t\t\toSettings.aiDisplay.splice( i-iIndexCorrector, 1 );\n\t\t\t  \t\t\tiIndexCorrector++;\n\t\t\t  \t\t}\n\t\t\t  \t}\n\t\t\t  }\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Create an array which can be quickly search through\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {int} iMaster use the master data array - optional\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnBuildSearchArray ( oSettings, iMaster )\n\t\t{\n\t\t\tif ( !oSettings.oFeatures.bServerSide )\n\t\t\t{\n\t\t\t\t/* Clear out the old data */\n\t\t\t\toSettings.asDataSearch = [];\n\t\t\n\t\t\t\tvar aiFilterColumns = _fnGetColumns( oSettings, 'bSearchable' );\n\t\t\t\tvar aiIndex = (iMaster===1) ?\n\t\t\t\t \toSettings.aiDisplayMaster :\n\t\t\t\t \toSettings.aiDisplay;\n\t\t\t\t\n\t\t\t\tfor ( var i=0, iLen=aiIndex.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\toSettings.asDataSearch[i] = _fnBuildSearchRow(\n\t\t\t\t\t\toSettings,\n\t\t\t\t\t\t_fnGetRowData( oSettings, aiIndex[i], 'filter', aiFilterColumns )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Create a searchable string from a single data row\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {array} aData Row data array to use for the data to search\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnBuildSearchRow( oSettings, aData )\n\t\t{\n\t\t\tvar sSearch = aData.join('  ');\n\t\t\t\n\t\t\t/* If it looks like there is an HTML entity in the string, attempt to decode it */\n\t\t\tif ( sSearch.indexOf('&') !== -1 )\n\t\t\t{\n\t\t\t\tsSearch = $('<div>').html(sSearch).text();\n\t\t\t}\n\t\t\t\n\t\t\t// Strip newline characters\n\t\t\treturn sSearch.replace( /[\\n\\r]/g, \" \" );\n\t\t}\n\t\t\n\t\t/**\n\t\t * Build a regular expression object suitable for searching a table\n\t\t *  @param {string} sSearch string to search for\n\t\t *  @param {bool} bRegex treat as a regular expression or not\n\t\t *  @param {bool} bSmart perform smart filtering or not\n\t\t *  @param {bool} bCaseInsensitive Do case insensitive matching or not\n\t\t *  @returns {RegExp} constructed object\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnFilterCreateSearch( sSearch, bRegex, bSmart, bCaseInsensitive )\n\t\t{\n\t\t\tvar asSearch, sRegExpString;\n\t\t\t\n\t\t\tif ( bSmart )\n\t\t\t{\n\t\t\t\t/* Generate the regular expression to use. Something along the lines of:\n\t\t\t\t * ^(?=.*?\\bone\\b)(?=.*?\\btwo\\b)(?=.*?\\bthree\\b).*$\n\t\t\t\t */\n\t\t\t\tasSearch = bRegex ? sSearch.split( ' ' ) : _fnEscapeRegex( sSearch ).split( ' ' );\n\t\t\t\tsRegExpString = '^(?=.*?'+asSearch.join( ')(?=.*?' )+').*$';\n\t\t\t\treturn new RegExp( sRegExpString, bCaseInsensitive ? \"i\" : \"\" );\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tsSearch = bRegex ? sSearch : _fnEscapeRegex( sSearch );\n\t\t\t\treturn new RegExp( sSearch, bCaseInsensitive ? \"i\" : \"\" );\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Convert raw data into something that the user can search on\n\t\t *  @param {string} sData data to be modified\n\t\t *  @param {string} sType data type\n\t\t *  @returns {string} search string\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnDataToSearch ( sData, sType )\n\t\t{\n\t\t\tif ( typeof DataTable.ext.ofnSearch[sType] === \"function\" )\n\t\t\t{\n\t\t\t\treturn DataTable.ext.ofnSearch[sType]( sData );\n\t\t\t}\n\t\t\telse if ( sData === null )\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\telse if ( sType == \"html\" )\n\t\t\t{\n\t\t\t\treturn sData.replace(/[\\r\\n]/g,\" \").replace( /<.*?>/g, \"\" );\n\t\t\t}\n\t\t\telse if ( typeof sData === \"string\" )\n\t\t\t{\n\t\t\t\treturn sData.replace(/[\\r\\n]/g,\" \");\n\t\t\t}\n\t\t\treturn sData;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * scape a string such that it can be used in a regular expression\n\t\t *  @param {string} sVal string to escape\n\t\t *  @returns {string} escaped string\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnEscapeRegex ( sVal )\n\t\t{\n\t\t\tvar acEscape = [ '/', '.', '*', '+', '?', '|', '(', ')', '[', ']', '{', '}', '\\\\', '$', '^', '-' ];\n\t\t\tvar reReplace = new RegExp( '(\\\\' + acEscape.join('|\\\\') + ')', 'g' );\n\t\t\treturn sVal.replace(reReplace, '\\\\$1');\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Generate the node required for the info display\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @returns {node} Information element\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnFeatureHtmlInfo ( oSettings )\n\t\t{\n\t\t\tvar nInfo = document.createElement( 'div' );\n\t\t\tnInfo.className = oSettings.oClasses.sInfo;\n\t\t\t\n\t\t\t/* Actions that are to be taken once only for this feature */\n\t\t\tif ( !oSettings.aanFeatures.i )\n\t\t\t{\n\t\t\t\t/* Add draw callback */\n\t\t\t\toSettings.aoDrawCallback.push( {\n\t\t\t\t\t\"fn\": _fnUpdateInfo,\n\t\t\t\t\t\"sName\": \"information\"\n\t\t\t\t} );\n\t\t\t\t\n\t\t\t\t/* Add id */\n\t\t\t\tnInfo.id = oSettings.sTableId+'_info';\n\t\t\t}\n\t\t\toSettings.nTable.setAttribute( 'aria-describedby', oSettings.sTableId+'_info' );\n\t\t\t\n\t\t\treturn nInfo;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Update the information elements in the display\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnUpdateInfo ( oSettings )\n\t\t{\n\t\t\t/* Show information about the table */\n\t\t\tif ( !oSettings.oFeatures.bInfo || oSettings.aanFeatures.i.length === 0 )\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tvar\n\t\t\t\toLang = oSettings.oLanguage,\n\t\t\t\tiStart = oSettings._iDisplayStart+1,\n\t\t\t\tiEnd = oSettings.fnDisplayEnd(),\n\t\t\t\tiMax = oSettings.fnRecordsTotal(),\n\t\t\t\tiTotal = oSettings.fnRecordsDisplay(),\n\t\t\t\tsOut;\n\t\t\t\n\t\t\tif ( iTotal === 0 )\n\t\t\t{\n\t\t\t\t/* Empty record set */\n\t\t\t\tsOut = oLang.sInfoEmpty;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t/* Normal record set */\n\t\t\t\tsOut = oLang.sInfo;\n\t\t\t}\n\t\t\n\t\t\tif ( iTotal != iMax )\n\t\t\t{\n\t\t\t\t/* Record set after filtering */\n\t\t\t\tsOut += ' ' + oLang.sInfoFiltered;\n\t\t\t}\n\t\t\n\t\t\t// Convert the macros\n\t\t\tsOut += oLang.sInfoPostFix;\n\t\t\tsOut = _fnInfoMacros( oSettings, sOut );\n\t\t\t\n\t\t\tif ( oLang.fnInfoCallback !== null )\n\t\t\t{\n\t\t\t\tsOut = oLang.fnInfoCallback.call( oSettings.oInstance, \n\t\t\t\t\toSettings, iStart, iEnd, iMax, iTotal, sOut );\n\t\t\t}\n\t\t\t\n\t\t\tvar n = oSettings.aanFeatures.i;\n\t\t\tfor ( var i=0, iLen=n.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\t$(n[i]).html( sOut );\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tfunction _fnInfoMacros ( oSettings, str )\n\t\t{\n\t\t\tvar\n\t\t\t\tiStart = oSettings._iDisplayStart+1,\n\t\t\t\tsStart = oSettings.fnFormatNumber( iStart ),\n\t\t\t\tiEnd = oSettings.fnDisplayEnd(),\n\t\t\t\tsEnd = oSettings.fnFormatNumber( iEnd ),\n\t\t\t\tiTotal = oSettings.fnRecordsDisplay(),\n\t\t\t\tsTotal = oSettings.fnFormatNumber( iTotal ),\n\t\t\t\tiMax = oSettings.fnRecordsTotal(),\n\t\t\t\tsMax = oSettings.fnFormatNumber( iMax );\n\t\t\n\t\t\t// When infinite scrolling, we are always starting at 1. _iDisplayStart is used only\n\t\t\t// internally\n\t\t\tif ( oSettings.oScroll.bInfinite )\n\t\t\t{\n\t\t\t\tsStart = oSettings.fnFormatNumber( 1 );\n\t\t\t}\n\t\t\n\t\t\treturn str.\n\t\t\t\treplace(/_START_/g, sStart).\n\t\t\t\treplace(/_END_/g,   sEnd).\n\t\t\t\treplace(/_TOTAL_/g, sTotal).\n\t\t\t\treplace(/_MAX_/g,   sMax);\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t/**\n\t\t * Draw the table for the first time, adding all required features\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnInitialise ( oSettings )\n\t\t{\n\t\t\tvar i, iLen, iAjaxStart=oSettings.iInitDisplayStart;\n\t\t\t\n\t\t\t/* Ensure that the table data is fully initialised */\n\t\t\tif ( oSettings.bInitialised === false )\n\t\t\t{\n\t\t\t\tsetTimeout( function(){ _fnInitialise( oSettings ); }, 200 );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\t/* Show the display HTML options */\n\t\t\t_fnAddOptionsHtml( oSettings );\n\t\t\t\n\t\t\t/* Build and draw the header / footer for the table */\n\t\t\t_fnBuildHead( oSettings );\n\t\t\t_fnDrawHead( oSettings, oSettings.aoHeader );\n\t\t\tif ( oSettings.nTFoot )\n\t\t\t{\n\t\t\t\t_fnDrawHead( oSettings, oSettings.aoFooter );\n\t\t\t}\n\t\t\n\t\t\t/* Okay to show that something is going on now */\n\t\t\t_fnProcessingDisplay( oSettings, true );\n\t\t\t\n\t\t\t/* Calculate sizes for columns */\n\t\t\tif ( oSettings.oFeatures.bAutoWidth )\n\t\t\t{\n\t\t\t\t_fnCalculateColumnWidths( oSettings );\n\t\t\t}\n\t\t\t\n\t\t\tfor ( i=0, iLen=oSettings.aoColumns.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tif ( oSettings.aoColumns[i].sWidth !== null )\n\t\t\t\t{\n\t\t\t\t\toSettings.aoColumns[i].nTh.style.width = _fnStringToCss( oSettings.aoColumns[i].sWidth );\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* If there is default sorting required - let's do it. The sort function will do the\n\t\t\t * drawing for us. Otherwise we draw the table regardless of the Ajax source - this allows\n\t\t\t * the table to look initialised for Ajax sourcing data (show 'loading' message possibly)\n\t\t\t */\n\t\t\tif ( oSettings.oFeatures.bSort )\n\t\t\t{\n\t\t\t\t_fnSort( oSettings );\n\t\t\t}\n\t\t\telse if ( oSettings.oFeatures.bFilter )\n\t\t\t{\n\t\t\t\t_fnFilterComplete( oSettings, oSettings.oPreviousSearch );\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\toSettings.aiDisplay = oSettings.aiDisplayMaster.slice();\n\t\t\t\t_fnCalculateEnd( oSettings );\n\t\t\t\t_fnDraw( oSettings );\n\t\t\t}\n\t\t\t\n\t\t\t/* if there is an ajax source load the data */\n\t\t\tif ( oSettings.sAjaxSource !== null && !oSettings.oFeatures.bServerSide )\n\t\t\t{\n\t\t\t\tvar aoData = [];\n\t\t\t\t_fnServerParams( oSettings, aoData );\n\t\t\t\toSettings.fnServerData.call( oSettings.oInstance, oSettings.sAjaxSource, aoData, function(json) {\n\t\t\t\t\tvar aData = (oSettings.sAjaxDataProp !== \"\") ?\n\t\t\t\t\t \t_fnGetObjectDataFn( oSettings.sAjaxDataProp )(json) : json;\n\t\t\n\t\t\t\t\t/* Got the data - add it to the table */\n\t\t\t\t\tfor ( i=0 ; i<aData.length ; i++ )\n\t\t\t\t\t{\n\t\t\t\t\t\t_fnAddData( oSettings, aData[i] );\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t/* Reset the init display for cookie saving. We've already done a filter, and\n\t\t\t\t\t * therefore cleared it before. So we need to make it appear 'fresh'\n\t\t\t\t\t */\n\t\t\t\t\toSettings.iInitDisplayStart = iAjaxStart;\n\t\t\t\t\t\n\t\t\t\t\tif ( oSettings.oFeatures.bSort )\n\t\t\t\t\t{\n\t\t\t\t\t\t_fnSort( oSettings );\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\toSettings.aiDisplay = oSettings.aiDisplayMaster.slice();\n\t\t\t\t\t\t_fnCalculateEnd( oSettings );\n\t\t\t\t\t\t_fnDraw( oSettings );\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t_fnProcessingDisplay( oSettings, false );\n\t\t\t\t\t_fnInitComplete( oSettings, json );\n\t\t\t\t}, oSettings );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\t/* Server-side processing initialisation complete is done at the end of _fnDraw */\n\t\t\tif ( !oSettings.oFeatures.bServerSide )\n\t\t\t{\n\t\t\t\t_fnProcessingDisplay( oSettings, false );\n\t\t\t\t_fnInitComplete( oSettings );\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Draw the table for the first time, adding all required features\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {object} [json] JSON from the server that completed the table, if using Ajax source\n\t\t *    with client-side processing (optional)\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnInitComplete ( oSettings, json )\n\t\t{\n\t\t\toSettings._bInitComplete = true;\n\t\t\t_fnCallbackFire( oSettings, 'aoInitComplete', 'init', [oSettings, json] );\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Language compatibility - when certain options are given, and others aren't, we\n\t\t * need to duplicate the values over, in order to provide backwards compatibility\n\t\t * with older language files.\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnLanguageCompat( oLanguage )\n\t\t{\n\t\t\tvar oDefaults = DataTable.defaults.oLanguage;\n\t\t\n\t\t\t/* Backwards compatibility - if there is no sEmptyTable given, then use the same as\n\t\t\t * sZeroRecords - assuming that is given.\n\t\t\t */\n\t\t\tif ( !oLanguage.sEmptyTable && oLanguage.sZeroRecords &&\n\t\t\t\toDefaults.sEmptyTable === \"No data available in table\" )\n\t\t\t{\n\t\t\t\t_fnMap( oLanguage, oLanguage, 'sZeroRecords', 'sEmptyTable' );\n\t\t\t}\n\t\t\n\t\t\t/* Likewise with loading records */\n\t\t\tif ( !oLanguage.sLoadingRecords && oLanguage.sZeroRecords &&\n\t\t\t\toDefaults.sLoadingRecords === \"Loading...\" )\n\t\t\t{\n\t\t\t\t_fnMap( oLanguage, oLanguage, 'sZeroRecords', 'sLoadingRecords' );\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t/**\n\t\t * Generate the node required for user display length changing\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @returns {node} Display length feature node\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnFeatureHtmlLength ( oSettings )\n\t\t{\n\t\t\tif ( oSettings.oScroll.bInfinite )\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\t\n\t\t\t/* This can be overruled by not using the _MENU_ var/macro in the language variable */\n\t\t\tvar sName = 'name=\"'+oSettings.sTableId+'_length\"';\n\t\t\tvar sStdMenu = '<select size=\"1\" '+sName+'>';\n\t\t\tvar i, iLen;\n\t\t\tvar aLengthMenu = oSettings.aLengthMenu;\n\t\t\t\n\t\t\tif ( aLengthMenu.length == 2 && typeof aLengthMenu[0] === 'object' && \n\t\t\t\t\ttypeof aLengthMenu[1] === 'object' )\n\t\t\t{\n\t\t\t\tfor ( i=0, iLen=aLengthMenu[0].length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\tsStdMenu += '<option value=\"'+aLengthMenu[0][i]+'\">'+aLengthMenu[1][i]+'</option>';\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfor ( i=0, iLen=aLengthMenu.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\tsStdMenu += '<option value=\"'+aLengthMenu[i]+'\">'+aLengthMenu[i]+'</option>';\n\t\t\t\t}\n\t\t\t}\n\t\t\tsStdMenu += '</select>';\n\t\t\t\n\t\t\tvar nLength = document.createElement( 'div' );\n\t\t\tif ( !oSettings.aanFeatures.l )\n\t\t\t{\n\t\t\t\tnLength.id = oSettings.sTableId+'_length';\n\t\t\t}\n\t\t\tnLength.className = oSettings.oClasses.sLength;\n\t\t\tnLength.innerHTML = '<label>'+oSettings.oLanguage.sLengthMenu.replace( '_MENU_', sStdMenu )+'</label>';\n\t\t\t\n\t\t\t/*\n\t\t\t * Set the length to the current display length - thanks to Andrea Pavlovic for this fix,\n\t\t\t * and Stefan Skopnik for fixing the fix!\n\t\t\t */\n\t\t\t$('select option[value=\"'+oSettings._iDisplayLength+'\"]', nLength).attr(\"selected\", true);\n\t\t\t\n\t\t\t$('select', nLength).bind( 'change.DT', function(e) {\n\t\t\t\tvar iVal = $(this).val();\n\t\t\t\t\n\t\t\t\t/* Update all other length options for the new display */\n\t\t\t\tvar n = oSettings.aanFeatures.l;\n\t\t\t\tfor ( i=0, iLen=n.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\tif ( n[i] != this.parentNode )\n\t\t\t\t\t{\n\t\t\t\t\t\t$('select', n[i]).val( iVal );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* Redraw the table */\n\t\t\t\toSettings._iDisplayLength = parseInt(iVal, 10);\n\t\t\t\t_fnCalculateEnd( oSettings );\n\t\t\t\t\n\t\t\t\t/* If we have space to show extra rows (backing up from the end point - then do so */\n\t\t\t\tif ( oSettings.fnDisplayEnd() == oSettings.fnRecordsDisplay() )\n\t\t\t\t{\n\t\t\t\t\toSettings._iDisplayStart = oSettings.fnDisplayEnd() - oSettings._iDisplayLength;\n\t\t\t\t\tif ( oSettings._iDisplayStart < 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\toSettings._iDisplayStart = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ( oSettings._iDisplayLength == -1 )\n\t\t\t\t{\n\t\t\t\t\toSettings._iDisplayStart = 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t_fnDraw( oSettings );\n\t\t\t} );\n\t\t\n\t\t\n\t\t\t$('select', nLength).attr('aria-controls', oSettings.sTableId);\n\t\t\t\n\t\t\treturn nLength;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Recalculate the end point based on the start point\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnCalculateEnd( oSettings )\n\t\t{\n\t\t\tif ( oSettings.oFeatures.bPaginate === false )\n\t\t\t{\n\t\t\t\toSettings._iDisplayEnd = oSettings.aiDisplay.length;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t/* Set the end point of the display - based on how many elements there are\n\t\t\t\t * still to display\n\t\t\t\t */\n\t\t\t\tif ( oSettings._iDisplayStart + oSettings._iDisplayLength > oSettings.aiDisplay.length ||\n\t\t\t\t\t   oSettings._iDisplayLength == -1 )\n\t\t\t\t{\n\t\t\t\t\toSettings._iDisplayEnd = oSettings.aiDisplay.length;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\toSettings._iDisplayEnd = oSettings._iDisplayStart + oSettings._iDisplayLength;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n\t\t * Note that most of the paging logic is done in \n\t\t * DataTable.ext.oPagination\n\t\t */\n\t\t\n\t\t/**\n\t\t * Generate the node required for default pagination\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @returns {node} Pagination feature node\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnFeatureHtmlPaginate ( oSettings )\n\t\t{\n\t\t\tif ( oSettings.oScroll.bInfinite )\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\t\n\t\t\tvar nPaginate = document.createElement( 'div' );\n\t\t\tnPaginate.className = oSettings.oClasses.sPaging+oSettings.sPaginationType;\n\t\t\t\n\t\t\tDataTable.ext.oPagination[ oSettings.sPaginationType ].fnInit( oSettings, nPaginate, \n\t\t\t\tfunction( oSettings ) {\n\t\t\t\t\t_fnCalculateEnd( oSettings );\n\t\t\t\t\t_fnDraw( oSettings );\n\t\t\t\t}\n\t\t\t);\n\t\t\t\n\t\t\t/* Add a draw callback for the pagination on first instance, to update the paging display */\n\t\t\tif ( !oSettings.aanFeatures.p )\n\t\t\t{\n\t\t\t\toSettings.aoDrawCallback.push( {\n\t\t\t\t\t\"fn\": function( oSettings ) {\n\t\t\t\t\t\tDataTable.ext.oPagination[ oSettings.sPaginationType ].fnUpdate( oSettings, function( oSettings ) {\n\t\t\t\t\t\t\t_fnCalculateEnd( oSettings );\n\t\t\t\t\t\t\t_fnDraw( oSettings );\n\t\t\t\t\t\t} );\n\t\t\t\t\t},\n\t\t\t\t\t\"sName\": \"pagination\"\n\t\t\t\t} );\n\t\t\t}\n\t\t\treturn nPaginate;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Alter the display settings to change the page\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {string|int} mAction Paging action to take: \"first\", \"previous\", \"next\" or \"last\"\n\t\t *    or page number to jump to (integer)\n\t\t *  @returns {bool} true page has changed, false - no change (no effect) eg 'first' on page 1\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnPageChange ( oSettings, mAction )\n\t\t{\n\t\t\tvar iOldStart = oSettings._iDisplayStart;\n\t\t\t\n\t\t\tif ( typeof mAction === \"number\" )\n\t\t\t{\n\t\t\t\toSettings._iDisplayStart = mAction * oSettings._iDisplayLength;\n\t\t\t\tif ( oSettings._iDisplayStart > oSettings.fnRecordsDisplay() )\n\t\t\t\t{\n\t\t\t\t\toSettings._iDisplayStart = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ( mAction == \"first\" )\n\t\t\t{\n\t\t\t\toSettings._iDisplayStart = 0;\n\t\t\t}\n\t\t\telse if ( mAction == \"previous\" )\n\t\t\t{\n\t\t\t\toSettings._iDisplayStart = oSettings._iDisplayLength>=0 ?\n\t\t\t\t\toSettings._iDisplayStart - oSettings._iDisplayLength :\n\t\t\t\t\t0;\n\t\t\t\t\n\t\t\t\t/* Correct for under-run */\n\t\t\t\tif ( oSettings._iDisplayStart < 0 )\n\t\t\t\t{\n\t\t\t\t  oSettings._iDisplayStart = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ( mAction == \"next\" )\n\t\t\t{\n\t\t\t\tif ( oSettings._iDisplayLength >= 0 )\n\t\t\t\t{\n\t\t\t\t\t/* Make sure we are not over running the display array */\n\t\t\t\t\tif ( oSettings._iDisplayStart + oSettings._iDisplayLength < oSettings.fnRecordsDisplay() )\n\t\t\t\t\t{\n\t\t\t\t\t\toSettings._iDisplayStart += oSettings._iDisplayLength;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\toSettings._iDisplayStart = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ( mAction == \"last\" )\n\t\t\t{\n\t\t\t\tif ( oSettings._iDisplayLength >= 0 )\n\t\t\t\t{\n\t\t\t\t\tvar iPages = parseInt( (oSettings.fnRecordsDisplay()-1) / oSettings._iDisplayLength, 10 ) + 1;\n\t\t\t\t\toSettings._iDisplayStart = (iPages-1) * oSettings._iDisplayLength;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\toSettings._iDisplayStart = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t_fnLog( oSettings, 0, \"Unknown paging action: \"+mAction );\n\t\t\t}\n\t\t\t$(oSettings.oInstance).trigger('page', oSettings);\n\t\t\t\n\t\t\treturn iOldStart != oSettings._iDisplayStart;\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t/**\n\t\t * Generate the node required for the processing node\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @returns {node} Processing element\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnFeatureHtmlProcessing ( oSettings )\n\t\t{\n\t\t\tvar nProcessing = document.createElement( 'div' );\n\t\t\t\n\t\t\tif ( !oSettings.aanFeatures.r )\n\t\t\t{\n\t\t\t\tnProcessing.id = oSettings.sTableId+'_processing';\n\t\t\t}\n\t\t\tnProcessing.innerHTML = oSettings.oLanguage.sProcessing;\n\t\t\tnProcessing.className = oSettings.oClasses.sProcessing;\n\t\t\toSettings.nTable.parentNode.insertBefore( nProcessing, oSettings.nTable );\n\t\t\t\n\t\t\treturn nProcessing;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Display or hide the processing indicator\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {bool} bShow Show the processing indicator (true) or not (false)\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnProcessingDisplay ( oSettings, bShow )\n\t\t{\n\t\t\tif ( oSettings.oFeatures.bProcessing )\n\t\t\t{\n\t\t\t\tvar an = oSettings.aanFeatures.r;\n\t\t\t\tfor ( var i=0, iLen=an.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\tan[i].style.visibility = bShow ? \"visible\" : \"hidden\";\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\t$(oSettings.oInstance).trigger('processing', [oSettings, bShow]);\n\t\t}\n\t\t\n\t\t/**\n\t\t * Add any control elements for the table - specifically scrolling\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @returns {node} Node to add to the DOM\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnFeatureHtmlTable ( oSettings )\n\t\t{\n\t\t\t/* Check if scrolling is enabled or not - if not then leave the DOM unaltered */\n\t\t\tif ( oSettings.oScroll.sX === \"\" && oSettings.oScroll.sY === \"\" )\n\t\t\t{\n\t\t\t\treturn oSettings.nTable;\n\t\t\t}\n\t\t\t\n\t\t\t/*\n\t\t\t * The HTML structure that we want to generate in this function is:\n\t\t\t *  div - nScroller\n\t\t\t *    div - nScrollHead\n\t\t\t *      div - nScrollHeadInner\n\t\t\t *        table - nScrollHeadTable\n\t\t\t *          thead - nThead\n\t\t\t *    div - nScrollBody\n\t\t\t *      table - oSettings.nTable\n\t\t\t *        thead - nTheadSize\n\t\t\t *        tbody - nTbody\n\t\t\t *    div - nScrollFoot\n\t\t\t *      div - nScrollFootInner\n\t\t\t *        table - nScrollFootTable\n\t\t\t *          tfoot - nTfoot\n\t\t\t */\n\t\t\tvar\n\t\t\t \tnScroller = document.createElement('div'),\n\t\t\t \tnScrollHead = document.createElement('div'),\n\t\t\t \tnScrollHeadInner = document.createElement('div'),\n\t\t\t \tnScrollBody = document.createElement('div'),\n\t\t\t \tnScrollFoot = document.createElement('div'),\n\t\t\t \tnScrollFootInner = document.createElement('div'),\n\t\t\t \tnScrollHeadTable = oSettings.nTable.cloneNode(false),\n\t\t\t \tnScrollFootTable = oSettings.nTable.cloneNode(false),\n\t\t\t\tnThead = oSettings.nTable.getElementsByTagName('thead')[0],\n\t\t\t \tnTfoot = oSettings.nTable.getElementsByTagName('tfoot').length === 0 ? null : \n\t\t\t\t\toSettings.nTable.getElementsByTagName('tfoot')[0],\n\t\t\t\toClasses = oSettings.oClasses;\n\t\t\t\n\t\t\tnScrollHead.appendChild( nScrollHeadInner );\n\t\t\tnScrollFoot.appendChild( nScrollFootInner );\n\t\t\tnScrollBody.appendChild( oSettings.nTable );\n\t\t\tnScroller.appendChild( nScrollHead );\n\t\t\tnScroller.appendChild( nScrollBody );\n\t\t\tnScrollHeadInner.appendChild( nScrollHeadTable );\n\t\t\tnScrollHeadTable.appendChild( nThead );\n\t\t\tif ( nTfoot !== null )\n\t\t\t{\n\t\t\t\tnScroller.appendChild( nScrollFoot );\n\t\t\t\tnScrollFootInner.appendChild( nScrollFootTable );\n\t\t\t\tnScrollFootTable.appendChild( nTfoot );\n\t\t\t}\n\t\t\t\n\t\t\tnScroller.className = oClasses.sScrollWrapper;\n\t\t\tnScrollHead.className = oClasses.sScrollHead;\n\t\t\tnScrollHeadInner.className = oClasses.sScrollHeadInner;\n\t\t\tnScrollBody.className = oClasses.sScrollBody;\n\t\t\tnScrollFoot.className = oClasses.sScrollFoot;\n\t\t\tnScrollFootInner.className = oClasses.sScrollFootInner;\n\t\t\t\n\t\t\tif ( oSettings.oScroll.bAutoCss )\n\t\t\t{\n\t\t\t\tnScrollHead.style.overflow = \"hidden\";\n\t\t\t\tnScrollHead.style.position = \"relative\";\n\t\t\t\tnScrollFoot.style.overflow = \"hidden\";\n\t\t\t\tnScrollBody.style.overflow = \"auto\";\n\t\t\t}\n\t\t\t\n\t\t\tnScrollHead.style.border = \"0\";\n\t\t\tnScrollHead.style.width = \"100%\";\n\t\t\tnScrollFoot.style.border = \"0\";\n\t\t\tnScrollHeadInner.style.width = oSettings.oScroll.sXInner !== \"\" ?\n\t\t\t\toSettings.oScroll.sXInner : \"100%\"; /* will be overwritten */\n\t\t\t\n\t\t\t/* Modify attributes to respect the clones */\n\t\t\tnScrollHeadTable.removeAttribute('id');\n\t\t\tnScrollHeadTable.style.marginLeft = \"0\";\n\t\t\toSettings.nTable.style.marginLeft = \"0\";\n\t\t\tif ( nTfoot !== null )\n\t\t\t{\n\t\t\t\tnScrollFootTable.removeAttribute('id');\n\t\t\t\tnScrollFootTable.style.marginLeft = \"0\";\n\t\t\t}\n\t\t\t\n\t\t\t/* Move caption elements from the body to the header, footer or leave where it is\n\t\t\t * depending on the configuration. Note that the DTD says there can be only one caption */\n\t\t\tvar nCaption = $(oSettings.nTable).children('caption');\n\t\t\tif ( nCaption.length > 0 )\n\t\t\t{\n\t\t\t\tnCaption = nCaption[0];\n\t\t\t\tif ( nCaption._captionSide === \"top\" )\n\t\t\t\t{\n\t\t\t\t\tnScrollHeadTable.appendChild( nCaption );\n\t\t\t\t}\n\t\t\t\telse if ( nCaption._captionSide === \"bottom\" && nTfoot )\n\t\t\t\t{\n\t\t\t\t\tnScrollFootTable.appendChild( nCaption );\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/*\n\t\t\t * Sizing\n\t\t\t */\n\t\t\t/* When x-scrolling add the width and a scroller to move the header with the body */\n\t\t\tif ( oSettings.oScroll.sX !== \"\" )\n\t\t\t{\n\t\t\t\tnScrollHead.style.width = _fnStringToCss( oSettings.oScroll.sX );\n\t\t\t\tnScrollBody.style.width = _fnStringToCss( oSettings.oScroll.sX );\n\t\t\t\t\n\t\t\t\tif ( nTfoot !== null )\n\t\t\t\t{\n\t\t\t\t\tnScrollFoot.style.width = _fnStringToCss( oSettings.oScroll.sX );\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* When the body is scrolled, then we also want to scroll the headers */\n\t\t\t\t$(nScrollBody).scroll( function (e) {\n\t\t\t\t\tnScrollHead.scrollLeft = this.scrollLeft;\n\t\t\t\t\t\n\t\t\t\t\tif ( nTfoot !== null )\n\t\t\t\t\t{\n\t\t\t\t\t\tnScrollFoot.scrollLeft = this.scrollLeft;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t\t\n\t\t\t/* When yscrolling, add the height */\n\t\t\tif ( oSettings.oScroll.sY !== \"\" )\n\t\t\t{\n\t\t\t\tnScrollBody.style.height = _fnStringToCss( oSettings.oScroll.sY );\n\t\t\t}\n\t\t\t\n\t\t\t/* Redraw - align columns across the tables */\n\t\t\toSettings.aoDrawCallback.push( {\n\t\t\t\t\"fn\": _fnScrollDraw,\n\t\t\t\t\"sName\": \"scrolling\"\n\t\t\t} );\n\t\t\t\n\t\t\t/* Infinite scrolling event handlers */\n\t\t\tif ( oSettings.oScroll.bInfinite )\n\t\t\t{\n\t\t\t\t$(nScrollBody).scroll( function() {\n\t\t\t\t\t/* Use a blocker to stop scrolling from loading more data while other data is still loading */\n\t\t\t\t\tif ( !oSettings.bDrawing && $(this).scrollTop() !== 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\t/* Check if we should load the next data set */\n\t\t\t\t\t\tif ( $(this).scrollTop() + $(this).height() > \n\t\t\t\t\t\t\t$(oSettings.nTable).height() - oSettings.oScroll.iLoadGap )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t/* Only do the redraw if we have to - we might be at the end of the data */\n\t\t\t\t\t\t\tif ( oSettings.fnDisplayEnd() < oSettings.fnRecordsDisplay() )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t_fnPageChange( oSettings, 'next' );\n\t\t\t\t\t\t\t\t_fnCalculateEnd( oSettings );\n\t\t\t\t\t\t\t\t_fnDraw( oSettings );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t\t\n\t\t\toSettings.nScrollHead = nScrollHead;\n\t\t\toSettings.nScrollFoot = nScrollFoot;\n\t\t\t\n\t\t\treturn nScroller;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Update the various tables for resizing. It's a bit of a pig this function, but\n\t\t * basically the idea to:\n\t\t *   1. Re-create the table inside the scrolling div\n\t\t *   2. Take live measurements from the DOM\n\t\t *   3. Apply the measurements\n\t\t *   4. Clean up\n\t\t *  @param {object} o dataTables settings object\n\t\t *  @returns {node} Node to add to the DOM\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnScrollDraw ( o )\n\t\t{\n\t\t\tvar\n\t\t\t\tnScrollHeadInner = o.nScrollHead.getElementsByTagName('div')[0],\n\t\t\t\tnScrollHeadTable = nScrollHeadInner.getElementsByTagName('table')[0],\n\t\t\t\tnScrollBody = o.nTable.parentNode,\n\t\t\t\ti, iLen, j, jLen, anHeadToSize, anHeadSizers, anFootSizers, anFootToSize, oStyle, iVis,\n\t\t\t\tnTheadSize, nTfootSize,\n\t\t\t\tiWidth, aApplied=[], aAppliedFooter=[], iSanityWidth,\n\t\t\t\tnScrollFootInner = (o.nTFoot !== null) ? o.nScrollFoot.getElementsByTagName('div')[0] : null,\n\t\t\t\tnScrollFootTable = (o.nTFoot !== null) ? nScrollFootInner.getElementsByTagName('table')[0] : null,\n\t\t\t\tie67 = o.oBrowser.bScrollOversize,\n\t\t\t\tzeroOut = function(nSizer) {\n\t\t\t\t\toStyle = nSizer.style;\n\t\t\t\t\toStyle.paddingTop = \"0\";\n\t\t\t\t\toStyle.paddingBottom = \"0\";\n\t\t\t\t\toStyle.borderTopWidth = \"0\";\n\t\t\t\t\toStyle.borderBottomWidth = \"0\";\n\t\t\t\t\toStyle.height = 0;\n\t\t\t\t};\n\t\t\t\n\t\t\t/*\n\t\t\t * 1. Re-create the table inside the scrolling div\n\t\t\t */\n\t\t\t\n\t\t\t/* Remove the old minimised thead and tfoot elements in the inner table */\n\t\t\t$(o.nTable).children('thead, tfoot').remove();\n\t\t\n\t\t\t/* Clone the current header and footer elements and then place it into the inner table */\n\t\t\tnTheadSize = $(o.nTHead).clone()[0];\n\t\t\to.nTable.insertBefore( nTheadSize, o.nTable.childNodes[0] );\n\t\t\tanHeadToSize = o.nTHead.getElementsByTagName('tr');\n\t\t\tanHeadSizers = nTheadSize.getElementsByTagName('tr');\n\t\t\t\n\t\t\tif ( o.nTFoot !== null )\n\t\t\t{\n\t\t\t\tnTfootSize = $(o.nTFoot).clone()[0];\n\t\t\t\to.nTable.insertBefore( nTfootSize, o.nTable.childNodes[1] );\n\t\t\t\tanFootToSize = o.nTFoot.getElementsByTagName('tr');\n\t\t\t\tanFootSizers = nTfootSize.getElementsByTagName('tr');\n\t\t\t}\n\t\t\t\n\t\t\t/*\n\t\t\t * 2. Take live measurements from the DOM - do not alter the DOM itself!\n\t\t\t */\n\t\t\t\n\t\t\t/* Remove old sizing and apply the calculated column widths\n\t\t\t * Get the unique column headers in the newly created (cloned) header. We want to apply the\n\t\t\t * calculated sizes to this header\n\t\t\t */\n\t\t\tif ( o.oScroll.sX === \"\" )\n\t\t\t{\n\t\t\t\tnScrollBody.style.width = '100%';\n\t\t\t\tnScrollHeadInner.parentNode.style.width = '100%';\n\t\t\t}\n\t\t\t\n\t\t\tvar nThs = _fnGetUniqueThs( o, nTheadSize );\n\t\t\tfor ( i=0, iLen=nThs.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tiVis = _fnVisibleToColumnIndex( o, i );\n\t\t\t\tnThs[i].style.width = o.aoColumns[iVis].sWidth;\n\t\t\t}\n\t\t\t\n\t\t\tif ( o.nTFoot !== null )\n\t\t\t{\n\t\t\t\t_fnApplyToChildren( function(n) {\n\t\t\t\t\tn.style.width = \"\";\n\t\t\t\t}, anFootSizers );\n\t\t\t}\n\t\t\n\t\t\t// If scroll collapse is enabled, when we put the headers back into the body for sizing, we\n\t\t\t// will end up forcing the scrollbar to appear, making our measurements wrong for when we\n\t\t\t// then hide it (end of this function), so add the header height to the body scroller.\n\t\t\tif ( o.oScroll.bCollapse && o.oScroll.sY !== \"\" )\n\t\t\t{\n\t\t\t\tnScrollBody.style.height = (nScrollBody.offsetHeight + o.nTHead.offsetHeight)+\"px\";\n\t\t\t}\n\t\t\t\n\t\t\t/* Size the table as a whole */\n\t\t\tiSanityWidth = $(o.nTable).outerWidth();\n\t\t\tif ( o.oScroll.sX === \"\" )\n\t\t\t{\n\t\t\t\t/* No x scrolling */\n\t\t\t\to.nTable.style.width = \"100%\";\n\t\t\t\t\n\t\t\t\t/* I know this is rubbish - but IE7 will make the width of the table when 100% include\n\t\t\t\t * the scrollbar - which is shouldn't. When there is a scrollbar we need to take this\n\t\t\t\t * into account.\n\t\t\t\t */\n\t\t\t\tif ( ie67 && ($('tbody', nScrollBody).height() > nScrollBody.offsetHeight || \n\t\t\t\t\t$(nScrollBody).css('overflow-y') == \"scroll\")  )\n\t\t\t\t{\n\t\t\t\t\to.nTable.style.width = _fnStringToCss( $(o.nTable).outerWidth() - o.oScroll.iBarWidth);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif ( o.oScroll.sXInner !== \"\" )\n\t\t\t\t{\n\t\t\t\t\t/* x scroll inner has been given - use it */\n\t\t\t\t\to.nTable.style.width = _fnStringToCss(o.oScroll.sXInner);\n\t\t\t\t}\n\t\t\t\telse if ( iSanityWidth == $(nScrollBody).width() &&\n\t\t\t\t   $(nScrollBody).height() < $(o.nTable).height() )\n\t\t\t\t{\n\t\t\t\t\t/* There is y-scrolling - try to take account of the y scroll bar */\n\t\t\t\t\to.nTable.style.width = _fnStringToCss( iSanityWidth-o.oScroll.iBarWidth );\n\t\t\t\t\tif ( $(o.nTable).outerWidth() > iSanityWidth-o.oScroll.iBarWidth )\n\t\t\t\t\t{\n\t\t\t\t\t\t/* Not possible to take account of it */\n\t\t\t\t\t\to.nTable.style.width = _fnStringToCss( iSanityWidth );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t/* All else fails */\n\t\t\t\t\to.nTable.style.width = _fnStringToCss( iSanityWidth );\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* Recalculate the sanity width - now that we've applied the required width, before it was\n\t\t\t * a temporary variable. This is required because the column width calculation is done\n\t\t\t * before this table DOM is created.\n\t\t\t */\n\t\t\tiSanityWidth = $(o.nTable).outerWidth();\n\t\t\t\n\t\t\t/* We want the hidden header to have zero height, so remove padding and borders. Then\n\t\t\t * set the width based on the real headers\n\t\t\t */\n\t\t\t\n\t\t\t// Apply all styles in one pass. Invalidates layout only once because we don't read any \n\t\t\t// DOM properties.\n\t\t\t_fnApplyToChildren( zeroOut, anHeadSizers );\n\t\t\t \n\t\t\t// Read all widths in next pass. Forces layout only once because we do not change \n\t\t\t// any DOM properties.\n\t\t\t_fnApplyToChildren( function(nSizer) {\n\t\t\t\taApplied.push( _fnStringToCss( $(nSizer).width() ) );\n\t\t\t}, anHeadSizers );\n\t\t\t \n\t\t\t// Apply all widths in final pass. Invalidates layout only once because we do not\n\t\t\t// read any DOM properties.\n\t\t\t_fnApplyToChildren( function(nToSize, i) {\n\t\t\t\tnToSize.style.width = aApplied[i];\n\t\t\t}, anHeadToSize );\n\t\t\n\t\t\t$(anHeadSizers).height(0);\n\t\t\t\n\t\t\t/* Same again with the footer if we have one */\n\t\t\tif ( o.nTFoot !== null )\n\t\t\t{\n\t\t\t\t_fnApplyToChildren( zeroOut, anFootSizers );\n\t\t\t\t \n\t\t\t\t_fnApplyToChildren( function(nSizer) {\n\t\t\t\t\taAppliedFooter.push( _fnStringToCss( $(nSizer).width() ) );\n\t\t\t\t}, anFootSizers );\n\t\t\t\t \n\t\t\t\t_fnApplyToChildren( function(nToSize, i) {\n\t\t\t\t\tnToSize.style.width = aAppliedFooter[i];\n\t\t\t\t}, anFootToSize );\n\t\t\n\t\t\t\t$(anFootSizers).height(0);\n\t\t\t}\n\t\t\t\n\t\t\t/*\n\t\t\t * 3. Apply the measurements\n\t\t\t */\n\t\t\t\n\t\t\t/* \"Hide\" the header and footer that we used for the sizing. We want to also fix their width\n\t\t\t * to what they currently are\n\t\t\t */\n\t\t\t_fnApplyToChildren( function(nSizer, i) {\n\t\t\t\tnSizer.innerHTML = \"\";\n\t\t\t\tnSizer.style.width = aApplied[i];\n\t\t\t}, anHeadSizers );\n\t\t\t\n\t\t\tif ( o.nTFoot !== null )\n\t\t\t{\n\t\t\t\t_fnApplyToChildren( function(nSizer, i) {\n\t\t\t\t\tnSizer.innerHTML = \"\";\n\t\t\t\t\tnSizer.style.width = aAppliedFooter[i];\n\t\t\t\t}, anFootSizers );\n\t\t\t}\n\t\t\t\n\t\t\t/* Sanity check that the table is of a sensible width. If not then we are going to get\n\t\t\t * misalignment - try to prevent this by not allowing the table to shrink below its min width\n\t\t\t */\n\t\t\tif ( $(o.nTable).outerWidth() < iSanityWidth )\n\t\t\t{\n\t\t\t\t/* The min width depends upon if we have a vertical scrollbar visible or not */\n\t\t\t\tvar iCorrection = ((nScrollBody.scrollHeight > nScrollBody.offsetHeight || \n\t\t\t\t\t$(nScrollBody).css('overflow-y') == \"scroll\")) ?\n\t\t\t\t\t\tiSanityWidth+o.oScroll.iBarWidth : iSanityWidth;\n\t\t\t\t\n\t\t\t\t/* IE6/7 are a law unto themselves... */\n\t\t\t\tif ( ie67 && (nScrollBody.scrollHeight > \n\t\t\t\t\tnScrollBody.offsetHeight || $(nScrollBody).css('overflow-y') == \"scroll\")  )\n\t\t\t\t{\n\t\t\t\t\to.nTable.style.width = _fnStringToCss( iCorrection-o.oScroll.iBarWidth );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* Apply the calculated minimum width to the table wrappers */\n\t\t\t\tnScrollBody.style.width = _fnStringToCss( iCorrection );\n\t\t\t\to.nScrollHead.style.width = _fnStringToCss( iCorrection );\n\t\t\t\t\n\t\t\t\tif ( o.nTFoot !== null )\n\t\t\t\t{\n\t\t\t\t\to.nScrollFoot.style.width = _fnStringToCss( iCorrection );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* And give the user a warning that we've stopped the table getting too small */\n\t\t\t\tif ( o.oScroll.sX === \"\" )\n\t\t\t\t{\n\t\t\t\t\t_fnLog( o, 1, \"The table cannot fit into the current element which will cause column\"+\n\t\t\t\t\t\t\" misalignment. The table has been drawn at its minimum possible width.\" );\n\t\t\t\t}\n\t\t\t\telse if ( o.oScroll.sXInner !== \"\" )\n\t\t\t\t{\n\t\t\t\t\t_fnLog( o, 1, \"The table cannot fit into the current element which will cause column\"+\n\t\t\t\t\t\t\" misalignment. Increase the sScrollXInner value or remove it to allow automatic\"+\n\t\t\t\t\t\t\" calculation\" );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tnScrollBody.style.width = _fnStringToCss( '100%' );\n\t\t\t\to.nScrollHead.style.width = _fnStringToCss( '100%' );\n\t\t\t\t\n\t\t\t\tif ( o.nTFoot !== null )\n\t\t\t\t{\n\t\t\t\t\to.nScrollFoot.style.width = _fnStringToCss( '100%' );\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t/*\n\t\t\t * 4. Clean up\n\t\t\t */\n\t\t\tif ( o.oScroll.sY === \"\" )\n\t\t\t{\n\t\t\t\t/* IE7< puts a vertical scrollbar in place (when it shouldn't be) due to subtracting\n\t\t\t\t * the scrollbar height from the visible display, rather than adding it on. We need to\n\t\t\t\t * set the height in order to sort this. Don't want to do it in any other browsers.\n\t\t\t\t */\n\t\t\t\tif ( ie67 )\n\t\t\t\t{\n\t\t\t\t\tnScrollBody.style.height = _fnStringToCss( o.nTable.offsetHeight+o.oScroll.iBarWidth );\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif ( o.oScroll.sY !== \"\" && o.oScroll.bCollapse )\n\t\t\t{\n\t\t\t\tnScrollBody.style.height = _fnStringToCss( o.oScroll.sY );\n\t\t\t\t\n\t\t\t\tvar iExtra = (o.oScroll.sX !== \"\" && o.nTable.offsetWidth > nScrollBody.offsetWidth) ?\n\t\t\t\t \to.oScroll.iBarWidth : 0;\n\t\t\t\tif ( o.nTable.offsetHeight < nScrollBody.offsetHeight )\n\t\t\t\t{\n\t\t\t\t\tnScrollBody.style.height = _fnStringToCss( o.nTable.offsetHeight+iExtra );\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* Finally set the width's of the header and footer tables */\n\t\t\tvar iOuterWidth = $(o.nTable).outerWidth();\n\t\t\tnScrollHeadTable.style.width = _fnStringToCss( iOuterWidth );\n\t\t\tnScrollHeadInner.style.width = _fnStringToCss( iOuterWidth );\n\t\t\n\t\t\t// Figure out if there are scrollbar present - if so then we need a the header and footer to\n\t\t\t// provide a bit more space to allow \"overflow\" scrolling (i.e. past the scrollbar)\n\t\t\tvar bScrolling = $(o.nTable).height() > nScrollBody.clientHeight || $(nScrollBody).css('overflow-y') == \"scroll\";\n\t\t\tnScrollHeadInner.style.paddingRight = bScrolling ? o.oScroll.iBarWidth+\"px\" : \"0px\";\n\t\t\t\n\t\t\tif ( o.nTFoot !== null )\n\t\t\t{\n\t\t\t\tnScrollFootTable.style.width = _fnStringToCss( iOuterWidth );\n\t\t\t\tnScrollFootInner.style.width = _fnStringToCss( iOuterWidth );\n\t\t\t\tnScrollFootInner.style.paddingRight = bScrolling ? o.oScroll.iBarWidth+\"px\" : \"0px\";\n\t\t\t}\n\t\t\n\t\t\t/* Adjust the position of the header in case we loose the y-scrollbar */\n\t\t\t$(nScrollBody).scroll();\n\t\t\t\n\t\t\t/* If sorting or filtering has occurred, jump the scrolling back to the top */\n\t\t\tif ( o.bSorted || o.bFiltered )\n\t\t\t{\n\t\t\t\tnScrollBody.scrollTop = 0;\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Apply a given function to the display child nodes of an element array (typically\n\t\t * TD children of TR rows\n\t\t *  @param {function} fn Method to apply to the objects\n\t\t *  @param array {nodes} an1 List of elements to look through for display children\n\t\t *  @param array {nodes} an2 Another list (identical structure to the first) - optional\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnApplyToChildren( fn, an1, an2 )\n\t\t{\n\t\t\tvar index=0, i=0, iLen=an1.length;\n\t\t\tvar nNode1, nNode2;\n\t\t\n\t\t\twhile ( i < iLen )\n\t\t\t{\n\t\t\t\tnNode1 = an1[i].firstChild;\n\t\t\t\tnNode2 = an2 ? an2[i].firstChild : null;\n\t\t\t\twhile ( nNode1 )\n\t\t\t\t{\n\t\t\t\t\tif ( nNode1.nodeType === 1 )\n\t\t\t\t\t{\n\t\t\t\t\t\tif ( an2 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfn( nNode1, nNode2, index );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfn( nNode1, index );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tindex++;\n\t\t\t\t\t}\n\t\t\t\t\tnNode1 = nNode1.nextSibling;\n\t\t\t\t\tnNode2 = an2 ? nNode2.nextSibling : null;\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t}\n\t\t}\n\t\t\n\t\t/**\n\t\t * Convert a CSS unit width to pixels (e.g. 2em)\n\t\t *  @param {string} sWidth width to be converted\n\t\t *  @param {node} nParent parent to get the with for (required for relative widths) - optional\n\t\t *  @returns {int} iWidth width in pixels\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnConvertToWidth ( sWidth, nParent )\n\t\t{\n\t\t\tif ( !sWidth || sWidth === null || sWidth === '' )\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\t\n\t\t\tif ( !nParent )\n\t\t\t{\n\t\t\t\tnParent = document.body;\n\t\t\t}\n\t\t\t\n\t\t\tvar iWidth;\n\t\t\tvar nTmp = document.createElement( \"div\" );\n\t\t\tnTmp.style.width = _fnStringToCss( sWidth );\n\t\t\t\n\t\t\tnParent.appendChild( nTmp );\n\t\t\tiWidth = nTmp.offsetWidth;\n\t\t\tnParent.removeChild( nTmp );\n\t\t\t\n\t\t\treturn ( iWidth );\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Calculate the width of columns for the table\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnCalculateColumnWidths ( oSettings )\n\t\t{\n\t\t\tvar iTableWidth = oSettings.nTable.offsetWidth;\n\t\t\tvar iUserInputs = 0;\n\t\t\tvar iTmpWidth;\n\t\t\tvar iVisibleColumns = 0;\n\t\t\tvar iColums = oSettings.aoColumns.length;\n\t\t\tvar i, iIndex, iCorrector, iWidth;\n\t\t\tvar oHeaders = $('th', oSettings.nTHead);\n\t\t\tvar widthAttr = oSettings.nTable.getAttribute('width');\n\t\t\tvar nWrapper = oSettings.nTable.parentNode;\n\t\t\t\n\t\t\t/* Convert any user input sizes into pixel sizes */\n\t\t\tfor ( i=0 ; i<iColums ; i++ )\n\t\t\t{\n\t\t\t\tif ( oSettings.aoColumns[i].bVisible )\n\t\t\t\t{\n\t\t\t\t\tiVisibleColumns++;\n\t\t\t\t\t\n\t\t\t\t\tif ( oSettings.aoColumns[i].sWidth !== null )\n\t\t\t\t\t{\n\t\t\t\t\t\tiTmpWidth = _fnConvertToWidth( oSettings.aoColumns[i].sWidthOrig, \n\t\t\t\t\t\t\tnWrapper );\n\t\t\t\t\t\tif ( iTmpWidth !== null )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toSettings.aoColumns[i].sWidth = _fnStringToCss( iTmpWidth );\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\tiUserInputs++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* If the number of columns in the DOM equals the number that we have to process in \n\t\t\t * DataTables, then we can use the offsets that are created by the web-browser. No custom \n\t\t\t * sizes can be set in order for this to happen, nor scrolling used\n\t\t\t */\n\t\t\tif ( iColums == oHeaders.length && iUserInputs === 0 && iVisibleColumns == iColums &&\n\t\t\t\toSettings.oScroll.sX === \"\" && oSettings.oScroll.sY === \"\" )\n\t\t\t{\n\t\t\t\tfor ( i=0 ; i<oSettings.aoColumns.length ; i++ )\n\t\t\t\t{\n\t\t\t\t\tiTmpWidth = $(oHeaders[i]).width();\n\t\t\t\t\tif ( iTmpWidth !== null )\n\t\t\t\t\t{\n\t\t\t\t\t\toSettings.aoColumns[i].sWidth = _fnStringToCss( iTmpWidth );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t/* Otherwise we are going to have to do some calculations to get the width of each column.\n\t\t\t\t * Construct a 1 row table with the widest node in the data, and any user defined widths,\n\t\t\t\t * then insert it into the DOM and allow the browser to do all the hard work of\n\t\t\t\t * calculating table widths.\n\t\t\t\t */\n\t\t\t\tvar\n\t\t\t\t\tnCalcTmp = oSettings.nTable.cloneNode( false ),\n\t\t\t\t\tnTheadClone = oSettings.nTHead.cloneNode(true),\n\t\t\t\t\tnBody = document.createElement( 'tbody' ),\n\t\t\t\t\tnTr = document.createElement( 'tr' ),\n\t\t\t\t\tnDivSizing;\n\t\t\t\t\n\t\t\t\tnCalcTmp.removeAttribute( \"id\" );\n\t\t\t\tnCalcTmp.appendChild( nTheadClone );\n\t\t\t\tif ( oSettings.nTFoot !== null )\n\t\t\t\t{\n\t\t\t\t\tnCalcTmp.appendChild( oSettings.nTFoot.cloneNode(true) );\n\t\t\t\t\t_fnApplyToChildren( function(n) {\n\t\t\t\t\t\tn.style.width = \"\";\n\t\t\t\t\t}, nCalcTmp.getElementsByTagName('tr') );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tnCalcTmp.appendChild( nBody );\n\t\t\t\tnBody.appendChild( nTr );\n\t\t\t\t\n\t\t\t\t/* Remove any sizing that was previously applied by the styles */\n\t\t\t\tvar jqColSizing = $('thead th', nCalcTmp);\n\t\t\t\tif ( jqColSizing.length === 0 )\n\t\t\t\t{\n\t\t\t\t\tjqColSizing = $('tbody tr:eq(0)>td', nCalcTmp);\n\t\t\t\t}\n\t\t\n\t\t\t\t/* Apply custom sizing to the cloned header */\n\t\t\t\tvar nThs = _fnGetUniqueThs( oSettings, nTheadClone );\n\t\t\t\tiCorrector = 0;\n\t\t\t\tfor ( i=0 ; i<iColums ; i++ )\n\t\t\t\t{\n\t\t\t\t\tvar oColumn = oSettings.aoColumns[i];\n\t\t\t\t\tif ( oColumn.bVisible && oColumn.sWidthOrig !== null && oColumn.sWidthOrig !== \"\" )\n\t\t\t\t\t{\n\t\t\t\t\t\tnThs[i-iCorrector].style.width = _fnStringToCss( oColumn.sWidthOrig );\n\t\t\t\t\t}\n\t\t\t\t\telse if ( oColumn.bVisible )\n\t\t\t\t\t{\n\t\t\t\t\t\tnThs[i-iCorrector].style.width = \"\";\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tiCorrector++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t/* Find the biggest td for each column and put it into the table */\n\t\t\t\tfor ( i=0 ; i<iColums ; i++ )\n\t\t\t\t{\n\t\t\t\t\tif ( oSettings.aoColumns[i].bVisible )\n\t\t\t\t\t{\n\t\t\t\t\t\tvar nTd = _fnGetWidestNode( oSettings, i );\n\t\t\t\t\t\tif ( nTd !== null )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnTd = nTd.cloneNode(true);\n\t\t\t\t\t\t\tif ( oSettings.aoColumns[i].sContentPadding !== \"\" )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tnTd.innerHTML += oSettings.aoColumns[i].sContentPadding;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tnTr.appendChild( nTd );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* Build the table and 'display' it */\n\t\t\t\tnWrapper.appendChild( nCalcTmp );\n\t\t\t\t\n\t\t\t\t/* When scrolling (X or Y) we want to set the width of the table as appropriate. However,\n\t\t\t\t * when not scrolling leave the table width as it is. This results in slightly different,\n\t\t\t\t * but I think correct behaviour\n\t\t\t\t */\n\t\t\t\tif ( oSettings.oScroll.sX !== \"\" && oSettings.oScroll.sXInner !== \"\" )\n\t\t\t\t{\n\t\t\t\t\tnCalcTmp.style.width = _fnStringToCss(oSettings.oScroll.sXInner);\n\t\t\t\t}\n\t\t\t\telse if ( oSettings.oScroll.sX !== \"\" )\n\t\t\t\t{\n\t\t\t\t\tnCalcTmp.style.width = \"\";\n\t\t\t\t\tif ( $(nCalcTmp).width() < nWrapper.offsetWidth )\n\t\t\t\t\t{\n\t\t\t\t\t\tnCalcTmp.style.width = _fnStringToCss( nWrapper.offsetWidth );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if ( oSettings.oScroll.sY !== \"\" )\n\t\t\t\t{\n\t\t\t\t\tnCalcTmp.style.width = _fnStringToCss( nWrapper.offsetWidth );\n\t\t\t\t}\n\t\t\t\telse if ( widthAttr )\n\t\t\t\t{\n\t\t\t\t\tnCalcTmp.style.width = _fnStringToCss( widthAttr );\n\t\t\t\t}\n\t\t\t\tnCalcTmp.style.visibility = \"hidden\";\n\t\t\t\t\n\t\t\t\t/* Scrolling considerations */\n\t\t\t\t_fnScrollingWidthAdjust( oSettings, nCalcTmp );\n\t\t\t\t\n\t\t\t\t/* Read the width's calculated by the browser and store them for use by the caller. We\n\t\t\t\t * first of all try to use the elements in the body, but it is possible that there are\n\t\t\t\t * no elements there, under which circumstances we use the header elements\n\t\t\t\t */\n\t\t\t\tvar oNodes = $(\"tbody tr:eq(0)\", nCalcTmp).children();\n\t\t\t\tif ( oNodes.length === 0 )\n\t\t\t\t{\n\t\t\t\t\toNodes = _fnGetUniqueThs( oSettings, $('thead', nCalcTmp)[0] );\n\t\t\t\t}\n\t\t\n\t\t\t\t/* Browsers need a bit of a hand when a width is assigned to any columns when \n\t\t\t\t * x-scrolling as they tend to collapse the table to the min-width, even if\n\t\t\t\t * we sent the column widths. So we need to keep track of what the table width\n\t\t\t\t * should be by summing the user given values, and the automatic values\n\t\t\t\t */\n\t\t\t\tif ( oSettings.oScroll.sX !== \"\" )\n\t\t\t\t{\n\t\t\t\t\tvar iTotal = 0;\n\t\t\t\t\tiCorrector = 0;\n\t\t\t\t\tfor ( i=0 ; i<oSettings.aoColumns.length ; i++ )\n\t\t\t\t\t{\n\t\t\t\t\t\tif ( oSettings.aoColumns[i].bVisible )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif ( oSettings.aoColumns[i].sWidthOrig === null )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tiTotal += $(oNodes[iCorrector]).outerWidth();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tiTotal += parseInt(oSettings.aoColumns[i].sWidth.replace('px',''), 10) +\n\t\t\t\t\t\t\t\t\t($(oNodes[iCorrector]).outerWidth() - $(oNodes[iCorrector]).width());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tiCorrector++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tnCalcTmp.style.width = _fnStringToCss( iTotal );\n\t\t\t\t\toSettings.nTable.style.width = _fnStringToCss( iTotal );\n\t\t\t\t}\n\t\t\n\t\t\t\tiCorrector = 0;\n\t\t\t\tfor ( i=0 ; i<oSettings.aoColumns.length ; i++ )\n\t\t\t\t{\n\t\t\t\t\tif ( oSettings.aoColumns[i].bVisible )\n\t\t\t\t\t{\n\t\t\t\t\t\tiWidth = $(oNodes[iCorrector]).width();\n\t\t\t\t\t\tif ( iWidth !== null && iWidth > 0 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toSettings.aoColumns[i].sWidth = _fnStringToCss( iWidth );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tiCorrector++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tvar cssWidth = $(nCalcTmp).css('width');\n\t\t\t\toSettings.nTable.style.width = (cssWidth.indexOf('%') !== -1) ?\n\t\t\t\t    cssWidth : _fnStringToCss( $(nCalcTmp).outerWidth() );\n\t\t\t\tnCalcTmp.parentNode.removeChild( nCalcTmp );\n\t\t\t}\n\t\t\n\t\t\tif ( widthAttr )\n\t\t\t{\n\t\t\t\toSettings.nTable.style.width = _fnStringToCss( widthAttr );\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Adjust a table's width to take account of scrolling\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {node} n table node\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnScrollingWidthAdjust ( oSettings, n )\n\t\t{\n\t\t\tif ( oSettings.oScroll.sX === \"\" && oSettings.oScroll.sY !== \"\" )\n\t\t\t{\n\t\t\t\t/* When y-scrolling only, we want to remove the width of the scroll bar so the table\n\t\t\t\t * + scroll bar will fit into the area avaialble.\n\t\t\t\t */\n\t\t\t\tvar iOrigWidth = $(n).width();\n\t\t\t\tn.style.width = _fnStringToCss( $(n).outerWidth()-oSettings.oScroll.iBarWidth );\n\t\t\t}\n\t\t\telse if ( oSettings.oScroll.sX !== \"\" )\n\t\t\t{\n\t\t\t\t/* When x-scrolling both ways, fix the table at it's current size, without adjusting */\n\t\t\t\tn.style.width = _fnStringToCss( $(n).outerWidth() );\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Get the widest node\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {int} iCol column of interest\n\t\t *  @returns {node} widest table node\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnGetWidestNode( oSettings, iCol )\n\t\t{\n\t\t\tvar iMaxIndex = _fnGetMaxLenString( oSettings, iCol );\n\t\t\tif ( iMaxIndex < 0 )\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\n\t\t\tif ( oSettings.aoData[iMaxIndex].nTr === null )\n\t\t\t{\n\t\t\t\tvar n = document.createElement('td');\n\t\t\t\tn.innerHTML = _fnGetCellData( oSettings, iMaxIndex, iCol, '' );\n\t\t\t\treturn n;\n\t\t\t}\n\t\t\treturn _fnGetTdNodes(oSettings, iMaxIndex)[iCol];\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Get the maximum strlen for each data column\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {int} iCol column of interest\n\t\t *  @returns {string} max string length for each column\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnGetMaxLenString( oSettings, iCol )\n\t\t{\n\t\t\tvar iMax = -1;\n\t\t\tvar iMaxIndex = -1;\n\t\t\t\n\t\t\tfor ( var i=0 ; i<oSettings.aoData.length ; i++ )\n\t\t\t{\n\t\t\t\tvar s = _fnGetCellData( oSettings, i, iCol, 'display' )+\"\";\n\t\t\t\ts = s.replace( /<.*?>/g, \"\" );\n\t\t\t\tif ( s.length > iMax )\n\t\t\t\t{\n\t\t\t\t\tiMax = s.length;\n\t\t\t\t\tiMaxIndex = i;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn iMaxIndex;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Append a CSS unit (only if required) to a string\n\t\t *  @param {array} aArray1 first array\n\t\t *  @param {array} aArray2 second array\n\t\t *  @returns {int} 0 if match, 1 if length is different, 2 if no match\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnStringToCss( s )\n\t\t{\n\t\t\tif ( s === null )\n\t\t\t{\n\t\t\t\treturn \"0px\";\n\t\t\t}\n\t\t\t\n\t\t\tif ( typeof s == 'number' )\n\t\t\t{\n\t\t\t\tif ( s < 0 )\n\t\t\t\t{\n\t\t\t\t\treturn \"0px\";\n\t\t\t\t}\n\t\t\t\treturn s+\"px\";\n\t\t\t}\n\t\t\t\n\t\t\t/* Check if the last character is not 0-9 */\n\t\t\tvar c = s.charCodeAt( s.length-1 );\n\t\t\tif (c < 0x30 || c > 0x39)\n\t\t\t{\n\t\t\t\treturn s;\n\t\t\t}\n\t\t\treturn s+\"px\";\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Get the width of a scroll bar in this browser being used\n\t\t *  @returns {int} width in pixels\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnScrollBarWidth ()\n\t\t{  \n\t\t\tvar inner = document.createElement('p');\n\t\t\tvar style = inner.style;\n\t\t\tstyle.width = \"100%\";\n\t\t\tstyle.height = \"200px\";\n\t\t\tstyle.padding = \"0px\";\n\t\t\t\n\t\t\tvar outer = document.createElement('div');\n\t\t\tstyle = outer.style;\n\t\t\tstyle.position = \"absolute\";\n\t\t\tstyle.top = \"0px\";\n\t\t\tstyle.left = \"0px\";\n\t\t\tstyle.visibility = \"hidden\";\n\t\t\tstyle.width = \"200px\";\n\t\t\tstyle.height = \"150px\";\n\t\t\tstyle.padding = \"0px\";\n\t\t\tstyle.overflow = \"hidden\";\n\t\t\touter.appendChild(inner);\n\t\t\t\n\t\t\tdocument.body.appendChild(outer);\n\t\t\tvar w1 = inner.offsetWidth;\n\t\t\touter.style.overflow = 'scroll';\n\t\t\tvar w2 = inner.offsetWidth;\n\t\t\tif ( w1 == w2 )\n\t\t\t{\n\t\t\t\tw2 = outer.clientWidth;\n\t\t\t}\n\t\t\t\n\t\t\tdocument.body.removeChild(outer);\n\t\t\treturn (w1 - w2);  \n\t\t}\n\t\t\n\t\t/**\n\t\t * Change the order of the table\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {bool} bApplyClasses optional - should we apply classes or not\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnSort ( oSettings, bApplyClasses )\n\t\t{\n\t\t\tvar\n\t\t\t\ti, iLen, j, jLen, k, kLen,\n\t\t\t\tsDataType, nTh,\n\t\t\t\taaSort = [],\n\t\t\t \taiOrig = [],\n\t\t\t\toSort = DataTable.ext.oSort,\n\t\t\t\taoData = oSettings.aoData,\n\t\t\t\taoColumns = oSettings.aoColumns,\n\t\t\t\toAria = oSettings.oLanguage.oAria;\n\t\t\t\n\t\t\t/* No sorting required if server-side or no sorting array */\n\t\t\tif ( !oSettings.oFeatures.bServerSide && \n\t\t\t\t(oSettings.aaSorting.length !== 0 || oSettings.aaSortingFixed !== null) )\n\t\t\t{\n\t\t\t\taaSort = ( oSettings.aaSortingFixed !== null ) ?\n\t\t\t\t\toSettings.aaSortingFixed.concat( oSettings.aaSorting ) :\n\t\t\t\t\toSettings.aaSorting.slice();\n\t\t\t\t\n\t\t\t\t/* If there is a sorting data type, and a function belonging to it, then we need to\n\t\t\t\t * get the data from the developer's function and apply it for this column\n\t\t\t\t */\n\t\t\t\tfor ( i=0 ; i<aaSort.length ; i++ )\n\t\t\t\t{\n\t\t\t\t\tvar iColumn = aaSort[i][0];\n\t\t\t\t\tvar iVisColumn = _fnColumnIndexToVisible( oSettings, iColumn );\n\t\t\t\t\tsDataType = oSettings.aoColumns[ iColumn ].sSortDataType;\n\t\t\t\t\tif ( DataTable.ext.afnSortData[sDataType] )\n\t\t\t\t\t{\n\t\t\t\t\t\tvar aData = DataTable.ext.afnSortData[sDataType].call( \n\t\t\t\t\t\t\toSettings.oInstance, oSettings, iColumn, iVisColumn\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif ( aData.length === aoData.length )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfor ( j=0, jLen=aoData.length ; j<jLen ; j++ )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t_fnSetCellData( oSettings, j, iColumn, aData[j] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t_fnLog( oSettings, 0, \"Returned data sort array (col \"+iColumn+\") is the wrong length\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* Create a value - key array of the current row positions such that we can use their\n\t\t\t\t * current position during the sort, if values match, in order to perform stable sorting\n\t\t\t\t */\n\t\t\t\tfor ( i=0, iLen=oSettings.aiDisplayMaster.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\taiOrig[ oSettings.aiDisplayMaster[i] ] = i;\n\t\t\t\t}\n\t\t\n\t\t\t\t/* Build an internal data array which is specific to the sort, so we can get and prep\n\t\t\t\t * the data to be sorted only once, rather than needing to do it every time the sorting\n\t\t\t\t * function runs. This make the sorting function a very simple comparison\n\t\t\t\t */\n\t\t\t\tvar iSortLen = aaSort.length;\n\t\t\t\tvar fnSortFormat, aDataSort;\n\t\t\t\tfor ( i=0, iLen=aoData.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\tfor ( j=0 ; j<iSortLen ; j++ )\n\t\t\t\t\t{\n\t\t\t\t\t\taDataSort = aoColumns[ aaSort[j][0] ].aDataSort;\n\t\t\n\t\t\t\t\t\tfor ( k=0, kLen=aDataSort.length ; k<kLen ; k++ )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsDataType = aoColumns[ aDataSort[k] ].sType;\n\t\t\t\t\t\t\tfnSortFormat = oSort[ (sDataType ? sDataType : 'string')+\"-pre\" ];\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\taoData[i]._aSortData[ aDataSort[k] ] = fnSortFormat ?\n\t\t\t\t\t\t\t\tfnSortFormat( _fnGetCellData( oSettings, i, aDataSort[k], 'sort' ) ) :\n\t\t\t\t\t\t\t\t_fnGetCellData( oSettings, i, aDataSort[k], 'sort' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* Do the sort - here we want multi-column sorting based on a given data source (column)\n\t\t\t\t * and sorting function (from oSort) in a certain direction. It's reasonably complex to\n\t\t\t\t * follow on it's own, but this is what we want (example two column sorting):\n\t\t\t\t *  fnLocalSorting = function(a,b){\n\t\t\t\t *  \tvar iTest;\n\t\t\t\t *  \tiTest = oSort['string-asc']('data11', 'data12');\n\t\t\t\t *  \tif (iTest !== 0)\n\t\t\t\t *  \t\treturn iTest;\n\t\t\t\t *    iTest = oSort['numeric-desc']('data21', 'data22');\n\t\t\t\t *    if (iTest !== 0)\n\t\t\t\t *  \t\treturn iTest;\n\t\t\t\t *  \treturn oSort['numeric-asc']( aiOrig[a], aiOrig[b] );\n\t\t\t\t *  }\n\t\t\t\t * Basically we have a test for each sorting column, if the data in that column is equal,\n\t\t\t\t * test the next column. If all columns match, then we use a numeric sort on the row \n\t\t\t\t * positions in the original data array to provide a stable sort.\n\t\t\t\t */\n\t\t\t\toSettings.aiDisplayMaster.sort( function ( a, b ) {\n\t\t\t\t\tvar k, l, lLen, iTest, aDataSort, sDataType;\n\t\t\t\t\tfor ( k=0 ; k<iSortLen ; k++ )\n\t\t\t\t\t{\n\t\t\t\t\t\taDataSort = aoColumns[ aaSort[k][0] ].aDataSort;\n\t\t\n\t\t\t\t\t\tfor ( l=0, lLen=aDataSort.length ; l<lLen ; l++ )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsDataType = aoColumns[ aDataSort[l] ].sType;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tiTest = oSort[ (sDataType ? sDataType : 'string')+\"-\"+aaSort[k][1] ](\n\t\t\t\t\t\t\t\taoData[a]._aSortData[ aDataSort[l] ],\n\t\t\t\t\t\t\t\taoData[b]._aSortData[ aDataSort[l] ]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tif ( iTest !== 0 )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn iTest;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn oSort['numeric-asc']( aiOrig[a], aiOrig[b] );\n\t\t\t\t} );\n\t\t\t}\n\t\t\t\n\t\t\t/* Alter the sorting classes to take account of the changes */\n\t\t\tif ( (bApplyClasses === undefined || bApplyClasses) && !oSettings.oFeatures.bDeferRender )\n\t\t\t{\n\t\t\t\t_fnSortingClasses( oSettings );\n\t\t\t}\n\t\t\n\t\t\tfor ( i=0, iLen=oSettings.aoColumns.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tvar sTitle = aoColumns[i].sTitle.replace( /<.*?>/g, \"\" );\n\t\t\t\tnTh = aoColumns[i].nTh;\n\t\t\t\tnTh.removeAttribute('aria-sort');\n\t\t\t\tnTh.removeAttribute('aria-label');\n\t\t\t\t\n\t\t\t\t/* In ARIA only the first sorting column can be marked as sorting - no multi-sort option */\n\t\t\t\tif ( aoColumns[i].bSortable )\n\t\t\t\t{\n\t\t\t\t\tif ( aaSort.length > 0 && aaSort[0][0] == i )\n\t\t\t\t\t{\n\t\t\t\t\t\tnTh.setAttribute('aria-sort', aaSort[0][1]==\"asc\" ? \"ascending\" : \"descending\" );\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar nextSort = (aoColumns[i].asSorting[ aaSort[0][2]+1 ]) ? \n\t\t\t\t\t\t\taoColumns[i].asSorting[ aaSort[0][2]+1 ] : aoColumns[i].asSorting[0];\n\t\t\t\t\t\tnTh.setAttribute('aria-label', sTitle+\n\t\t\t\t\t\t\t(nextSort==\"asc\" ? oAria.sSortAscending : oAria.sSortDescending) );\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tnTh.setAttribute('aria-label', sTitle+\n\t\t\t\t\t\t\t(aoColumns[i].asSorting[0]==\"asc\" ? oAria.sSortAscending : oAria.sSortDescending) );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tnTh.setAttribute('aria-label', sTitle);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* Tell the draw function that we have sorted the data */\n\t\t\toSettings.bSorted = true;\n\t\t\t$(oSettings.oInstance).trigger('sort', oSettings);\n\t\t\t\n\t\t\t/* Copy the master data into the draw array and re-draw */\n\t\t\tif ( oSettings.oFeatures.bFilter )\n\t\t\t{\n\t\t\t\t/* _fnFilter() will redraw the table for us */\n\t\t\t\t_fnFilterComplete( oSettings, oSettings.oPreviousSearch, 1 );\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\toSettings.aiDisplay = oSettings.aiDisplayMaster.slice();\n\t\t\t\toSettings._iDisplayStart = 0; /* reset display back to page 0 */\n\t\t\t\t_fnCalculateEnd( oSettings );\n\t\t\t\t_fnDraw( oSettings );\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Attach a sort handler (click) to a node\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {node} nNode node to attach the handler to\n\t\t *  @param {int} iDataIndex column sorting index\n\t\t *  @param {function} [fnCallback] callback function\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnSortAttachListener ( oSettings, nNode, iDataIndex, fnCallback )\n\t\t{\n\t\t\t_fnBindAction( nNode, {}, function (e) {\n\t\t\t\t/* If the column is not sortable - don't to anything */\n\t\t\t\tif ( oSettings.aoColumns[iDataIndex].bSortable === false )\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/*\n\t\t\t\t * This is a little bit odd I admit... I declare a temporary function inside the scope of\n\t\t\t\t * _fnBuildHead and the click handler in order that the code presented here can be used \n\t\t\t\t * twice - once for when bProcessing is enabled, and another time for when it is \n\t\t\t\t * disabled, as we need to perform slightly different actions.\n\t\t\t\t *   Basically the issue here is that the Javascript engine in modern browsers don't \n\t\t\t\t * appear to allow the rendering engine to update the display while it is still executing\n\t\t\t\t * it's thread (well - it does but only after long intervals). This means that the \n\t\t\t\t * 'processing' display doesn't appear for a table sort. To break the js thread up a bit\n\t\t\t\t * I force an execution break by using setTimeout - but this breaks the expected \n\t\t\t\t * thread continuation for the end-developer's point of view (their code would execute\n\t\t\t\t * too early), so we only do it when we absolutely have to.\n\t\t\t\t */\n\t\t\t\tvar fnInnerSorting = function () {\n\t\t\t\t\tvar iColumn, iNextSort;\n\t\t\t\t\t\n\t\t\t\t\t/* If the shift key is pressed then we are multiple column sorting */\n\t\t\t\t\tif ( e.shiftKey )\n\t\t\t\t\t{\n\t\t\t\t\t\t/* Are we already doing some kind of sort on this column? */\n\t\t\t\t\t\tvar bFound = false;\n\t\t\t\t\t\tfor ( var i=0 ; i<oSettings.aaSorting.length ; i++ )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif ( oSettings.aaSorting[i][0] == iDataIndex )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tbFound = true;\n\t\t\t\t\t\t\t\tiColumn = oSettings.aaSorting[i][0];\n\t\t\t\t\t\t\t\tiNextSort = oSettings.aaSorting[i][2]+1;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif ( !oSettings.aoColumns[iColumn].asSorting[iNextSort] )\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t/* Reached the end of the sorting options, remove from multi-col sort */\n\t\t\t\t\t\t\t\t\toSettings.aaSorting.splice( i, 1 );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t/* Move onto next sorting direction */\n\t\t\t\t\t\t\t\t\toSettings.aaSorting[i][1] = oSettings.aoColumns[iColumn].asSorting[iNextSort];\n\t\t\t\t\t\t\t\t\toSettings.aaSorting[i][2] = iNextSort;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t/* No sort yet - add it in */\n\t\t\t\t\t\tif ( bFound === false )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toSettings.aaSorting.push( [ iDataIndex, \n\t\t\t\t\t\t\t\toSettings.aoColumns[iDataIndex].asSorting[0], 0 ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t/* If no shift key then single column sort */\n\t\t\t\t\t\tif ( oSettings.aaSorting.length == 1 && oSettings.aaSorting[0][0] == iDataIndex )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tiColumn = oSettings.aaSorting[0][0];\n\t\t\t\t\t\t\tiNextSort = oSettings.aaSorting[0][2]+1;\n\t\t\t\t\t\t\tif ( !oSettings.aoColumns[iColumn].asSorting[iNextSort] )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tiNextSort = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\toSettings.aaSorting[0][1] = oSettings.aoColumns[iColumn].asSorting[iNextSort];\n\t\t\t\t\t\t\toSettings.aaSorting[0][2] = iNextSort;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toSettings.aaSorting.splice( 0, oSettings.aaSorting.length );\n\t\t\t\t\t\t\toSettings.aaSorting.push( [ iDataIndex, \n\t\t\t\t\t\t\t\toSettings.aoColumns[iDataIndex].asSorting[0], 0 ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t/* Run the sort */\n\t\t\t\t\t_fnSort( oSettings );\n\t\t\t\t}; /* /fnInnerSorting */\n\t\t\t\t\n\t\t\t\tif ( !oSettings.oFeatures.bProcessing )\n\t\t\t\t{\n\t\t\t\t\tfnInnerSorting();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t_fnProcessingDisplay( oSettings, true );\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\tfnInnerSorting();\n\t\t\t\t\t\tif ( !oSettings.oFeatures.bServerSide )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t_fnProcessingDisplay( oSettings, false );\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 0 );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* Call the user specified callback function - used for async user interaction */\n\t\t\t\tif ( typeof fnCallback == 'function' )\n\t\t\t\t{\n\t\t\t\t\tfnCallback( oSettings );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Set the sorting classes on the header, Note: it is safe to call this function \n\t\t * when bSort and bSortClasses are false\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnSortingClasses( oSettings )\n\t\t{\n\t\t\tvar i, iLen, j, jLen, iFound;\n\t\t\tvar aaSort, sClass;\n\t\t\tvar iColumns = oSettings.aoColumns.length;\n\t\t\tvar oClasses = oSettings.oClasses;\n\t\t\t\n\t\t\tfor ( i=0 ; i<iColumns ; i++ )\n\t\t\t{\n\t\t\t\tif ( oSettings.aoColumns[i].bSortable )\n\t\t\t\t{\n\t\t\t\t\t$(oSettings.aoColumns[i].nTh).removeClass( oClasses.sSortAsc +\" \"+ oClasses.sSortDesc +\n\t\t\t\t\t\t\" \"+ oSettings.aoColumns[i].sSortingClass );\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif ( oSettings.aaSortingFixed !== null )\n\t\t\t{\n\t\t\t\taaSort = oSettings.aaSortingFixed.concat( oSettings.aaSorting );\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\taaSort = oSettings.aaSorting.slice();\n\t\t\t}\n\t\t\t\n\t\t\t/* Apply the required classes to the header */\n\t\t\tfor ( i=0 ; i<oSettings.aoColumns.length ; i++ )\n\t\t\t{\n\t\t\t\tif ( oSettings.aoColumns[i].bSortable )\n\t\t\t\t{\n\t\t\t\t\tsClass = oSettings.aoColumns[i].sSortingClass;\n\t\t\t\t\tiFound = -1;\n\t\t\t\t\tfor ( j=0 ; j<aaSort.length ; j++ )\n\t\t\t\t\t{\n\t\t\t\t\t\tif ( aaSort[j][0] == i )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsClass = ( aaSort[j][1] == \"asc\" ) ?\n\t\t\t\t\t\t\t\toClasses.sSortAsc : oClasses.sSortDesc;\n\t\t\t\t\t\t\tiFound = j;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t$(oSettings.aoColumns[i].nTh).addClass( sClass );\n\t\t\t\t\t\n\t\t\t\t\tif ( oSettings.bJUI )\n\t\t\t\t\t{\n\t\t\t\t\t\t/* jQuery UI uses extra markup */\n\t\t\t\t\t\tvar jqSpan = $(\"span.\"+oClasses.sSortIcon,  oSettings.aoColumns[i].nTh);\n\t\t\t\t\t\tjqSpan.removeClass(oClasses.sSortJUIAsc +\" \"+ oClasses.sSortJUIDesc +\" \"+ \n\t\t\t\t\t\t\toClasses.sSortJUI +\" \"+ oClasses.sSortJUIAscAllowed +\" \"+ oClasses.sSortJUIDescAllowed );\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar sSpanClass;\n\t\t\t\t\t\tif ( iFound == -1 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t \tsSpanClass = oSettings.aoColumns[i].sSortingClassJUI;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if ( aaSort[iFound][1] == \"asc\" )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsSpanClass = oClasses.sSortJUIAsc;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsSpanClass = oClasses.sSortJUIDesc;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tjqSpan.addClass( sSpanClass );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t/* No sorting on this column, so add the base class. This will have been assigned by\n\t\t\t\t\t * _fnAddColumn\n\t\t\t\t\t */\n\t\t\t\t\t$(oSettings.aoColumns[i].nTh).addClass( oSettings.aoColumns[i].sSortingClass );\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* \n\t\t\t * Apply the required classes to the table body\n\t\t\t * Note that this is given as a feature switch since it can significantly slow down a sort\n\t\t\t * on large data sets (adding and removing of classes is always slow at the best of times..)\n\t\t\t * Further to this, note that this code is admittedly fairly ugly. It could be made a lot \n\t\t\t * simpler using jQuery selectors and add/removeClass, but that is significantly slower\n\t\t\t * (on the order of 5 times slower) - hence the direct DOM manipulation here.\n\t\t\t * Note that for deferred drawing we do use jQuery - the reason being that taking the first\n\t\t\t * row found to see if the whole column needs processed can miss classes since the first\n\t\t\t * column might be new.\n\t\t\t */\n\t\t\tsClass = oClasses.sSortColumn;\n\t\t\t\n\t\t\tif ( oSettings.oFeatures.bSort && oSettings.oFeatures.bSortClasses )\n\t\t\t{\n\t\t\t\tvar nTds = _fnGetTdNodes( oSettings );\n\t\t\t\t\n\t\t\t\t/* Determine what the sorting class for each column should be */\n\t\t\t\tvar iClass, iTargetCol;\n\t\t\t\tvar asClasses = [];\n\t\t\t\tfor (i = 0; i < iColumns; i++)\n\t\t\t\t{\n\t\t\t\t\tasClasses.push(\"\");\n\t\t\t\t}\n\t\t\t\tfor (i = 0, iClass = 1; i < aaSort.length; i++)\n\t\t\t\t{\n\t\t\t\t\tiTargetCol = parseInt( aaSort[i][0], 10 );\n\t\t\t\t\tasClasses[iTargetCol] = sClass + iClass;\n\t\t\t\t\t\n\t\t\t\t\tif ( iClass < 3 )\n\t\t\t\t\t{\n\t\t\t\t\t\tiClass++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* Make changes to the classes for each cell as needed */\n\t\t\t\tvar reClass = new RegExp(sClass + \"[123]\");\n\t\t\t\tvar sTmpClass, sCurrentClass, sNewClass;\n\t\t\t\tfor ( i=0, iLen=nTds.length; i<iLen; i++ )\n\t\t\t\t{\n\t\t\t\t\t/* Determine which column we're looking at */\n\t\t\t\t\tiTargetCol = i % iColumns;\n\t\t\t\t\t\n\t\t\t\t\t/* What is the full list of classes now */\n\t\t\t\t\tsCurrentClass = nTds[i].className;\n\t\t\t\t\t/* What sorting class should be applied? */\n\t\t\t\t\tsNewClass = asClasses[iTargetCol];\n\t\t\t\t\t/* What would the new full list be if we did a replacement? */\n\t\t\t\t\tsTmpClass = sCurrentClass.replace(reClass, sNewClass);\n\t\t\t\t\t\n\t\t\t\t\tif ( sTmpClass != sCurrentClass )\n\t\t\t\t\t{\n\t\t\t\t\t\t/* We changed something */\n\t\t\t\t\t\tnTds[i].className = $.trim( sTmpClass );\n\t\t\t\t\t}\n\t\t\t\t\telse if ( sNewClass.length > 0 && sCurrentClass.indexOf(sNewClass) == -1 )\n\t\t\t\t\t{\n\t\t\t\t\t\t/* We need to add a class */\n\t\t\t\t\t\tnTds[i].className = sCurrentClass + \" \" + sNewClass;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t/**\n\t\t * Save the state of a table in a cookie such that the page can be reloaded\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnSaveState ( oSettings )\n\t\t{\n\t\t\tif ( !oSettings.oFeatures.bStateSave || oSettings.bDestroying )\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\n\t\t\t/* Store the interesting variables */\n\t\t\tvar i, iLen, bInfinite=oSettings.oScroll.bInfinite;\n\t\t\tvar oState = {\n\t\t\t\t\"iCreate\":      new Date().getTime(),\n\t\t\t\t\"iStart\":       (bInfinite ? 0 : oSettings._iDisplayStart),\n\t\t\t\t\"iEnd\":         (bInfinite ? oSettings._iDisplayLength : oSettings._iDisplayEnd),\n\t\t\t\t\"iLength\":      oSettings._iDisplayLength,\n\t\t\t\t\"aaSorting\":    $.extend( true, [], oSettings.aaSorting ),\n\t\t\t\t\"oSearch\":      $.extend( true, {}, oSettings.oPreviousSearch ),\n\t\t\t\t\"aoSearchCols\": $.extend( true, [], oSettings.aoPreSearchCols ),\n\t\t\t\t\"abVisCols\":    []\n\t\t\t};\n\t\t\n\t\t\tfor ( i=0, iLen=oSettings.aoColumns.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\toState.abVisCols.push( oSettings.aoColumns[i].bVisible );\n\t\t\t}\n\t\t\n\t\t\t_fnCallbackFire( oSettings, \"aoStateSaveParams\", 'stateSaveParams', [oSettings, oState] );\n\t\t\t\n\t\t\toSettings.fnStateSave.call( oSettings.oInstance, oSettings, oState );\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Attempt to load a saved table state from a cookie\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {object} oInit DataTables init object so we can override settings\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnLoadState ( oSettings, oInit )\n\t\t{\n\t\t\tif ( !oSettings.oFeatures.bStateSave )\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\n\t\t\tvar oData = oSettings.fnStateLoad.call( oSettings.oInstance, oSettings );\n\t\t\tif ( !oData )\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\t/* Allow custom and plug-in manipulation functions to alter the saved data set and\n\t\t\t * cancelling of loading by returning false\n\t\t\t */\n\t\t\tvar abStateLoad = _fnCallbackFire( oSettings, 'aoStateLoadParams', 'stateLoadParams', [oSettings, oData] );\n\t\t\tif ( $.inArray( false, abStateLoad ) !== -1 )\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\t/* Store the saved state so it might be accessed at any time */\n\t\t\toSettings.oLoadedState = $.extend( true, {}, oData );\n\t\t\t\n\t\t\t/* Restore key features */\n\t\t\toSettings._iDisplayStart    = oData.iStart;\n\t\t\toSettings.iInitDisplayStart = oData.iStart;\n\t\t\toSettings._iDisplayEnd      = oData.iEnd;\n\t\t\toSettings._iDisplayLength   = oData.iLength;\n\t\t\toSettings.aaSorting         = oData.aaSorting.slice();\n\t\t\toSettings.saved_aaSorting   = oData.aaSorting.slice();\n\t\t\t\n\t\t\t/* Search filtering  */\n\t\t\t$.extend( oSettings.oPreviousSearch, oData.oSearch );\n\t\t\t$.extend( true, oSettings.aoPreSearchCols, oData.aoSearchCols );\n\t\t\t\n\t\t\t/* Column visibility state\n\t\t\t * Pass back visibility settings to the init handler, but to do not here override\n\t\t\t * the init object that the user might have passed in\n\t\t\t */\n\t\t\toInit.saved_aoColumns = [];\n\t\t\tfor ( var i=0 ; i<oData.abVisCols.length ; i++ )\n\t\t\t{\n\t\t\t\toInit.saved_aoColumns[i] = {};\n\t\t\t\toInit.saved_aoColumns[i].bVisible = oData.abVisCols[i];\n\t\t\t}\n\t\t\n\t\t\t_fnCallbackFire( oSettings, 'aoStateLoaded', 'stateLoaded', [oSettings, oData] );\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Create a new cookie with a value to store the state of a table\n\t\t *  @param {string} sName name of the cookie to create\n\t\t *  @param {string} sValue the value the cookie should take\n\t\t *  @param {int} iSecs duration of the cookie\n\t\t *  @param {string} sBaseName sName is made up of the base + file name - this is the base\n\t\t *  @param {function} fnCallback User definable function to modify the cookie\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnCreateCookie ( sName, sValue, iSecs, sBaseName, fnCallback )\n\t\t{\n\t\t\tvar date = new Date();\n\t\t\tdate.setTime( date.getTime()+(iSecs*1000) );\n\t\t\t\n\t\t\t/* \n\t\t\t * Shocking but true - it would appear IE has major issues with having the path not having\n\t\t\t * a trailing slash on it. We need the cookie to be available based on the path, so we\n\t\t\t * have to append the file name to the cookie name. Appalling. Thanks to vex for adding the\n\t\t\t * patch to use at least some of the path\n\t\t\t */\n\t\t\tvar aParts = window.location.pathname.split('/');\n\t\t\tvar sNameFile = sName + '_' + aParts.pop().replace(/[\\/:]/g,\"\").toLowerCase();\n\t\t\tvar sFullCookie, oData;\n\t\t\t\n\t\t\tif ( fnCallback !== null )\n\t\t\t{\n\t\t\t\toData = (typeof $.parseJSON === 'function') ? \n\t\t\t\t\t$.parseJSON( sValue ) : eval( '('+sValue+')' );\n\t\t\t\tsFullCookie = fnCallback( sNameFile, oData, date.toGMTString(),\n\t\t\t\t\taParts.join('/')+\"/\" );\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tsFullCookie = sNameFile + \"=\" + encodeURIComponent(sValue) +\n\t\t\t\t\t\"; expires=\" + date.toGMTString() +\"; path=\" + aParts.join('/')+\"/\";\n\t\t\t}\n\t\t\t\n\t\t\t/* Are we going to go over the cookie limit of 4KiB? If so, try to delete a cookies\n\t\t\t * belonging to DataTables.\n\t\t\t */\n\t\t\tvar\n\t\t\t\taCookies =document.cookie.split(';'),\n\t\t\t\tiNewCookieLen = sFullCookie.split(';')[0].length,\n\t\t\t\taOldCookies = [];\n\t\t\t\n\t\t\tif ( iNewCookieLen+document.cookie.length+10 > 4096 ) /* Magic 10 for padding */\n\t\t\t{\n\t\t\t\tfor ( var i=0, iLen=aCookies.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\tif ( aCookies[i].indexOf( sBaseName ) != -1 )\n\t\t\t\t\t{\n\t\t\t\t\t\t/* It's a DataTables cookie, so eval it and check the time stamp */\n\t\t\t\t\t\tvar aSplitCookie = aCookies[i].split('=');\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\toData = eval( '('+decodeURIComponent(aSplitCookie[1])+')' );\n\t\t\n\t\t\t\t\t\t\tif ( oData && oData.iCreate )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\taOldCookies.push( {\n\t\t\t\t\t\t\t\t\t\"name\": aSplitCookie[0],\n\t\t\t\t\t\t\t\t\t\"time\": oData.iCreate\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcatch( e ) {}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// Make sure we delete the oldest ones first\n\t\t\t\taOldCookies.sort( function (a, b) {\n\t\t\t\t\treturn b.time - a.time;\n\t\t\t\t} );\n\t\t\n\t\t\t\t// Eliminate as many old DataTables cookies as we need to\n\t\t\t\twhile ( iNewCookieLen + document.cookie.length + 10 > 4096 ) {\n\t\t\t\t\tif ( aOldCookies.length === 0 ) {\n\t\t\t\t\t\t// Deleted all DT cookies and still not enough space. Can't state save\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar old = aOldCookies.pop();\n\t\t\t\t\tdocument.cookie = old.name+\"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=\"+\n\t\t\t\t\t\taParts.join('/') + \"/\";\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tdocument.cookie = sFullCookie;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Read an old cookie to get a cookie with an old table state\n\t\t *  @param {string} sName name of the cookie to read\n\t\t *  @returns {string} contents of the cookie - or null if no cookie with that name found\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnReadCookie ( sName )\n\t\t{\n\t\t\tvar\n\t\t\t\taParts = window.location.pathname.split('/'),\n\t\t\t\tsNameEQ = sName + '_' + aParts[aParts.length-1].replace(/[\\/:]/g,\"\").toLowerCase() + '=',\n\t\t\t \tsCookieContents = document.cookie.split(';');\n\t\t\t\n\t\t\tfor( var i=0 ; i<sCookieContents.length ; i++ )\n\t\t\t{\n\t\t\t\tvar c = sCookieContents[i];\n\t\t\t\t\n\t\t\t\twhile (c.charAt(0)==' ')\n\t\t\t\t{\n\t\t\t\t\tc = c.substring(1,c.length);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (c.indexOf(sNameEQ) === 0)\n\t\t\t\t{\n\t\t\t\t\treturn decodeURIComponent( c.substring(sNameEQ.length,c.length) );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Return the settings object for a particular table\n\t\t *  @param {node} nTable table we are using as a dataTable\n\t\t *  @returns {object} Settings object - or null if not found\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnSettingsFromNode ( nTable )\n\t\t{\n\t\t\tfor ( var i=0 ; i<DataTable.settings.length ; i++ )\n\t\t\t{\n\t\t\t\tif ( DataTable.settings[i].nTable === nTable )\n\t\t\t\t{\n\t\t\t\t\treturn DataTable.settings[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Return an array with the TR nodes for the table\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @returns {array} TR array\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnGetTrNodes ( oSettings )\n\t\t{\n\t\t\tvar aNodes = [];\n\t\t\tvar aoData = oSettings.aoData;\n\t\t\tfor ( var i=0, iLen=aoData.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tif ( aoData[i].nTr !== null )\n\t\t\t\t{\n\t\t\t\t\taNodes.push( aoData[i].nTr );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn aNodes;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Return an flat array with all TD nodes for the table, or row\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {int} [iIndividualRow] aoData index to get the nodes for - optional \n\t\t *    if not given then the return array will contain all nodes for the table\n\t\t *  @returns {array} TD array\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnGetTdNodes ( oSettings, iIndividualRow )\n\t\t{\n\t\t\tvar anReturn = [];\n\t\t\tvar iCorrector;\n\t\t\tvar anTds, nTd;\n\t\t\tvar iRow, iRows=oSettings.aoData.length,\n\t\t\t\tiColumn, iColumns, oData, sNodeName, iStart=0, iEnd=iRows;\n\t\t\t\n\t\t\t/* Allow the collection to be limited to just one row */\n\t\t\tif ( iIndividualRow !== undefined )\n\t\t\t{\n\t\t\t\tiStart = iIndividualRow;\n\t\t\t\tiEnd = iIndividualRow+1;\n\t\t\t}\n\t\t\n\t\t\tfor ( iRow=iStart ; iRow<iEnd ; iRow++ )\n\t\t\t{\n\t\t\t\toData = oSettings.aoData[iRow];\n\t\t\t\tif ( oData.nTr !== null )\n\t\t\t\t{\n\t\t\t\t\t/* get the TD child nodes - taking into account text etc nodes */\n\t\t\t\t\tanTds = [];\n\t\t\t\t\tnTd = oData.nTr.firstChild;\n\t\t\t\t\twhile ( nTd )\n\t\t\t\t\t{\n\t\t\t\t\t\tsNodeName = nTd.nodeName.toLowerCase();\n\t\t\t\t\t\tif ( sNodeName == 'td' || sNodeName == 'th' )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tanTds.push( nTd );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnTd = nTd.nextSibling;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tiCorrector = 0;\n\t\t\t\t\tfor ( iColumn=0, iColumns=oSettings.aoColumns.length ; iColumn<iColumns ; iColumn++ )\n\t\t\t\t\t{\n\t\t\t\t\t\tif ( oSettings.aoColumns[iColumn].bVisible )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tanReturn.push( anTds[iColumn-iCorrector] );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tanReturn.push( oData._anHidden[iColumn] );\n\t\t\t\t\t\t\tiCorrector++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\treturn anReturn;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Log an error message\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {int} iLevel log error messages, or display them to the user\n\t\t *  @param {string} sMesg error message\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnLog( oSettings, iLevel, sMesg )\n\t\t{\n\t\t\tvar sAlert = (oSettings===null) ?\n\t\t\t\t\"DataTables warning: \"+sMesg :\n\t\t\t\t\"DataTables warning (table id = '\"+oSettings.sTableId+\"'): \"+sMesg;\n\t\t\t\n\t\t\tif ( iLevel === 0 )\n\t\t\t{\n\t\t\t\tif ( DataTable.ext.sErrMode == 'alert' )\n\t\t\t\t{\n\t\t\t\t\talert( sAlert );\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthrow new Error(sAlert);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if ( window.console && console.log )\n\t\t\t{\n\t\t\t\tconsole.log( sAlert );\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * See if a property is defined on one object, if so assign it to the other object\n\t\t *  @param {object} oRet target object\n\t\t *  @param {object} oSrc source object\n\t\t *  @param {string} sName property\n\t\t *  @param {string} [sMappedName] name to map too - optional, sName used if not given\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnMap( oRet, oSrc, sName, sMappedName )\n\t\t{\n\t\t\tif ( sMappedName === undefined )\n\t\t\t{\n\t\t\t\tsMappedName = sName;\n\t\t\t}\n\t\t\tif ( oSrc[sName] !== undefined )\n\t\t\t{\n\t\t\t\toRet[sMappedName] = oSrc[sName];\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Extend objects - very similar to jQuery.extend, but deep copy objects, and shallow\n\t\t * copy arrays. The reason we need to do this, is that we don't want to deep copy array\n\t\t * init values (such as aaSorting) since the dev wouldn't be able to override them, but\n\t\t * we do want to deep copy arrays.\n\t\t *  @param {object} oOut Object to extend\n\t\t *  @param {object} oExtender Object from which the properties will be applied to oOut\n\t\t *  @returns {object} oOut Reference, just for convenience - oOut === the return.\n\t\t *  @memberof DataTable#oApi\n\t\t *  @todo This doesn't take account of arrays inside the deep copied objects.\n\t\t */\n\t\tfunction _fnExtend( oOut, oExtender )\n\t\t{\n\t\t\tvar val;\n\t\t\t\n\t\t\tfor ( var prop in oExtender )\n\t\t\t{\n\t\t\t\tif ( oExtender.hasOwnProperty(prop) )\n\t\t\t\t{\n\t\t\t\t\tval = oExtender[prop];\n\t\t\n\t\t\t\t\tif ( typeof oInit[prop] === 'object' && val !== null && $.isArray(val) === false )\n\t\t\t\t\t{\n\t\t\t\t\t\t$.extend( true, oOut[prop], val );\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\toOut[prop] = val;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\treturn oOut;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Bind an event handers to allow a click or return key to activate the callback.\n\t\t * This is good for accessibility since a return on the keyboard will have the\n\t\t * same effect as a click, if the element has focus.\n\t\t *  @param {element} n Element to bind the action to\n\t\t *  @param {object} oData Data object to pass to the triggered function\n\t\t *  @param {function} fn Callback function for when the event is triggered\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnBindAction( n, oData, fn )\n\t\t{\n\t\t\t$(n)\n\t\t\t\t.bind( 'click.DT', oData, function (e) {\n\t\t\t\t\t\tn.blur(); // Remove focus outline for mouse users\n\t\t\t\t\t\tfn(e);\n\t\t\t\t\t} )\n\t\t\t\t.bind( 'keypress.DT', oData, function (e){\n\t\t\t\t\tif ( e.which === 13 ) {\n\t\t\t\t\t\tfn(e);\n\t\t\t\t\t} } )\n\t\t\t\t.bind( 'selectstart.DT', function () {\n\t\t\t\t\t/* Take the brutal approach to cancelling text selection */\n\t\t\t\t\treturn false;\n\t\t\t\t\t} );\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Register a callback function. Easily allows a callback function to be added to\n\t\t * an array store of callback functions that can then all be called together.\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {string} sStore Name of the array storage for the callbacks in oSettings\n\t\t *  @param {function} fn Function to be called back\n\t\t *  @param {string} sName Identifying name for the callback (i.e. a label)\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnCallbackReg( oSettings, sStore, fn, sName )\n\t\t{\n\t\t\tif ( fn )\n\t\t\t{\n\t\t\t\toSettings[sStore].push( {\n\t\t\t\t\t\"fn\": fn,\n\t\t\t\t\t\"sName\": sName\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Fire callback functions and trigger events. Note that the loop over the callback\n\t\t * array store is done backwards! Further note that you do not want to fire off triggers\n\t\t * in time sensitive applications (for example cell creation) as its slow.\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @param {string} sStore Name of the array storage for the callbacks in oSettings\n\t\t *  @param {string} sTrigger Name of the jQuery custom event to trigger. If null no trigger\n\t\t *    is fired\n\t\t *  @param {array} aArgs Array of arguments to pass to the callback function / trigger\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnCallbackFire( oSettings, sStore, sTrigger, aArgs )\n\t\t{\n\t\t\tvar aoStore = oSettings[sStore];\n\t\t\tvar aRet =[];\n\t\t\n\t\t\tfor ( var i=aoStore.length-1 ; i>=0 ; i-- )\n\t\t\t{\n\t\t\t\taRet.push( aoStore[i].fn.apply( oSettings.oInstance, aArgs ) );\n\t\t\t}\n\t\t\n\t\t\tif ( sTrigger !== null )\n\t\t\t{\n\t\t\t\t$(oSettings.oInstance).trigger(sTrigger, aArgs);\n\t\t\t}\n\t\t\n\t\t\treturn aRet;\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * JSON stringify. If JSON.stringify it provided by the browser, json2.js or any other\n\t\t * library, then we use that as it is fast, safe and accurate. If the function isn't \n\t\t * available then we need to built it ourselves - the inspiration for this function comes\n\t\t * from Craig Buckler ( http://www.sitepoint.com/javascript-json-serialization/ ). It is\n\t\t * not perfect and absolutely should not be used as a replacement to json2.js - but it does\n\t\t * do what we need, without requiring a dependency for DataTables.\n\t\t *  @param {object} o JSON object to be converted\n\t\t *  @returns {string} JSON string\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tvar _fnJsonString = (window.JSON) ? JSON.stringify : function( o )\n\t\t{\n\t\t\t/* Not an object or array */\n\t\t\tvar sType = typeof o;\n\t\t\tif (sType !== \"object\" || o === null)\n\t\t\t{\n\t\t\t\t// simple data type\n\t\t\t\tif (sType === \"string\")\n\t\t\t\t{\n\t\t\t\t\to = '\"'+o+'\"';\n\t\t\t\t}\n\t\t\t\treturn o+\"\";\n\t\t\t}\n\t\t\n\t\t\t/* If object or array, need to recurse over it */\n\t\t\tvar\n\t\t\t\tsProp, mValue,\n\t\t\t\tjson = [],\n\t\t\t\tbArr = $.isArray(o);\n\t\t\t\n\t\t\tfor (sProp in o)\n\t\t\t{\n\t\t\t\tmValue = o[sProp];\n\t\t\t\tsType = typeof mValue;\n\t\t\n\t\t\t\tif (sType === \"string\")\n\t\t\t\t{\n\t\t\t\t\tmValue = '\"'+mValue+'\"';\n\t\t\t\t}\n\t\t\t\telse if (sType === \"object\" && mValue !== null)\n\t\t\t\t{\n\t\t\t\t\tmValue = _fnJsonString(mValue);\n\t\t\t\t}\n\t\t\n\t\t\t\tjson.push((bArr ? \"\" : '\"'+sProp+'\":') + mValue);\n\t\t\t}\n\t\t\n\t\t\treturn (bArr ? \"[\" : \"{\") + json + (bArr ? \"]\" : \"}\");\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * From some browsers (specifically IE6/7) we need special handling to work around browser\n\t\t * bugs - this function is used to detect when these workarounds are needed.\n\t\t *  @param {object} oSettings dataTables settings object\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnBrowserDetect( oSettings )\n\t\t{\n\t\t\t/* IE6/7 will oversize a width 100% element inside a scrolling element, to include the\n\t\t\t * width of the scrollbar, while other browsers ensure the inner element is contained\n\t\t\t * without forcing scrolling\n\t\t\t */\n\t\t\tvar n = $(\n\t\t\t\t'<div style=\"position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden\">'+\n\t\t\t\t\t'<div style=\"position:absolute; top:1px; left:1px; width:100px; overflow:scroll;\">'+\n\t\t\t\t\t\t'<div id=\"DT_BrowserTest\" style=\"width:100%; height:10px;\"></div>'+\n\t\t\t\t\t'</div>'+\n\t\t\t\t'</div>')[0];\n\t\t\n\t\t\tdocument.body.appendChild( n );\n\t\t\toSettings.oBrowser.bScrollOversize = $('#DT_BrowserTest', n)[0].offsetWidth === 100 ? true : false;\n\t\t\tdocument.body.removeChild( n );\n\t\t}\n\t\t\n\n\t\t/**\n\t\t * Perform a jQuery selector action on the table's TR elements (from the tbody) and\n\t\t * return the resulting jQuery object.\n\t\t *  @param {string|node|jQuery} sSelector jQuery selector or node collection to act on\n\t\t *  @param {object} [oOpts] Optional parameters for modifying the rows to be included\n\t\t *  @param {string} [oOpts.filter=none] Select TR elements that meet the current filter\n\t\t *    criterion (\"applied\") or all TR elements (i.e. no filter).\n\t\t *  @param {string} [oOpts.order=current] Order of the TR elements in the processed array.\n\t\t *    Can be either 'current', whereby the current sorting of the table is used, or\n\t\t *    'original' whereby the original order the data was read into the table is used.\n\t\t *  @param {string} [oOpts.page=all] Limit the selection to the currently displayed page\n\t\t *    (\"current\") or not (\"all\"). If 'current' is given, then order is assumed to be \n\t\t *    'current' and filter is 'applied', regardless of what they might be given as.\n\t\t *  @returns {object} jQuery object, filtered by the given selector.\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      var oTable = $('#example').dataTable();\n\t\t *\n\t\t *      // Highlight every second row\n\t\t *      oTable.$('tr:odd').css('backgroundColor', 'blue');\n\t\t *    } );\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      var oTable = $('#example').dataTable();\n\t\t *\n\t\t *      // Filter to rows with 'Webkit' in them, add a background colour and then\n\t\t *      // remove the filter, thus highlighting the 'Webkit' rows only.\n\t\t *      oTable.fnFilter('Webkit');\n\t\t *      oTable.$('tr', {\"filter\": \"applied\"}).css('backgroundColor', 'blue');\n\t\t *      oTable.fnFilter('');\n\t\t *    } );\n\t\t */\n\t\tthis.$ = function ( sSelector, oOpts )\n\t\t{\n\t\t\tvar i, iLen, a = [], tr;\n\t\t\tvar oSettings = _fnSettingsFromNode( this[DataTable.ext.iApiIndex] );\n\t\t\tvar aoData = oSettings.aoData;\n\t\t\tvar aiDisplay = oSettings.aiDisplay;\n\t\t\tvar aiDisplayMaster = oSettings.aiDisplayMaster;\n\t\t\n\t\t\tif ( !oOpts )\n\t\t\t{\n\t\t\t\toOpts = {};\n\t\t\t}\n\t\t\n\t\t\toOpts = $.extend( {}, {\n\t\t\t\t\"filter\": \"none\", // applied\n\t\t\t\t\"order\": \"current\", // \"original\"\n\t\t\t\t\"page\": \"all\" // current\n\t\t\t}, oOpts );\n\t\t\n\t\t\t// Current page implies that order=current and fitler=applied, since it is fairly\n\t\t\t// senseless otherwise\n\t\t\tif ( oOpts.page == 'current' )\n\t\t\t{\n\t\t\t\tfor ( i=oSettings._iDisplayStart, iLen=oSettings.fnDisplayEnd() ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\ttr = aoData[ aiDisplay[i] ].nTr;\n\t\t\t\t\tif ( tr )\n\t\t\t\t\t{\n\t\t\t\t\t\ta.push( tr );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ( oOpts.order == \"current\" && oOpts.filter == \"none\" )\n\t\t\t{\n\t\t\t\tfor ( i=0, iLen=aiDisplayMaster.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\ttr = aoData[ aiDisplayMaster[i] ].nTr;\n\t\t\t\t\tif ( tr )\n\t\t\t\t\t{\n\t\t\t\t\t\ta.push( tr );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ( oOpts.order == \"current\" && oOpts.filter == \"applied\" )\n\t\t\t{\n\t\t\t\tfor ( i=0, iLen=aiDisplay.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\ttr = aoData[ aiDisplay[i] ].nTr;\n\t\t\t\t\tif ( tr )\n\t\t\t\t\t{\n\t\t\t\t\t\ta.push( tr );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ( oOpts.order == \"original\" && oOpts.filter == \"none\" )\n\t\t\t{\n\t\t\t\tfor ( i=0, iLen=aoData.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\ttr = aoData[ i ].nTr ;\n\t\t\t\t\tif ( tr )\n\t\t\t\t\t{\n\t\t\t\t\t\ta.push( tr );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ( oOpts.order == \"original\" && oOpts.filter == \"applied\" )\n\t\t\t{\n\t\t\t\tfor ( i=0, iLen=aoData.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\ttr = aoData[ i ].nTr;\n\t\t\t\t\tif ( $.inArray( i, aiDisplay ) !== -1 && tr )\n\t\t\t\t\t{\n\t\t\t\t\t\ta.push( tr );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t_fnLog( oSettings, 1, \"Unknown selection options\" );\n\t\t\t}\n\t\t\n\t\t\t/* We need to filter on the TR elements and also 'find' in their descendants\n\t\t\t * to make the selector act like it would in a full table - so we need\n\t\t\t * to build both results and then combine them together\n\t\t\t */\n\t\t\tvar jqA = $(a);\n\t\t\tvar jqTRs = jqA.filter( sSelector );\n\t\t\tvar jqDescendants = jqA.find( sSelector );\n\t\t\n\t\t\treturn $( [].concat($.makeArray(jqTRs), $.makeArray(jqDescendants)) );\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * Almost identical to $ in operation, but in this case returns the data for the matched\n\t\t * rows - as such, the jQuery selector used should match TR row nodes or TD/TH cell nodes\n\t\t * rather than any descendants, so the data can be obtained for the row/cell. If matching\n\t\t * rows are found, the data returned is the original data array/object that was used to  \n\t\t * create the row (or a generated array if from a DOM source).\n\t\t *\n\t\t * This method is often useful in-combination with $ where both functions are given the\n\t\t * same parameters and the array indexes will match identically.\n\t\t *  @param {string|node|jQuery} sSelector jQuery selector or node collection to act on\n\t\t *  @param {object} [oOpts] Optional parameters for modifying the rows to be included\n\t\t *  @param {string} [oOpts.filter=none] Select elements that meet the current filter\n\t\t *    criterion (\"applied\") or all elements (i.e. no filter).\n\t\t *  @param {string} [oOpts.order=current] Order of the data in the processed array.\n\t\t *    Can be either 'current', whereby the current sorting of the table is used, or\n\t\t *    'original' whereby the original order the data was read into the table is used.\n\t\t *  @param {string} [oOpts.page=all] Limit the selection to the currently displayed page\n\t\t *    (\"current\") or not (\"all\"). If 'current' is given, then order is assumed to be \n\t\t *    'current' and filter is 'applied', regardless of what they might be given as.\n\t\t *  @returns {array} Data for the matched elements. If any elements, as a result of the\n\t\t *    selector, were not TR, TD or TH elements in the DataTable, they will have a null \n\t\t *    entry in the array.\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      var oTable = $('#example').dataTable();\n\t\t *\n\t\t *      // Get the data from the first row in the table\n\t\t *      var data = oTable._('tr:first');\n\t\t *\n\t\t *      // Do something useful with the data\n\t\t *      alert( \"First cell is: \"+data[0] );\n\t\t *    } );\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      var oTable = $('#example').dataTable();\n\t\t *\n\t\t *      // Filter to 'Webkit' and get all data for \n\t\t *      oTable.fnFilter('Webkit');\n\t\t *      var data = oTable._('tr', {\"filter\": \"applied\"});\n\t\t *      \n\t\t *      // Do something with the data\n\t\t *      alert( data.length+\" rows matched the filter\" );\n\t\t *    } );\n\t\t */\n\t\tthis._ = function ( sSelector, oOpts )\n\t\t{\n\t\t\tvar aOut = [];\n\t\t\tvar i, iLen, iIndex;\n\t\t\tvar aTrs = this.$( sSelector, oOpts );\n\t\t\n\t\t\tfor ( i=0, iLen=aTrs.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\taOut.push( this.fnGetData(aTrs[i]) );\n\t\t\t}\n\t\t\n\t\t\treturn aOut;\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * Add a single new row or multiple rows of data to the table. Please note\n\t\t * that this is suitable for client-side processing only - if you are using \n\t\t * server-side processing (i.e. \"bServerSide\": true), then to add data, you\n\t\t * must add it to the data source, i.e. the server-side, through an Ajax call.\n\t\t *  @param {array|object} mData The data to be added to the table. This can be:\n\t\t *    <ul>\n\t\t *      <li>1D array of data - add a single row with the data provided</li>\n\t\t *      <li>2D array of arrays - add multiple rows in a single call</li>\n\t\t *      <li>object - data object when using <i>mData</i></li>\n\t\t *      <li>array of objects - multiple data objects when using <i>mData</i></li>\n\t\t *    </ul>\n\t\t *  @param {bool} [bRedraw=true] redraw the table or not\n\t\t *  @returns {array} An array of integers, representing the list of indexes in \n\t\t *    <i>aoData</i> ({@link DataTable.models.oSettings}) that have been added to \n\t\t *    the table.\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    // Global var for counter\n\t\t *    var giCount = 2;\n\t\t *    \n\t\t *    $(document).ready(function() {\n\t\t *      $('#example').dataTable();\n\t\t *    } );\n\t\t *    \n\t\t *    function fnClickAddRow() {\n\t\t *      $('#example').dataTable().fnAddData( [\n\t\t *        giCount+\".1\",\n\t\t *        giCount+\".2\",\n\t\t *        giCount+\".3\",\n\t\t *        giCount+\".4\" ]\n\t\t *      );\n\t\t *        \n\t\t *      giCount++;\n\t\t *    }\n\t\t */\n\t\tthis.fnAddData = function( mData, bRedraw )\n\t\t{\n\t\t\tif ( mData.length === 0 )\n\t\t\t{\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\t\n\t\t\tvar aiReturn = [];\n\t\t\tvar iTest;\n\t\t\t\n\t\t\t/* Find settings from table node */\n\t\t\tvar oSettings = _fnSettingsFromNode( this[DataTable.ext.iApiIndex] );\n\t\t\t\n\t\t\t/* Check if we want to add multiple rows or not */\n\t\t\tif ( typeof mData[0] === \"object\" && mData[0] !== null )\n\t\t\t{\n\t\t\t\tfor ( var i=0 ; i<mData.length ; i++ )\n\t\t\t\t{\n\t\t\t\t\tiTest = _fnAddData( oSettings, mData[i] );\n\t\t\t\t\tif ( iTest == -1 )\n\t\t\t\t\t{\n\t\t\t\t\t\treturn aiReturn;\n\t\t\t\t\t}\n\t\t\t\t\taiReturn.push( iTest );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tiTest = _fnAddData( oSettings, mData );\n\t\t\t\tif ( iTest == -1 )\n\t\t\t\t{\n\t\t\t\t\treturn aiReturn;\n\t\t\t\t}\n\t\t\t\taiReturn.push( iTest );\n\t\t\t}\n\t\t\t\n\t\t\toSettings.aiDisplay = oSettings.aiDisplayMaster.slice();\n\t\t\t\n\t\t\tif ( bRedraw === undefined || bRedraw )\n\t\t\t{\n\t\t\t\t_fnReDraw( oSettings );\n\t\t\t}\n\t\t\treturn aiReturn;\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * This function will make DataTables recalculate the column sizes, based on the data \n\t\t * contained in the table and the sizes applied to the columns (in the DOM, CSS or \n\t\t * through the sWidth parameter). This can be useful when the width of the table's \n\t\t * parent element changes (for example a window resize).\n\t\t *  @param {boolean} [bRedraw=true] Redraw the table or not, you will typically want to\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      var oTable = $('#example').dataTable( {\n\t\t *        \"sScrollY\": \"200px\",\n\t\t *        \"bPaginate\": false\n\t\t *      } );\n\t\t *      \n\t\t *      $(window).bind('resize', function () {\n\t\t *        oTable.fnAdjustColumnSizing();\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\tthis.fnAdjustColumnSizing = function ( bRedraw )\n\t\t{\n\t\t\tvar oSettings = _fnSettingsFromNode(this[DataTable.ext.iApiIndex]);\n\t\t\t_fnAdjustColumnSizing( oSettings );\n\t\t\t\n\t\t\tif ( bRedraw === undefined || bRedraw )\n\t\t\t{\n\t\t\t\tthis.fnDraw( false );\n\t\t\t}\n\t\t\telse if ( oSettings.oScroll.sX !== \"\" || oSettings.oScroll.sY !== \"\" )\n\t\t\t{\n\t\t\t\t/* If not redrawing, but scrolling, we want to apply the new column sizes anyway */\n\t\t\t\tthis.oApi._fnScrollDraw(oSettings);\n\t\t\t}\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * Quickly and simply clear a table\n\t\t *  @param {bool} [bRedraw=true] redraw the table or not\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      var oTable = $('#example').dataTable();\n\t\t *      \n\t\t *      // Immediately 'nuke' the current rows (perhaps waiting for an Ajax callback...)\n\t\t *      oTable.fnClearTable();\n\t\t *    } );\n\t\t */\n\t\tthis.fnClearTable = function( bRedraw )\n\t\t{\n\t\t\t/* Find settings from table node */\n\t\t\tvar oSettings = _fnSettingsFromNode( this[DataTable.ext.iApiIndex] );\n\t\t\t_fnClearTable( oSettings );\n\t\t\t\n\t\t\tif ( bRedraw === undefined || bRedraw )\n\t\t\t{\n\t\t\t\t_fnDraw( oSettings );\n\t\t\t}\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * The exact opposite of 'opening' a row, this function will close any rows which \n\t\t * are currently 'open'.\n\t\t *  @param {node} nTr the table row to 'close'\n\t\t *  @returns {int} 0 on success, or 1 if failed (can't find the row)\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      var oTable;\n\t\t *      \n\t\t *      // 'open' an information row when a row is clicked on\n\t\t *      $('#example tbody tr').click( function () {\n\t\t *        if ( oTable.fnIsOpen(this) ) {\n\t\t *          oTable.fnClose( this );\n\t\t *        } else {\n\t\t *          oTable.fnOpen( this, \"Temporary row opened\", \"info_row\" );\n\t\t *        }\n\t\t *      } );\n\t\t *      \n\t\t *      oTable = $('#example').dataTable();\n\t\t *    } );\n\t\t */\n\t\tthis.fnClose = function( nTr )\n\t\t{\n\t\t\t/* Find settings from table node */\n\t\t\tvar oSettings = _fnSettingsFromNode( this[DataTable.ext.iApiIndex] );\n\t\t\t\n\t\t\tfor ( var i=0 ; i<oSettings.aoOpenRows.length ; i++ )\n\t\t\t{\n\t\t\t\tif ( oSettings.aoOpenRows[i].nParent == nTr )\n\t\t\t\t{\n\t\t\t\t\tvar nTrParent = oSettings.aoOpenRows[i].nTr.parentNode;\n\t\t\t\t\tif ( nTrParent )\n\t\t\t\t\t{\n\t\t\t\t\t\t/* Remove it if it is currently on display */\n\t\t\t\t\t\tnTrParent.removeChild( oSettings.aoOpenRows[i].nTr );\n\t\t\t\t\t}\n\t\t\t\t\toSettings.aoOpenRows.splice( i, 1 );\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn 1;\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * Remove a row for the table\n\t\t *  @param {mixed} mTarget The index of the row from aoData to be deleted, or\n\t\t *    the TR element you want to delete\n\t\t *  @param {function|null} [fnCallBack] Callback function\n\t\t *  @param {bool} [bRedraw=true] Redraw the table or not\n\t\t *  @returns {array} The row that was deleted\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      var oTable = $('#example').dataTable();\n\t\t *      \n\t\t *      // Immediately remove the first row\n\t\t *      oTable.fnDeleteRow( 0 );\n\t\t *    } );\n\t\t */\n\t\tthis.fnDeleteRow = function( mTarget, fnCallBack, bRedraw )\n\t\t{\n\t\t\t/* Find settings from table node */\n\t\t\tvar oSettings = _fnSettingsFromNode( this[DataTable.ext.iApiIndex] );\n\t\t\tvar i, iLen, iAODataIndex;\n\t\t\t\n\t\t\tiAODataIndex = (typeof mTarget === 'object') ? \n\t\t\t\t_fnNodeToDataIndex(oSettings, mTarget) : mTarget;\n\t\t\t\n\t\t\t/* Return the data array from this row */\n\t\t\tvar oData = oSettings.aoData.splice( iAODataIndex, 1 );\n\t\t\n\t\t\t/* Update the _DT_RowIndex parameter */\n\t\t\tfor ( i=0, iLen=oSettings.aoData.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tif ( oSettings.aoData[i].nTr !== null )\n\t\t\t\t{\n\t\t\t\t\toSettings.aoData[i].nTr._DT_RowIndex = i;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* Remove the target row from the search array */\n\t\t\tvar iDisplayIndex = $.inArray( iAODataIndex, oSettings.aiDisplay );\n\t\t\toSettings.asDataSearch.splice( iDisplayIndex, 1 );\n\t\t\t\n\t\t\t/* Delete from the display arrays */\n\t\t\t_fnDeleteIndex( oSettings.aiDisplayMaster, iAODataIndex );\n\t\t\t_fnDeleteIndex( oSettings.aiDisplay, iAODataIndex );\n\t\t\t\n\t\t\t/* If there is a user callback function - call it */\n\t\t\tif ( typeof fnCallBack === \"function\" )\n\t\t\t{\n\t\t\t\tfnCallBack.call( this, oSettings, oData );\n\t\t\t}\n\t\t\t\n\t\t\t/* Check for an 'overflow' they case for displaying the table */\n\t\t\tif ( oSettings._iDisplayStart >= oSettings.fnRecordsDisplay() )\n\t\t\t{\n\t\t\t\toSettings._iDisplayStart -= oSettings._iDisplayLength;\n\t\t\t\tif ( oSettings._iDisplayStart < 0 )\n\t\t\t\t{\n\t\t\t\t\toSettings._iDisplayStart = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif ( bRedraw === undefined || bRedraw )\n\t\t\t{\n\t\t\t\t_fnCalculateEnd( oSettings );\n\t\t\t\t_fnDraw( oSettings );\n\t\t\t}\n\t\t\t\n\t\t\treturn oData;\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * Restore the table to it's original state in the DOM by removing all of DataTables \n\t\t * enhancements, alterations to the DOM structure of the table and event listeners.\n\t\t *  @param {boolean} [bRemove=false] Completely remove the table from the DOM\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      // This example is fairly pointless in reality, but shows how fnDestroy can be used\n\t\t *      var oTable = $('#example').dataTable();\n\t\t *      oTable.fnDestroy();\n\t\t *    } );\n\t\t */\n\t\tthis.fnDestroy = function ( bRemove )\n\t\t{\n\t\t\tvar oSettings = _fnSettingsFromNode( this[DataTable.ext.iApiIndex] );\n\t\t\tvar nOrig = oSettings.nTableWrapper.parentNode;\n\t\t\tvar nBody = oSettings.nTBody;\n\t\t\tvar i, iLen;\n\t\t\n\t\t\tbRemove = (bRemove===undefined) ? false : bRemove;\n\t\t\t\n\t\t\t/* Flag to note that the table is currently being destroyed - no action should be taken */\n\t\t\toSettings.bDestroying = true;\n\t\t\t\n\t\t\t/* Fire off the destroy callbacks for plug-ins etc */\n\t\t\t_fnCallbackFire( oSettings, \"aoDestroyCallback\", \"destroy\", [oSettings] );\n\t\t\n\t\t\t/* If the table is not being removed, restore the hidden columns */\n\t\t\tif ( !bRemove )\n\t\t\t{\n\t\t\t\tfor ( i=0, iLen=oSettings.aoColumns.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\tif ( oSettings.aoColumns[i].bVisible === false )\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.fnSetColumnVis( i, true );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* Blitz all DT events */\n\t\t\t$(oSettings.nTableWrapper).find('*').andSelf().unbind('.DT');\n\t\t\t\n\t\t\t/* If there is an 'empty' indicator row, remove it */\n\t\t\t$('tbody>tr>td.'+oSettings.oClasses.sRowEmpty, oSettings.nTable).parent().remove();\n\t\t\t\n\t\t\t/* When scrolling we had to break the table up - restore it */\n\t\t\tif ( oSettings.nTable != oSettings.nTHead.parentNode )\n\t\t\t{\n\t\t\t\t$(oSettings.nTable).children('thead').remove();\n\t\t\t\toSettings.nTable.appendChild( oSettings.nTHead );\n\t\t\t}\n\t\t\t\n\t\t\tif ( oSettings.nTFoot && oSettings.nTable != oSettings.nTFoot.parentNode )\n\t\t\t{\n\t\t\t\t$(oSettings.nTable).children('tfoot').remove();\n\t\t\t\toSettings.nTable.appendChild( oSettings.nTFoot );\n\t\t\t}\n\t\t\t\n\t\t\t/* Remove the DataTables generated nodes, events and classes */\n\t\t\toSettings.nTable.parentNode.removeChild( oSettings.nTable );\n\t\t\t$(oSettings.nTableWrapper).remove();\n\t\t\t\n\t\t\toSettings.aaSorting = [];\n\t\t\toSettings.aaSortingFixed = [];\n\t\t\t_fnSortingClasses( oSettings );\n\t\t\t\n\t\t\t$(_fnGetTrNodes( oSettings )).removeClass( oSettings.asStripeClasses.join(' ') );\n\t\t\t\n\t\t\t$('th, td', oSettings.nTHead).removeClass( [\n\t\t\t\toSettings.oClasses.sSortable,\n\t\t\t\toSettings.oClasses.sSortableAsc,\n\t\t\t\toSettings.oClasses.sSortableDesc,\n\t\t\t\toSettings.oClasses.sSortableNone ].join(' ')\n\t\t\t);\n\t\t\tif ( oSettings.bJUI )\n\t\t\t{\n\t\t\t\t$('th span.'+oSettings.oClasses.sSortIcon\n\t\t\t\t\t+ ', td span.'+oSettings.oClasses.sSortIcon, oSettings.nTHead).remove();\n\t\t\n\t\t\t\t$('th, td', oSettings.nTHead).each( function () {\n\t\t\t\t\tvar jqWrapper = $('div.'+oSettings.oClasses.sSortJUIWrapper, this);\n\t\t\t\t\tvar kids = jqWrapper.contents();\n\t\t\t\t\t$(this).append( kids );\n\t\t\t\t\tjqWrapper.remove();\n\t\t\t\t} );\n\t\t\t}\n\t\t\t\n\t\t\t/* Add the TR elements back into the table in their original order */\n\t\t\tif ( !bRemove && oSettings.nTableReinsertBefore )\n\t\t\t{\n\t\t\t\tnOrig.insertBefore( oSettings.nTable, oSettings.nTableReinsertBefore );\n\t\t\t}\n\t\t\telse if ( !bRemove )\n\t\t\t{\n\t\t\t\tnOrig.appendChild( oSettings.nTable );\n\t\t\t}\n\t\t\n\t\t\tfor ( i=0, iLen=oSettings.aoData.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tif ( oSettings.aoData[i].nTr !== null )\n\t\t\t\t{\n\t\t\t\t\tnBody.appendChild( oSettings.aoData[i].nTr );\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* Restore the width of the original table */\n\t\t\tif ( oSettings.oFeatures.bAutoWidth === true )\n\t\t\t{\n\t\t\t  oSettings.nTable.style.width = _fnStringToCss(oSettings.sDestroyWidth);\n\t\t\t}\n\t\t\t\n\t\t\t/* If the were originally stripe classes - then we add them back here. Note\n\t\t\t * this is not fool proof (for example if not all rows had stripe classes - but\n\t\t\t * it's a good effort without getting carried away\n\t\t\t */\n\t\t\tiLen = oSettings.asDestroyStripes.length;\n\t\t\tif (iLen)\n\t\t\t{\n\t\t\t\tvar anRows = $(nBody).children('tr');\n\t\t\t\tfor ( i=0 ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\tanRows.filter(':nth-child(' + iLen + 'n + ' + i + ')').addClass( oSettings.asDestroyStripes[i] );\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* Remove the settings object from the settings array */\n\t\t\tfor ( i=0, iLen=DataTable.settings.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tif ( DataTable.settings[i] == oSettings )\n\t\t\t\t{\n\t\t\t\t\tDataTable.settings.splice( i, 1 );\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* End it all */\n\t\t\toSettings = null;\n\t\t\toInit = null;\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * Redraw the table\n\t\t *  @param {bool} [bComplete=true] Re-filter and resort (if enabled) the table before the draw.\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      var oTable = $('#example').dataTable();\n\t\t *      \n\t\t *      // Re-draw the table - you wouldn't want to do it here, but it's an example :-)\n\t\t *      oTable.fnDraw();\n\t\t *    } );\n\t\t */\n\t\tthis.fnDraw = function( bComplete )\n\t\t{\n\t\t\tvar oSettings = _fnSettingsFromNode( this[DataTable.ext.iApiIndex] );\n\t\t\tif ( bComplete === false )\n\t\t\t{\n\t\t\t\t_fnCalculateEnd( oSettings );\n\t\t\t\t_fnDraw( oSettings );\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t_fnReDraw( oSettings );\n\t\t\t}\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * Filter the input based on data\n\t\t *  @param {string} sInput String to filter the table on\n\t\t *  @param {int|null} [iColumn] Column to limit filtering to\n\t\t *  @param {bool} [bRegex=false] Treat as regular expression or not\n\t\t *  @param {bool} [bSmart=true] Perform smart filtering or not\n\t\t *  @param {bool} [bShowGlobal=true] Show the input global filter in it's input box(es)\n\t\t *  @param {bool} [bCaseInsensitive=true] Do case-insensitive matching (true) or not (false)\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      var oTable = $('#example').dataTable();\n\t\t *      \n\t\t *      // Sometime later - filter...\n\t\t *      oTable.fnFilter( 'test string' );\n\t\t *    } );\n\t\t */\n\t\tthis.fnFilter = function( sInput, iColumn, bRegex, bSmart, bShowGlobal, bCaseInsensitive )\n\t\t{\n\t\t\tvar oSettings = _fnSettingsFromNode( this[DataTable.ext.iApiIndex] );\n\t\t\t\n\t\t\tif ( !oSettings.oFeatures.bFilter )\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tif ( bRegex === undefined || bRegex === null )\n\t\t\t{\n\t\t\t\tbRegex = false;\n\t\t\t}\n\t\t\t\n\t\t\tif ( bSmart === undefined || bSmart === null )\n\t\t\t{\n\t\t\t\tbSmart = true;\n\t\t\t}\n\t\t\t\n\t\t\tif ( bShowGlobal === undefined || bShowGlobal === null )\n\t\t\t{\n\t\t\t\tbShowGlobal = true;\n\t\t\t}\n\t\t\t\n\t\t\tif ( bCaseInsensitive === undefined || bCaseInsensitive === null )\n\t\t\t{\n\t\t\t\tbCaseInsensitive = true;\n\t\t\t}\n\t\t\t\n\t\t\tif ( iColumn === undefined || iColumn === null )\n\t\t\t{\n\t\t\t\t/* Global filter */\n\t\t\t\t_fnFilterComplete( oSettings, {\n\t\t\t\t\t\"sSearch\":sInput+\"\",\n\t\t\t\t\t\"bRegex\": bRegex,\n\t\t\t\t\t\"bSmart\": bSmart,\n\t\t\t\t\t\"bCaseInsensitive\": bCaseInsensitive\n\t\t\t\t}, 1 );\n\t\t\t\t\n\t\t\t\tif ( bShowGlobal && oSettings.aanFeatures.f )\n\t\t\t\t{\n\t\t\t\t\tvar n = oSettings.aanFeatures.f;\n\t\t\t\t\tfor ( var i=0, iLen=n.length ; i<iLen ; i++ )\n\t\t\t\t\t{\n\t\t\t\t\t\t// IE9 throws an 'unknown error' if document.activeElement is used\n\t\t\t\t\t\t// inside an iframe or frame...\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif ( n[i]._DT_Input != document.activeElement )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t$(n[i]._DT_Input).val( sInput );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcatch ( e ) {\n\t\t\t\t\t\t\t$(n[i]._DT_Input).val( sInput );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t/* Single column filter */\n\t\t\t\t$.extend( oSettings.aoPreSearchCols[ iColumn ], {\n\t\t\t\t\t\"sSearch\": sInput+\"\",\n\t\t\t\t\t\"bRegex\": bRegex,\n\t\t\t\t\t\"bSmart\": bSmart,\n\t\t\t\t\t\"bCaseInsensitive\": bCaseInsensitive\n\t\t\t\t} );\n\t\t\t\t_fnFilterComplete( oSettings, oSettings.oPreviousSearch, 1 );\n\t\t\t}\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * Get the data for the whole table, an individual row or an individual cell based on the \n\t\t * provided parameters.\n\t\t *  @param {int|node} [mRow] A TR row node, TD/TH cell node or an integer. If given as\n\t\t *    a TR node then the data source for the whole row will be returned. If given as a\n\t\t *    TD/TH cell node then iCol will be automatically calculated and the data for the\n\t\t *    cell returned. If given as an integer, then this is treated as the aoData internal\n\t\t *    data index for the row (see fnGetPosition) and the data for that row used.\n\t\t *  @param {int} [iCol] Optional column index that you want the data of.\n\t\t *  @returns {array|object|string} If mRow is undefined, then the data for all rows is\n\t\t *    returned. If mRow is defined, just data for that row, and is iCol is\n\t\t *    defined, only data for the designated cell is returned.\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    // Row data\n\t\t *    $(document).ready(function() {\n\t\t *      oTable = $('#example').dataTable();\n\t\t *\n\t\t *      oTable.$('tr').click( function () {\n\t\t *        var data = oTable.fnGetData( this );\n\t\t *        // ... do something with the array / object of data for the row\n\t\t *      } );\n\t\t *    } );\n\t\t *\n\t\t *  @example\n\t\t *    // Individual cell data\n\t\t *    $(document).ready(function() {\n\t\t *      oTable = $('#example').dataTable();\n\t\t *\n\t\t *      oTable.$('td').click( function () {\n\t\t *        var sData = oTable.fnGetData( this );\n\t\t *        alert( 'The cell clicked on had the value of '+sData );\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\tthis.fnGetData = function( mRow, iCol )\n\t\t{\n\t\t\tvar oSettings = _fnSettingsFromNode( this[DataTable.ext.iApiIndex] );\n\t\t\t\n\t\t\tif ( mRow !== undefined )\n\t\t\t{\n\t\t\t\tvar iRow = mRow;\n\t\t\t\tif ( typeof mRow === 'object' )\n\t\t\t\t{\n\t\t\t\t\tvar sNode = mRow.nodeName.toLowerCase();\n\t\t\t\t\tif (sNode === \"tr\" )\n\t\t\t\t\t{\n\t\t\t\t\t\tiRow = _fnNodeToDataIndex(oSettings, mRow);\n\t\t\t\t\t}\n\t\t\t\t\telse if ( sNode === \"td\" )\n\t\t\t\t\t{\n\t\t\t\t\t\tiRow = _fnNodeToDataIndex(oSettings, mRow.parentNode);\n\t\t\t\t\t\tiCol = _fnNodeToColumnIndex( oSettings, iRow, mRow );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tif ( iCol !== undefined )\n\t\t\t\t{\n\t\t\t\t\treturn _fnGetCellData( oSettings, iRow, iCol, '' );\n\t\t\t\t}\n\t\t\t\treturn (oSettings.aoData[iRow]!==undefined) ?\n\t\t\t\t\toSettings.aoData[iRow]._aData : null;\n\t\t\t}\n\t\t\treturn _fnGetDataMaster( oSettings );\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * Get an array of the TR nodes that are used in the table's body. Note that you will \n\t\t * typically want to use the '$' API method in preference to this as it is more \n\t\t * flexible.\n\t\t *  @param {int} [iRow] Optional row index for the TR element you want\n\t\t *  @returns {array|node} If iRow is undefined, returns an array of all TR elements\n\t\t *    in the table's body, or iRow is defined, just the TR element requested.\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      var oTable = $('#example').dataTable();\n\t\t *      \n\t\t *      // Get the nodes from the table\n\t\t *      var nNodes = oTable.fnGetNodes( );\n\t\t *    } );\n\t\t */\n\t\tthis.fnGetNodes = function( iRow )\n\t\t{\n\t\t\tvar oSettings = _fnSettingsFromNode( this[DataTable.ext.iApiIndex] );\n\t\t\t\n\t\t\tif ( iRow !== undefined ) {\n\t\t\t\treturn (oSettings.aoData[iRow]!==undefined) ?\n\t\t\t\t\toSettings.aoData[iRow].nTr : null;\n\t\t\t}\n\t\t\treturn _fnGetTrNodes( oSettings );\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * Get the array indexes of a particular cell from it's DOM element\n\t\t * and column index including hidden columns\n\t\t *  @param {node} nNode this can either be a TR, TD or TH in the table's body\n\t\t *  @returns {int} If nNode is given as a TR, then a single index is returned, or\n\t\t *    if given as a cell, an array of [row index, column index (visible), \n\t\t *    column index (all)] is given.\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      $('#example tbody td').click( function () {\n\t\t *        // Get the position of the current data from the node\n\t\t *        var aPos = oTable.fnGetPosition( this );\n\t\t *        \n\t\t *        // Get the data array for this row\n\t\t *        var aData = oTable.fnGetData( aPos[0] );\n\t\t *        \n\t\t *        // Update the data array and return the value\n\t\t *        aData[ aPos[1] ] = 'clicked';\n\t\t *        this.innerHTML = 'clicked';\n\t\t *      } );\n\t\t *      \n\t\t *      // Init DataTables\n\t\t *      oTable = $('#example').dataTable();\n\t\t *    } );\n\t\t */\n\t\tthis.fnGetPosition = function( nNode )\n\t\t{\n\t\t\tvar oSettings = _fnSettingsFromNode( this[DataTable.ext.iApiIndex] );\n\t\t\tvar sNodeName = nNode.nodeName.toUpperCase();\n\t\t\t\n\t\t\tif ( sNodeName == \"TR\" )\n\t\t\t{\n\t\t\t\treturn _fnNodeToDataIndex(oSettings, nNode);\n\t\t\t}\n\t\t\telse if ( sNodeName == \"TD\" || sNodeName == \"TH\" )\n\t\t\t{\n\t\t\t\tvar iDataIndex = _fnNodeToDataIndex( oSettings, nNode.parentNode );\n\t\t\t\tvar iColumnIndex = _fnNodeToColumnIndex( oSettings, iDataIndex, nNode );\n\t\t\t\treturn [ iDataIndex, _fnColumnIndexToVisible(oSettings, iColumnIndex ), iColumnIndex ];\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * Check to see if a row is 'open' or not.\n\t\t *  @param {node} nTr the table row to check\n\t\t *  @returns {boolean} true if the row is currently open, false otherwise\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      var oTable;\n\t\t *      \n\t\t *      // 'open' an information row when a row is clicked on\n\t\t *      $('#example tbody tr').click( function () {\n\t\t *        if ( oTable.fnIsOpen(this) ) {\n\t\t *          oTable.fnClose( this );\n\t\t *        } else {\n\t\t *          oTable.fnOpen( this, \"Temporary row opened\", \"info_row\" );\n\t\t *        }\n\t\t *      } );\n\t\t *      \n\t\t *      oTable = $('#example').dataTable();\n\t\t *    } );\n\t\t */\n\t\tthis.fnIsOpen = function( nTr )\n\t\t{\n\t\t\tvar oSettings = _fnSettingsFromNode( this[DataTable.ext.iApiIndex] );\n\t\t\tvar aoOpenRows = oSettings.aoOpenRows;\n\t\t\t\n\t\t\tfor ( var i=0 ; i<oSettings.aoOpenRows.length ; i++ )\n\t\t\t{\n\t\t\t\tif ( oSettings.aoOpenRows[i].nParent == nTr )\n\t\t\t\t{\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * This function will place a new row directly after a row which is currently \n\t\t * on display on the page, with the HTML contents that is passed into the \n\t\t * function. This can be used, for example, to ask for confirmation that a \n\t\t * particular record should be deleted.\n\t\t *  @param {node} nTr The table row to 'open'\n\t\t *  @param {string|node|jQuery} mHtml The HTML to put into the row\n\t\t *  @param {string} sClass Class to give the new TD cell\n\t\t *  @returns {node} The row opened. Note that if the table row passed in as the\n\t\t *    first parameter, is not found in the table, this method will silently\n\t\t *    return.\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      var oTable;\n\t\t *      \n\t\t *      // 'open' an information row when a row is clicked on\n\t\t *      $('#example tbody tr').click( function () {\n\t\t *        if ( oTable.fnIsOpen(this) ) {\n\t\t *          oTable.fnClose( this );\n\t\t *        } else {\n\t\t *          oTable.fnOpen( this, \"Temporary row opened\", \"info_row\" );\n\t\t *        }\n\t\t *      } );\n\t\t *      \n\t\t *      oTable = $('#example').dataTable();\n\t\t *    } );\n\t\t */\n\t\tthis.fnOpen = function( nTr, mHtml, sClass )\n\t\t{\n\t\t\t/* Find settings from table node */\n\t\t\tvar oSettings = _fnSettingsFromNode( this[DataTable.ext.iApiIndex] );\n\t\t\n\t\t\t/* Check that the row given is in the table */\n\t\t\tvar nTableRows = _fnGetTrNodes( oSettings );\n\t\t\tif ( $.inArray(nTr, nTableRows) === -1 )\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\t/* the old open one if there is one */\n\t\t\tthis.fnClose( nTr );\n\t\t\t\n\t\t\tvar nNewRow = document.createElement(\"tr\");\n\t\t\tvar nNewCell = document.createElement(\"td\");\n\t\t\tnNewRow.appendChild( nNewCell );\n\t\t\tnNewCell.className = sClass;\n\t\t\tnNewCell.colSpan = _fnVisbleColumns( oSettings );\n\t\t\n\t\t\tif (typeof mHtml === \"string\")\n\t\t\t{\n\t\t\t\tnNewCell.innerHTML = mHtml;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$(nNewCell).html( mHtml );\n\t\t\t}\n\t\t\n\t\t\t/* If the nTr isn't on the page at the moment - then we don't insert at the moment */\n\t\t\tvar nTrs = $('tr', oSettings.nTBody);\n\t\t\tif ( $.inArray(nTr, nTrs) != -1  )\n\t\t\t{\n\t\t\t\t$(nNewRow).insertAfter(nTr);\n\t\t\t}\n\t\t\t\n\t\t\toSettings.aoOpenRows.push( {\n\t\t\t\t\"nTr\": nNewRow,\n\t\t\t\t\"nParent\": nTr\n\t\t\t} );\n\t\t\t\n\t\t\treturn nNewRow;\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * Change the pagination - provides the internal logic for pagination in a simple API \n\t\t * function. With this function you can have a DataTables table go to the next, \n\t\t * previous, first or last pages.\n\t\t *  @param {string|int} mAction Paging action to take: \"first\", \"previous\", \"next\" or \"last\"\n\t\t *    or page number to jump to (integer), note that page 0 is the first page.\n\t\t *  @param {bool} [bRedraw=true] Redraw the table or not\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      var oTable = $('#example').dataTable();\n\t\t *      oTable.fnPageChange( 'next' );\n\t\t *    } );\n\t\t */\n\t\tthis.fnPageChange = function ( mAction, bRedraw )\n\t\t{\n\t\t\tvar oSettings = _fnSettingsFromNode( this[DataTable.ext.iApiIndex] );\n\t\t\t_fnPageChange( oSettings, mAction );\n\t\t\t_fnCalculateEnd( oSettings );\n\t\t\t\n\t\t\tif ( bRedraw === undefined || bRedraw )\n\t\t\t{\n\t\t\t\t_fnDraw( oSettings );\n\t\t\t}\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * Show a particular column\n\t\t *  @param {int} iCol The column whose display should be changed\n\t\t *  @param {bool} bShow Show (true) or hide (false) the column\n\t\t *  @param {bool} [bRedraw=true] Redraw the table or not\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      var oTable = $('#example').dataTable();\n\t\t *      \n\t\t *      // Hide the second column after initialisation\n\t\t *      oTable.fnSetColumnVis( 1, false );\n\t\t *    } );\n\t\t */\n\t\tthis.fnSetColumnVis = function ( iCol, bShow, bRedraw )\n\t\t{\n\t\t\tvar oSettings = _fnSettingsFromNode( this[DataTable.ext.iApiIndex] );\n\t\t\tvar i, iLen;\n\t\t\tvar aoColumns = oSettings.aoColumns;\n\t\t\tvar aoData = oSettings.aoData;\n\t\t\tvar nTd, bAppend, iBefore;\n\t\t\t\n\t\t\t/* No point in doing anything if we are requesting what is already true */\n\t\t\tif ( aoColumns[iCol].bVisible == bShow )\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\t/* Show the column */\n\t\t\tif ( bShow )\n\t\t\t{\n\t\t\t\tvar iInsert = 0;\n\t\t\t\tfor ( i=0 ; i<iCol ; i++ )\n\t\t\t\t{\n\t\t\t\t\tif ( aoColumns[i].bVisible )\n\t\t\t\t\t{\n\t\t\t\t\t\tiInsert++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* Need to decide if we should use appendChild or insertBefore */\n\t\t\t\tbAppend = (iInsert >= _fnVisbleColumns( oSettings ));\n\t\t\n\t\t\t\t/* Which coloumn should we be inserting before? */\n\t\t\t\tif ( !bAppend )\n\t\t\t\t{\n\t\t\t\t\tfor ( i=iCol ; i<aoColumns.length ; i++ )\n\t\t\t\t\t{\n\t\t\t\t\t\tif ( aoColumns[i].bVisible )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tiBefore = i;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tfor ( i=0, iLen=aoData.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\tif ( aoData[i].nTr !== null )\n\t\t\t\t\t{\n\t\t\t\t\t\tif ( bAppend )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\taoData[i].nTr.appendChild( \n\t\t\t\t\t\t\t\taoData[i]._anHidden[iCol]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\taoData[i].nTr.insertBefore(\n\t\t\t\t\t\t\t\taoData[i]._anHidden[iCol], \n\t\t\t\t\t\t\t\t_fnGetTdNodes( oSettings, i )[iBefore] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t/* Remove a column from display */\n\t\t\t\tfor ( i=0, iLen=aoData.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\tif ( aoData[i].nTr !== null )\n\t\t\t\t\t{\n\t\t\t\t\t\tnTd = _fnGetTdNodes( oSettings, i )[iCol];\n\t\t\t\t\t\taoData[i]._anHidden[iCol] = nTd;\n\t\t\t\t\t\tnTd.parentNode.removeChild( nTd );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\t/* Clear to set the visible flag */\n\t\t\taoColumns[iCol].bVisible = bShow;\n\t\t\n\t\t\t/* Redraw the header and footer based on the new column visibility */\n\t\t\t_fnDrawHead( oSettings, oSettings.aoHeader );\n\t\t\tif ( oSettings.nTFoot )\n\t\t\t{\n\t\t\t\t_fnDrawHead( oSettings, oSettings.aoFooter );\n\t\t\t}\n\t\t\t\n\t\t\t/* If there are any 'open' rows, then we need to alter the colspan for this col change */\n\t\t\tfor ( i=0, iLen=oSettings.aoOpenRows.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\toSettings.aoOpenRows[i].nTr.colSpan = _fnVisbleColumns( oSettings );\n\t\t\t}\n\t\t\t\n\t\t\t/* Do a redraw incase anything depending on the table columns needs it \n\t\t\t * (built-in: scrolling) \n\t\t\t */\n\t\t\tif ( bRedraw === undefined || bRedraw )\n\t\t\t{\n\t\t\t\t_fnAdjustColumnSizing( oSettings );\n\t\t\t\t_fnDraw( oSettings );\n\t\t\t}\n\t\t\t\n\t\t\t_fnSaveState( oSettings );\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * Get the settings for a particular table for external manipulation\n\t\t *  @returns {object} DataTables settings object. See \n\t\t *    {@link DataTable.models.oSettings}\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      var oTable = $('#example').dataTable();\n\t\t *      var oSettings = oTable.fnSettings();\n\t\t *      \n\t\t *      // Show an example parameter from the settings\n\t\t *      alert( oSettings._iDisplayStart );\n\t\t *    } );\n\t\t */\n\t\tthis.fnSettings = function()\n\t\t{\n\t\t\treturn _fnSettingsFromNode( this[DataTable.ext.iApiIndex] );\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * Sort the table by a particular column\n\t\t *  @param {int} iCol the data index to sort on. Note that this will not match the \n\t\t *    'display index' if you have hidden data entries\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      var oTable = $('#example').dataTable();\n\t\t *      \n\t\t *      // Sort immediately with columns 0 and 1\n\t\t *      oTable.fnSort( [ [0,'asc'], [1,'asc'] ] );\n\t\t *    } );\n\t\t */\n\t\tthis.fnSort = function( aaSort )\n\t\t{\n\t\t\tvar oSettings = _fnSettingsFromNode( this[DataTable.ext.iApiIndex] );\n\t\t\toSettings.aaSorting = aaSort;\n\t\t\t_fnSort( oSettings );\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * Attach a sort listener to an element for a given column\n\t\t *  @param {node} nNode the element to attach the sort listener to\n\t\t *  @param {int} iColumn the column that a click on this node will sort on\n\t\t *  @param {function} [fnCallback] callback function when sort is run\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      var oTable = $('#example').dataTable();\n\t\t *      \n\t\t *      // Sort on column 1, when 'sorter' is clicked on\n\t\t *      oTable.fnSortListener( document.getElementById('sorter'), 1 );\n\t\t *    } );\n\t\t */\n\t\tthis.fnSortListener = function( nNode, iColumn, fnCallback )\n\t\t{\n\t\t\t_fnSortAttachListener( _fnSettingsFromNode( this[DataTable.ext.iApiIndex] ), nNode, iColumn,\n\t\t\t \tfnCallback );\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * Update a table cell or row - this method will accept either a single value to\n\t\t * update the cell with, an array of values with one element for each column or\n\t\t * an object in the same format as the original data source. The function is\n\t\t * self-referencing in order to make the multi column updates easier.\n\t\t *  @param {object|array|string} mData Data to update the cell/row with\n\t\t *  @param {node|int} mRow TR element you want to update or the aoData index\n\t\t *  @param {int} [iColumn] The column to update (not used of mData is an array or object)\n\t\t *  @param {bool} [bRedraw=true] Redraw the table or not\n\t\t *  @param {bool} [bAction=true] Perform pre-draw actions or not\n\t\t *  @returns {int} 0 on success, 1 on error\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      var oTable = $('#example').dataTable();\n\t\t *      oTable.fnUpdate( 'Example update', 0, 0 ); // Single cell\n\t\t *      oTable.fnUpdate( ['a', 'b', 'c', 'd', 'e'], 1, 0 ); // Row\n\t\t *    } );\n\t\t */\n\t\tthis.fnUpdate = function( mData, mRow, iColumn, bRedraw, bAction )\n\t\t{\n\t\t\tvar oSettings = _fnSettingsFromNode( this[DataTable.ext.iApiIndex] );\n\t\t\tvar i, iLen, sDisplay;\n\t\t\tvar iRow = (typeof mRow === 'object') ? \n\t\t\t\t_fnNodeToDataIndex(oSettings, mRow) : mRow;\n\t\t\t\n\t\t\tif ( $.isArray(mData) && iColumn === undefined )\n\t\t\t{\n\t\t\t\t/* Array update - update the whole row */\n\t\t\t\toSettings.aoData[iRow]._aData = mData.slice();\n\t\t\t\t\n\t\t\t\t/* Flag to the function that we are recursing */\n\t\t\t\tfor ( i=0 ; i<oSettings.aoColumns.length ; i++ )\n\t\t\t\t{\n\t\t\t\t\tthis.fnUpdate( _fnGetCellData( oSettings, iRow, i ), iRow, i, false, false );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ( $.isPlainObject(mData) && iColumn === undefined )\n\t\t\t{\n\t\t\t\t/* Object update - update the whole row - assume the developer gets the object right */\n\t\t\t\toSettings.aoData[iRow]._aData = $.extend( true, {}, mData );\n\t\t\n\t\t\t\tfor ( i=0 ; i<oSettings.aoColumns.length ; i++ )\n\t\t\t\t{\n\t\t\t\t\tthis.fnUpdate( _fnGetCellData( oSettings, iRow, i ), iRow, i, false, false );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t/* Individual cell update */\n\t\t\t\t_fnSetCellData( oSettings, iRow, iColumn, mData );\n\t\t\t\tsDisplay = _fnGetCellData( oSettings, iRow, iColumn, 'display' );\n\t\t\t\t\n\t\t\t\tvar oCol = oSettings.aoColumns[iColumn];\n\t\t\t\tif ( oCol.fnRender !== null )\n\t\t\t\t{\n\t\t\t\t\tsDisplay = _fnRender( oSettings, iRow, iColumn );\n\t\t\t\t\tif ( oCol.bUseRendered )\n\t\t\t\t\t{\n\t\t\t\t\t\t_fnSetCellData( oSettings, iRow, iColumn, sDisplay );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ( oSettings.aoData[iRow].nTr !== null )\n\t\t\t\t{\n\t\t\t\t\t/* Do the actual HTML update */\n\t\t\t\t\t_fnGetTdNodes( oSettings, iRow )[iColumn].innerHTML = sDisplay;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* Modify the search index for this row (strictly this is likely not needed, since fnReDraw\n\t\t\t * will rebuild the search array - however, the redraw might be disabled by the user)\n\t\t\t */\n\t\t\tvar iDisplayIndex = $.inArray( iRow, oSettings.aiDisplay );\n\t\t\toSettings.asDataSearch[iDisplayIndex] = _fnBuildSearchRow(\n\t\t\t\toSettings, \n\t\t\t\t_fnGetRowData( oSettings, iRow, 'filter', _fnGetColumns( oSettings, 'bSearchable' ) )\n\t\t\t);\n\t\t\t\n\t\t\t/* Perform pre-draw actions */\n\t\t\tif ( bAction === undefined || bAction )\n\t\t\t{\n\t\t\t\t_fnAdjustColumnSizing( oSettings );\n\t\t\t}\n\t\t\t\n\t\t\t/* Redraw the table */\n\t\t\tif ( bRedraw === undefined || bRedraw )\n\t\t\t{\n\t\t\t\t_fnReDraw( oSettings );\n\t\t\t}\n\t\t\treturn 0;\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\t * Provide a common method for plug-ins to check the version of DataTables being used, in order\n\t\t * to ensure compatibility.\n\t\t *  @param {string} sVersion Version string to check for, in the format \"X.Y.Z\". Note that the\n\t\t *    formats \"X\" and \"X.Y\" are also acceptable.\n\t\t *  @returns {boolean} true if this version of DataTables is greater or equal to the required\n\t\t *    version, or false if this version of DataTales is not suitable\n\t\t *  @method\n\t\t *  @dtopt API\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      var oTable = $('#example').dataTable();\n\t\t *      alert( oTable.fnVersionCheck( '1.9.0' ) );\n\t\t *    } );\n\t\t */\n\t\tthis.fnVersionCheck = DataTable.ext.fnVersionCheck;\n\t\t\n\t\t\n\t\t/*\n\t\t * This is really a good bit rubbish this method of exposing the internal methods\n\t\t * publicly... - To be fixed in 2.0 using methods on the prototype\n\t\t */\n\t\t\n\t\t\n\t\t/**\n\t\t * Create a wrapper function for exporting an internal functions to an external API.\n\t\t *  @param {string} sFunc API function name\n\t\t *  @returns {function} wrapped function\n\t\t *  @memberof DataTable#oApi\n\t\t */\n\t\tfunction _fnExternApiFunc (sFunc)\n\t\t{\n\t\t\treturn function() {\n\t\t\t\tvar aArgs = [_fnSettingsFromNode(this[DataTable.ext.iApiIndex])].concat( \n\t\t\t\t\tArray.prototype.slice.call(arguments) );\n\t\t\t\treturn DataTable.ext.oApi[sFunc].apply( this, aArgs );\n\t\t\t};\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Reference to internal functions for use by plug-in developers. Note that these\n\t\t * methods are references to internal functions and are considered to be private.\n\t\t * If you use these methods, be aware that they are liable to change between versions\n\t\t * (check the upgrade notes).\n\t\t *  @namespace\n\t\t */\n\t\tthis.oApi = {\n\t\t\t\"_fnExternApiFunc\": _fnExternApiFunc,\n\t\t\t\"_fnInitialise\": _fnInitialise,\n\t\t\t\"_fnInitComplete\": _fnInitComplete,\n\t\t\t\"_fnLanguageCompat\": _fnLanguageCompat,\n\t\t\t\"_fnAddColumn\": _fnAddColumn,\n\t\t\t\"_fnColumnOptions\": _fnColumnOptions,\n\t\t\t\"_fnAddData\": _fnAddData,\n\t\t\t\"_fnCreateTr\": _fnCreateTr,\n\t\t\t\"_fnGatherData\": _fnGatherData,\n\t\t\t\"_fnBuildHead\": _fnBuildHead,\n\t\t\t\"_fnDrawHead\": _fnDrawHead,\n\t\t\t\"_fnDraw\": _fnDraw,\n\t\t\t\"_fnReDraw\": _fnReDraw,\n\t\t\t\"_fnAjaxUpdate\": _fnAjaxUpdate,\n\t\t\t\"_fnAjaxParameters\": _fnAjaxParameters,\n\t\t\t\"_fnAjaxUpdateDraw\": _fnAjaxUpdateDraw,\n\t\t\t\"_fnServerParams\": _fnServerParams,\n\t\t\t\"_fnAddOptionsHtml\": _fnAddOptionsHtml,\n\t\t\t\"_fnFeatureHtmlTable\": _fnFeatureHtmlTable,\n\t\t\t\"_fnScrollDraw\": _fnScrollDraw,\n\t\t\t\"_fnAdjustColumnSizing\": _fnAdjustColumnSizing,\n\t\t\t\"_fnFeatureHtmlFilter\": _fnFeatureHtmlFilter,\n\t\t\t\"_fnFilterComplete\": _fnFilterComplete,\n\t\t\t\"_fnFilterCustom\": _fnFilterCustom,\n\t\t\t\"_fnFilterColumn\": _fnFilterColumn,\n\t\t\t\"_fnFilter\": _fnFilter,\n\t\t\t\"_fnBuildSearchArray\": _fnBuildSearchArray,\n\t\t\t\"_fnBuildSearchRow\": _fnBuildSearchRow,\n\t\t\t\"_fnFilterCreateSearch\": _fnFilterCreateSearch,\n\t\t\t\"_fnDataToSearch\": _fnDataToSearch,\n\t\t\t\"_fnSort\": _fnSort,\n\t\t\t\"_fnSortAttachListener\": _fnSortAttachListener,\n\t\t\t\"_fnSortingClasses\": _fnSortingClasses,\n\t\t\t\"_fnFeatureHtmlPaginate\": _fnFeatureHtmlPaginate,\n\t\t\t\"_fnPageChange\": _fnPageChange,\n\t\t\t\"_fnFeatureHtmlInfo\": _fnFeatureHtmlInfo,\n\t\t\t\"_fnUpdateInfo\": _fnUpdateInfo,\n\t\t\t\"_fnFeatureHtmlLength\": _fnFeatureHtmlLength,\n\t\t\t\"_fnFeatureHtmlProcessing\": _fnFeatureHtmlProcessing,\n\t\t\t\"_fnProcessingDisplay\": _fnProcessingDisplay,\n\t\t\t\"_fnVisibleToColumnIndex\": _fnVisibleToColumnIndex,\n\t\t\t\"_fnColumnIndexToVisible\": _fnColumnIndexToVisible,\n\t\t\t\"_fnNodeToDataIndex\": _fnNodeToDataIndex,\n\t\t\t\"_fnVisbleColumns\": _fnVisbleColumns,\n\t\t\t\"_fnCalculateEnd\": _fnCalculateEnd,\n\t\t\t\"_fnConvertToWidth\": _fnConvertToWidth,\n\t\t\t\"_fnCalculateColumnWidths\": _fnCalculateColumnWidths,\n\t\t\t\"_fnScrollingWidthAdjust\": _fnScrollingWidthAdjust,\n\t\t\t\"_fnGetWidestNode\": _fnGetWidestNode,\n\t\t\t\"_fnGetMaxLenString\": _fnGetMaxLenString,\n\t\t\t\"_fnStringToCss\": _fnStringToCss,\n\t\t\t\"_fnDetectType\": _fnDetectType,\n\t\t\t\"_fnSettingsFromNode\": _fnSettingsFromNode,\n\t\t\t\"_fnGetDataMaster\": _fnGetDataMaster,\n\t\t\t\"_fnGetTrNodes\": _fnGetTrNodes,\n\t\t\t\"_fnGetTdNodes\": _fnGetTdNodes,\n\t\t\t\"_fnEscapeRegex\": _fnEscapeRegex,\n\t\t\t\"_fnDeleteIndex\": _fnDeleteIndex,\n\t\t\t\"_fnReOrderIndex\": _fnReOrderIndex,\n\t\t\t\"_fnColumnOrdering\": _fnColumnOrdering,\n\t\t\t\"_fnLog\": _fnLog,\n\t\t\t\"_fnClearTable\": _fnClearTable,\n\t\t\t\"_fnSaveState\": _fnSaveState,\n\t\t\t\"_fnLoadState\": _fnLoadState,\n\t\t\t\"_fnCreateCookie\": _fnCreateCookie,\n\t\t\t\"_fnReadCookie\": _fnReadCookie,\n\t\t\t\"_fnDetectHeader\": _fnDetectHeader,\n\t\t\t\"_fnGetUniqueThs\": _fnGetUniqueThs,\n\t\t\t\"_fnScrollBarWidth\": _fnScrollBarWidth,\n\t\t\t\"_fnApplyToChildren\": _fnApplyToChildren,\n\t\t\t\"_fnMap\": _fnMap,\n\t\t\t\"_fnGetRowData\": _fnGetRowData,\n\t\t\t\"_fnGetCellData\": _fnGetCellData,\n\t\t\t\"_fnSetCellData\": _fnSetCellData,\n\t\t\t\"_fnGetObjectDataFn\": _fnGetObjectDataFn,\n\t\t\t\"_fnSetObjectDataFn\": _fnSetObjectDataFn,\n\t\t\t\"_fnApplyColumnDefs\": _fnApplyColumnDefs,\n\t\t\t\"_fnBindAction\": _fnBindAction,\n\t\t\t\"_fnExtend\": _fnExtend,\n\t\t\t\"_fnCallbackReg\": _fnCallbackReg,\n\t\t\t\"_fnCallbackFire\": _fnCallbackFire,\n\t\t\t\"_fnJsonString\": _fnJsonString,\n\t\t\t\"_fnRender\": _fnRender,\n\t\t\t\"_fnNodeToColumnIndex\": _fnNodeToColumnIndex,\n\t\t\t\"_fnInfoMacros\": _fnInfoMacros,\n\t\t\t\"_fnBrowserDetect\": _fnBrowserDetect,\n\t\t\t\"_fnGetColumns\": _fnGetColumns\n\t\t};\n\t\t\n\t\t$.extend( DataTable.ext.oApi, this.oApi );\n\t\t\n\t\tfor ( var sFunc in DataTable.ext.oApi )\n\t\t{\n\t\t\tif ( sFunc )\n\t\t\t{\n\t\t\t\tthis[sFunc] = _fnExternApiFunc(sFunc);\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tvar _that = this;\n\t\tthis.each(function() {\n\t\t\tvar i=0, iLen, j, jLen, k, kLen;\n\t\t\tvar sId = this.getAttribute( 'id' );\n\t\t\tvar bInitHandedOff = false;\n\t\t\tvar bUsePassedData = false;\n\t\t\t\n\t\t\t\n\t\t\t/* Sanity check */\n\t\t\tif ( this.nodeName.toLowerCase() != 'table' )\n\t\t\t{\n\t\t\t\t_fnLog( null, 0, \"Attempted to initialise DataTables on a node which is not a \"+\n\t\t\t\t\t\"table: \"+this.nodeName );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\t/* Check to see if we are re-initialising a table */\n\t\t\tfor ( i=0, iLen=DataTable.settings.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\t/* Base check on table node */\n\t\t\t\tif ( DataTable.settings[i].nTable == this )\n\t\t\t\t{\n\t\t\t\t\tif ( oInit === undefined || oInit.bRetrieve )\n\t\t\t\t\t{\n\t\t\t\t\t\treturn DataTable.settings[i].oInstance;\n\t\t\t\t\t}\n\t\t\t\t\telse if ( oInit.bDestroy )\n\t\t\t\t\t{\n\t\t\t\t\t\tDataTable.settings[i].oInstance.fnDestroy();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t_fnLog( DataTable.settings[i], 0, \"Cannot reinitialise DataTable.\\n\\n\"+\n\t\t\t\t\t\t\t\"To retrieve the DataTables object for this table, pass no arguments or see \"+\n\t\t\t\t\t\t\t\"the docs for bRetrieve and bDestroy\" );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* If the element we are initialising has the same ID as a table which was previously\n\t\t\t\t * initialised, but the table nodes don't match (from before) then we destroy the old\n\t\t\t\t * instance by simply deleting it. This is under the assumption that the table has been\n\t\t\t\t * destroyed by other methods. Anyone using non-id selectors will need to do this manually\n\t\t\t\t */\n\t\t\t\tif ( DataTable.settings[i].sTableId == this.id )\n\t\t\t\t{\n\t\t\t\t\tDataTable.settings.splice( i, 1 );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* Ensure the table has an ID - required for accessibility */\n\t\t\tif ( sId === null || sId === \"\" )\n\t\t\t{\n\t\t\t\tsId = \"DataTables_Table_\"+(DataTable.ext._oExternConfig.iNextUnique++);\n\t\t\t\tthis.id = sId;\n\t\t\t}\n\t\t\t\n\t\t\t/* Create the settings object for this table and set some of the default parameters */\n\t\t\tvar oSettings = $.extend( true, {}, DataTable.models.oSettings, {\n\t\t\t\t\"nTable\":        this,\n\t\t\t\t\"oApi\":          _that.oApi,\n\t\t\t\t\"oInit\":         oInit,\n\t\t\t\t\"sDestroyWidth\": $(this).width(),\n\t\t\t\t\"sInstance\":     sId,\n\t\t\t\t\"sTableId\":      sId\n\t\t\t} );\n\t\t\tDataTable.settings.push( oSettings );\n\t\t\t\n\t\t\t// Need to add the instance after the instance after the settings object has been added\n\t\t\t// to the settings array, so we can self reference the table instance if more than one\n\t\t\toSettings.oInstance = (_that.length===1) ? _that : $(this).dataTable();\n\t\t\t\n\t\t\t/* Setting up the initialisation object */\n\t\t\tif ( !oInit )\n\t\t\t{\n\t\t\t\toInit = {};\n\t\t\t}\n\t\t\t\n\t\t\t// Backwards compatibility, before we apply all the defaults\n\t\t\tif ( oInit.oLanguage )\n\t\t\t{\n\t\t\t\t_fnLanguageCompat( oInit.oLanguage );\n\t\t\t}\n\t\t\t\n\t\t\toInit = _fnExtend( $.extend(true, {}, DataTable.defaults), oInit );\n\t\t\t\n\t\t\t// Map the initialisation options onto the settings object\n\t\t\t_fnMap( oSettings.oFeatures, oInit, \"bPaginate\" );\n\t\t\t_fnMap( oSettings.oFeatures, oInit, \"bLengthChange\" );\n\t\t\t_fnMap( oSettings.oFeatures, oInit, \"bFilter\" );\n\t\t\t_fnMap( oSettings.oFeatures, oInit, \"bSort\" );\n\t\t\t_fnMap( oSettings.oFeatures, oInit, \"bInfo\" );\n\t\t\t_fnMap( oSettings.oFeatures, oInit, \"bProcessing\" );\n\t\t\t_fnMap( oSettings.oFeatures, oInit, \"bAutoWidth\" );\n\t\t\t_fnMap( oSettings.oFeatures, oInit, \"bSortClasses\" );\n\t\t\t_fnMap( oSettings.oFeatures, oInit, \"bServerSide\" );\n\t\t\t_fnMap( oSettings.oFeatures, oInit, \"bDeferRender\" );\n\t\t\t_fnMap( oSettings.oScroll, oInit, \"sScrollX\", \"sX\" );\n\t\t\t_fnMap( oSettings.oScroll, oInit, \"sScrollXInner\", \"sXInner\" );\n\t\t\t_fnMap( oSettings.oScroll, oInit, \"sScrollY\", \"sY\" );\n\t\t\t_fnMap( oSettings.oScroll, oInit, \"bScrollCollapse\", \"bCollapse\" );\n\t\t\t_fnMap( oSettings.oScroll, oInit, \"bScrollInfinite\", \"bInfinite\" );\n\t\t\t_fnMap( oSettings.oScroll, oInit, \"iScrollLoadGap\", \"iLoadGap\" );\n\t\t\t_fnMap( oSettings.oScroll, oInit, \"bScrollAutoCss\", \"bAutoCss\" );\n\t\t\t_fnMap( oSettings, oInit, \"asStripeClasses\" );\n\t\t\t_fnMap( oSettings, oInit, \"asStripClasses\", \"asStripeClasses\" ); // legacy\n\t\t\t_fnMap( oSettings, oInit, \"fnServerData\" );\n\t\t\t_fnMap( oSettings, oInit, \"fnFormatNumber\" );\n\t\t\t_fnMap( oSettings, oInit, \"sServerMethod\" );\n\t\t\t_fnMap( oSettings, oInit, \"aaSorting\" );\n\t\t\t_fnMap( oSettings, oInit, \"aaSortingFixed\" );\n\t\t\t_fnMap( oSettings, oInit, \"aLengthMenu\" );\n\t\t\t_fnMap( oSettings, oInit, \"sPaginationType\" );\n\t\t\t_fnMap( oSettings, oInit, \"sAjaxSource\" );\n\t\t\t_fnMap( oSettings, oInit, \"sAjaxDataProp\" );\n\t\t\t_fnMap( oSettings, oInit, \"iCookieDuration\" );\n\t\t\t_fnMap( oSettings, oInit, \"sCookiePrefix\" );\n\t\t\t_fnMap( oSettings, oInit, \"sDom\" );\n\t\t\t_fnMap( oSettings, oInit, \"bSortCellsTop\" );\n\t\t\t_fnMap( oSettings, oInit, \"iTabIndex\" );\n\t\t\t_fnMap( oSettings, oInit, \"oSearch\", \"oPreviousSearch\" );\n\t\t\t_fnMap( oSettings, oInit, \"aoSearchCols\", \"aoPreSearchCols\" );\n\t\t\t_fnMap( oSettings, oInit, \"iDisplayLength\", \"_iDisplayLength\" );\n\t\t\t_fnMap( oSettings, oInit, \"bJQueryUI\", \"bJUI\" );\n\t\t\t_fnMap( oSettings, oInit, \"fnCookieCallback\" );\n\t\t\t_fnMap( oSettings, oInit, \"fnStateLoad\" );\n\t\t\t_fnMap( oSettings, oInit, \"fnStateSave\" );\n\t\t\t_fnMap( oSettings.oLanguage, oInit, \"fnInfoCallback\" );\n\t\t\t\n\t\t\t/* Callback functions which are array driven */\n\t\t\t_fnCallbackReg( oSettings, 'aoDrawCallback',       oInit.fnDrawCallback,      'user' );\n\t\t\t_fnCallbackReg( oSettings, 'aoServerParams',       oInit.fnServerParams,      'user' );\n\t\t\t_fnCallbackReg( oSettings, 'aoStateSaveParams',    oInit.fnStateSaveParams,   'user' );\n\t\t\t_fnCallbackReg( oSettings, 'aoStateLoadParams',    oInit.fnStateLoadParams,   'user' );\n\t\t\t_fnCallbackReg( oSettings, 'aoStateLoaded',        oInit.fnStateLoaded,       'user' );\n\t\t\t_fnCallbackReg( oSettings, 'aoRowCallback',        oInit.fnRowCallback,       'user' );\n\t\t\t_fnCallbackReg( oSettings, 'aoRowCreatedCallback', oInit.fnCreatedRow,        'user' );\n\t\t\t_fnCallbackReg( oSettings, 'aoHeaderCallback',     oInit.fnHeaderCallback,    'user' );\n\t\t\t_fnCallbackReg( oSettings, 'aoFooterCallback',     oInit.fnFooterCallback,    'user' );\n\t\t\t_fnCallbackReg( oSettings, 'aoInitComplete',       oInit.fnInitComplete,      'user' );\n\t\t\t_fnCallbackReg( oSettings, 'aoPreDrawCallback',    oInit.fnPreDrawCallback,   'user' );\n\t\t\t\n\t\t\tif ( oSettings.oFeatures.bServerSide && oSettings.oFeatures.bSort &&\n\t\t\t\t   oSettings.oFeatures.bSortClasses )\n\t\t\t{\n\t\t\t\t/* Enable sort classes for server-side processing. Safe to do it here, since server-side\n\t\t\t\t * processing must be enabled by the developer\n\t\t\t\t */\n\t\t\t\t_fnCallbackReg( oSettings, 'aoDrawCallback', _fnSortingClasses, 'server_side_sort_classes' );\n\t\t\t}\n\t\t\telse if ( oSettings.oFeatures.bDeferRender )\n\t\t\t{\n\t\t\t\t_fnCallbackReg( oSettings, 'aoDrawCallback', _fnSortingClasses, 'defer_sort_classes' );\n\t\t\t}\n\t\t\t\n\t\t\tif ( oInit.bJQueryUI )\n\t\t\t{\n\t\t\t\t/* Use the JUI classes object for display. You could clone the oStdClasses object if \n\t\t\t\t * you want to have multiple tables with multiple independent classes \n\t\t\t\t */\n\t\t\t\t$.extend( oSettings.oClasses, DataTable.ext.oJUIClasses );\n\t\t\t\t\n\t\t\t\tif ( oInit.sDom === DataTable.defaults.sDom && DataTable.defaults.sDom === \"lfrtip\" )\n\t\t\t\t{\n\t\t\t\t\t/* Set the DOM to use a layout suitable for jQuery UI's theming */\n\t\t\t\t\toSettings.sDom = '<\"H\"lfr>t<\"F\"ip>';\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$.extend( oSettings.oClasses, DataTable.ext.oStdClasses );\n\t\t\t}\n\t\t\t$(this).addClass( oSettings.oClasses.sTable );\n\t\t\t\n\t\t\t/* Calculate the scroll bar width and cache it for use later on */\n\t\t\tif ( oSettings.oScroll.sX !== \"\" || oSettings.oScroll.sY !== \"\" )\n\t\t\t{\n\t\t\t\toSettings.oScroll.iBarWidth = _fnScrollBarWidth();\n\t\t\t}\n\t\t\t\n\t\t\tif ( oSettings.iInitDisplayStart === undefined )\n\t\t\t{\n\t\t\t\t/* Display start point, taking into account the save saving */\n\t\t\t\toSettings.iInitDisplayStart = oInit.iDisplayStart;\n\t\t\t\toSettings._iDisplayStart = oInit.iDisplayStart;\n\t\t\t}\n\t\t\t\n\t\t\t/* Must be done after everything which can be overridden by a cookie! */\n\t\t\tif ( oInit.bStateSave )\n\t\t\t{\n\t\t\t\toSettings.oFeatures.bStateSave = true;\n\t\t\t\t_fnLoadState( oSettings, oInit );\n\t\t\t\t_fnCallbackReg( oSettings, 'aoDrawCallback', _fnSaveState, 'state_save' );\n\t\t\t}\n\t\t\t\n\t\t\tif ( oInit.iDeferLoading !== null )\n\t\t\t{\n\t\t\t\toSettings.bDeferLoading = true;\n\t\t\t\tvar tmp = $.isArray( oInit.iDeferLoading );\n\t\t\t\toSettings._iRecordsDisplay = tmp ? oInit.iDeferLoading[0] : oInit.iDeferLoading;\n\t\t\t\toSettings._iRecordsTotal = tmp ? oInit.iDeferLoading[1] : oInit.iDeferLoading;\n\t\t\t}\n\t\t\t\n\t\t\tif ( oInit.aaData !== null )\n\t\t\t{\n\t\t\t\tbUsePassedData = true;\n\t\t\t}\n\t\t\t\n\t\t\t/* Language definitions */\n\t\t\tif ( oInit.oLanguage.sUrl !== \"\" )\n\t\t\t{\n\t\t\t\t/* Get the language definitions from a file - because this Ajax call makes the language\n\t\t\t\t * get async to the remainder of this function we use bInitHandedOff to indicate that \n\t\t\t\t * _fnInitialise will be fired by the returned Ajax handler, rather than the constructor\n\t\t\t\t */\n\t\t\t\toSettings.oLanguage.sUrl = oInit.oLanguage.sUrl;\n\t\t\t\t$.getJSON( oSettings.oLanguage.sUrl, null, function( json ) {\n\t\t\t\t\t_fnLanguageCompat( json );\n\t\t\t\t\t$.extend( true, oSettings.oLanguage, oInit.oLanguage, json );\n\t\t\t\t\t_fnInitialise( oSettings );\n\t\t\t\t} );\n\t\t\t\tbInitHandedOff = true;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$.extend( true, oSettings.oLanguage, oInit.oLanguage );\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t/*\n\t\t\t * Stripes\n\t\t\t */\n\t\t\tif ( oInit.asStripeClasses === null )\n\t\t\t{\n\t\t\t\toSettings.asStripeClasses =[\n\t\t\t\t\toSettings.oClasses.sStripeOdd,\n\t\t\t\t\toSettings.oClasses.sStripeEven\n\t\t\t\t];\n\t\t\t}\n\t\t\t\n\t\t\t/* Remove row stripe classes if they are already on the table row */\n\t\t\tiLen=oSettings.asStripeClasses.length;\n\t\t\toSettings.asDestroyStripes = [];\n\t\t\tif (iLen)\n\t\t\t{\n\t\t\t\tvar bStripeRemove = false;\n\t\t\t\tvar anRows = $(this).children('tbody').children('tr:lt(' + iLen + ')');\n\t\t\t\tfor ( i=0 ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\tif ( anRows.hasClass( oSettings.asStripeClasses[i] ) )\n\t\t\t\t\t{\n\t\t\t\t\t\tbStripeRemove = true;\n\t\t\t\t\t\t\n\t\t\t\t\t\t/* Store the classes which we are about to remove so they can be re-added on destroy */\n\t\t\t\t\t\toSettings.asDestroyStripes.push( oSettings.asStripeClasses[i] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ( bStripeRemove )\n\t\t\t\t{\n\t\t\t\t\tanRows.removeClass( oSettings.asStripeClasses.join(' ') );\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/*\n\t\t\t * Columns\n\t\t\t * See if we should load columns automatically or use defined ones\n\t\t\t */\n\t\t\tvar anThs = [];\n\t\t\tvar aoColumnsInit;\n\t\t\tvar nThead = this.getElementsByTagName('thead');\n\t\t\tif ( nThead.length !== 0 )\n\t\t\t{\n\t\t\t\t_fnDetectHeader( oSettings.aoHeader, nThead[0] );\n\t\t\t\tanThs = _fnGetUniqueThs( oSettings );\n\t\t\t}\n\t\t\t\n\t\t\t/* If not given a column array, generate one with nulls */\n\t\t\tif ( oInit.aoColumns === null )\n\t\t\t{\n\t\t\t\taoColumnsInit = [];\n\t\t\t\tfor ( i=0, iLen=anThs.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\taoColumnsInit.push( null );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\taoColumnsInit = oInit.aoColumns;\n\t\t\t}\n\t\t\t\n\t\t\t/* Add the columns */\n\t\t\tfor ( i=0, iLen=aoColumnsInit.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\t/* Short cut - use the loop to check if we have column visibility state to restore */\n\t\t\t\tif ( oInit.saved_aoColumns !== undefined && oInit.saved_aoColumns.length == iLen )\n\t\t\t\t{\n\t\t\t\t\tif ( aoColumnsInit[i] === null )\n\t\t\t\t\t{\n\t\t\t\t\t\taoColumnsInit[i] = {};\n\t\t\t\t\t}\n\t\t\t\t\taoColumnsInit[i].bVisible = oInit.saved_aoColumns[i].bVisible;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t_fnAddColumn( oSettings, anThs ? anThs[i] : null );\n\t\t\t}\n\t\t\t\n\t\t\t/* Apply the column definitions */\n\t\t\t_fnApplyColumnDefs( oSettings, oInit.aoColumnDefs, aoColumnsInit, function (iCol, oDef) {\n\t\t\t\t_fnColumnOptions( oSettings, iCol, oDef );\n\t\t\t} );\n\t\t\t\n\t\t\t\n\t\t\t/*\n\t\t\t * Sorting\n\t\t\t * Check the aaSorting array\n\t\t\t */\n\t\t\tfor ( i=0, iLen=oSettings.aaSorting.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tif ( oSettings.aaSorting[i][0] >= oSettings.aoColumns.length )\n\t\t\t\t{\n\t\t\t\t\toSettings.aaSorting[i][0] = 0;\n\t\t\t\t}\n\t\t\t\tvar oColumn = oSettings.aoColumns[ oSettings.aaSorting[i][0] ];\n\t\t\t\t\n\t\t\t\t/* Add a default sorting index */\n\t\t\t\tif ( oSettings.aaSorting[i][2] === undefined )\n\t\t\t\t{\n\t\t\t\t\toSettings.aaSorting[i][2] = 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* If aaSorting is not defined, then we use the first indicator in asSorting */\n\t\t\t\tif ( oInit.aaSorting === undefined && oSettings.saved_aaSorting === undefined )\n\t\t\t\t{\n\t\t\t\t\toSettings.aaSorting[i][1] = oColumn.asSorting[0];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* Set the current sorting index based on aoColumns.asSorting */\n\t\t\t\tfor ( j=0, jLen=oColumn.asSorting.length ; j<jLen ; j++ )\n\t\t\t\t{\n\t\t\t\t\tif ( oSettings.aaSorting[i][1] == oColumn.asSorting[j] )\n\t\t\t\t\t{\n\t\t\t\t\t\toSettings.aaSorting[i][2] = j;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\t\n\t\t\t/* Do a first pass on the sorting classes (allows any size changes to be taken into\n\t\t\t * account, and also will apply sorting disabled classes if disabled\n\t\t\t */\n\t\t\t_fnSortingClasses( oSettings );\n\t\t\t\n\t\t\t\n\t\t\t/*\n\t\t\t * Final init\n\t\t\t * Cache the header, body and footer as required, creating them if needed\n\t\t\t */\n\t\t\t\n\t\t\t/* Browser support detection */\n\t\t\t_fnBrowserDetect( oSettings );\n\t\t\t\n\t\t\t// Work around for Webkit bug 83867 - store the caption-side before removing from doc\n\t\t\tvar captions = $(this).children('caption').each( function () {\n\t\t\t\tthis._captionSide = $(this).css('caption-side');\n\t\t\t} );\n\t\t\t\n\t\t\tvar thead = $(this).children('thead');\n\t\t\tif ( thead.length === 0 )\n\t\t\t{\n\t\t\t\tthead = [ document.createElement( 'thead' ) ];\n\t\t\t\tthis.appendChild( thead[0] );\n\t\t\t}\n\t\t\toSettings.nTHead = thead[0];\n\t\t\t\n\t\t\tvar tbody = $(this).children('tbody');\n\t\t\tif ( tbody.length === 0 )\n\t\t\t{\n\t\t\t\ttbody = [ document.createElement( 'tbody' ) ];\n\t\t\t\tthis.appendChild( tbody[0] );\n\t\t\t}\n\t\t\toSettings.nTBody = tbody[0];\n\t\t\toSettings.nTBody.setAttribute( \"role\", \"alert\" );\n\t\t\toSettings.nTBody.setAttribute( \"aria-live\", \"polite\" );\n\t\t\toSettings.nTBody.setAttribute( \"aria-relevant\", \"all\" );\n\t\t\t\n\t\t\tvar tfoot = $(this).children('tfoot');\n\t\t\tif ( tfoot.length === 0 && captions.length > 0 && (oSettings.oScroll.sX !== \"\" || oSettings.oScroll.sY !== \"\") )\n\t\t\t{\n\t\t\t\t// If we are a scrolling table, and no footer has been given, then we need to create\n\t\t\t\t// a tfoot element for the caption element to be appended to\n\t\t\t\ttfoot = [ document.createElement( 'tfoot' ) ];\n\t\t\t\tthis.appendChild( tfoot[0] );\n\t\t\t}\n\t\t\t\n\t\t\tif ( tfoot.length > 0 )\n\t\t\t{\n\t\t\t\toSettings.nTFoot = tfoot[0];\n\t\t\t\t_fnDetectHeader( oSettings.aoFooter, oSettings.nTFoot );\n\t\t\t}\n\t\t\t\n\t\t\t/* Check if there is data passing into the constructor */\n\t\t\tif ( bUsePassedData )\n\t\t\t{\n\t\t\t\tfor ( i=0 ; i<oInit.aaData.length ; i++ )\n\t\t\t\t{\n\t\t\t\t\t_fnAddData( oSettings, oInit.aaData[ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t/* Grab the data from the page */\n\t\t\t\t_fnGatherData( oSettings );\n\t\t\t}\n\t\t\t\n\t\t\t/* Copy the data index array */\n\t\t\toSettings.aiDisplay = oSettings.aiDisplayMaster.slice();\n\t\t\t\n\t\t\t/* Initialisation complete - table can be drawn */\n\t\t\toSettings.bInitialised = true;\n\t\t\t\n\t\t\t/* Check if we need to initialise the table (it might not have been handed off to the\n\t\t\t * language processor)\n\t\t\t */\n\t\t\tif ( bInitHandedOff === false )\n\t\t\t{\n\t\t\t\t_fnInitialise( oSettings );\n\t\t\t}\n\t\t} );\n\t\t_that = null;\n\t\treturn this;\n\t};\n\n\t\n\t\n\t/**\n\t * Provide a common method for plug-ins to check the version of DataTables being used, in order\n\t * to ensure compatibility.\n\t *  @param {string} sVersion Version string to check for, in the format \"X.Y.Z\". Note that the\n\t *    formats \"X\" and \"X.Y\" are also acceptable.\n\t *  @returns {boolean} true if this version of DataTables is greater or equal to the required\n\t *    version, or false if this version of DataTales is not suitable\n\t *  @static\n\t *  @dtopt API-Static\n\t *\n\t *  @example\n\t *    alert( $.fn.dataTable.fnVersionCheck( '1.9.0' ) );\n\t */\n\tDataTable.fnVersionCheck = function( sVersion )\n\t{\n\t\t/* This is cheap, but effective */\n\t\tvar fnZPad = function (Zpad, count)\n\t\t{\n\t\t\twhile(Zpad.length < count) {\n\t\t\t\tZpad += '0';\n\t\t\t}\n\t\t\treturn Zpad;\n\t\t};\n\t\tvar aThis = DataTable.ext.sVersion.split('.');\n\t\tvar aThat = sVersion.split('.');\n\t\tvar sThis = '', sThat = '';\n\t\t\n\t\tfor ( var i=0, iLen=aThat.length ; i<iLen ; i++ )\n\t\t{\n\t\t\tsThis += fnZPad( aThis[i], 3 );\n\t\t\tsThat += fnZPad( aThat[i], 3 );\n\t\t}\n\t\t\n\t\treturn parseInt(sThis, 10) >= parseInt(sThat, 10);\n\t};\n\t\n\t\n\t/**\n\t * Check if a TABLE node is a DataTable table already or not.\n\t *  @param {node} nTable The TABLE node to check if it is a DataTable or not (note that other\n\t *    node types can be passed in, but will always return false).\n\t *  @returns {boolean} true the table given is a DataTable, or false otherwise\n\t *  @static\n\t *  @dtopt API-Static\n\t *\n\t *  @example\n\t *    var ex = document.getElementById('example');\n\t *    if ( ! $.fn.DataTable.fnIsDataTable( ex ) ) {\n\t *      $(ex).dataTable();\n\t *    }\n\t */\n\tDataTable.fnIsDataTable = function ( nTable )\n\t{\n\t\tvar o = DataTable.settings;\n\t\n\t\tfor ( var i=0 ; i<o.length ; i++ )\n\t\t{\n\t\t\tif ( o[i].nTable === nTable || o[i].nScrollHead === nTable || o[i].nScrollFoot === nTable )\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\n\t\treturn false;\n\t};\n\t\n\t\n\t/**\n\t * Get all DataTable tables that have been initialised - optionally you can select to\n\t * get only currently visible tables.\n\t *  @param {boolean} [bVisible=false] Flag to indicate if you want all (default) or \n\t *    visible tables only.\n\t *  @returns {array} Array of TABLE nodes (not DataTable instances) which are DataTables\n\t *  @static\n\t *  @dtopt API-Static\n\t *\n\t *  @example\n\t *    var table = $.fn.dataTable.fnTables(true);\n\t *    if ( table.length > 0 ) {\n\t *      $(table).dataTable().fnAdjustColumnSizing();\n\t *    }\n\t */\n\tDataTable.fnTables = function ( bVisible )\n\t{\n\t\tvar out = [];\n\t\n\t\tjQuery.each( DataTable.settings, function (i, o) {\n\t\t\tif ( !bVisible || (bVisible === true && $(o.nTable).is(':visible')) )\n\t\t\t{\n\t\t\t\tout.push( o.nTable );\n\t\t\t}\n\t\t} );\n\t\n\t\treturn out;\n\t};\n\t\n\n\t/**\n\t * Version string for plug-ins to check compatibility. Allowed format is\n\t * a.b.c.d.e where: a:int, b:int, c:int, d:string(dev|beta), e:int. d and\n\t * e are optional\n\t *  @member\n\t *  @type string\n\t *  @default Version number\n\t */\n\tDataTable.version = \"1.9.4\";\n\n\t/**\n\t * Private data store, containing all of the settings objects that are created for the\n\t * tables on a given page.\n\t * \n\t * Note that the <i>DataTable.settings</i> object is aliased to <i>jQuery.fn.dataTableExt</i> \n\t * through which it may be accessed and manipulated, or <i>jQuery.fn.dataTable.settings</i>.\n\t *  @member\n\t *  @type array\n\t *  @default []\n\t *  @private\n\t */\n\tDataTable.settings = [];\n\n\t/**\n\t * Object models container, for the various models that DataTables has available\n\t * to it. These models define the objects that are used to hold the active state \n\t * and configuration of the table.\n\t *  @namespace\n\t */\n\tDataTable.models = {};\n\t\n\t\n\t/**\n\t * DataTables extension options and plug-ins. This namespace acts as a collection \"area\"\n\t * for plug-ins that can be used to extend the default DataTables behaviour - indeed many\n\t * of the build in methods use this method to provide their own capabilities (sorting methods\n\t * for example).\n\t * \n\t * Note that this namespace is aliased to jQuery.fn.dataTableExt so it can be readily accessed\n\t * and modified by plug-ins.\n\t *  @namespace\n\t */\n\tDataTable.models.ext = {\n\t\t/**\n\t\t * Plug-in filtering functions - this method of filtering is complimentary to the default\n\t\t * type based filtering, and a lot more comprehensive as it allows you complete control\n\t\t * over the filtering logic. Each element in this array is a function (parameters\n\t\t * described below) that is called for every row in the table, and your logic decides if\n\t\t * it should be included in the filtered data set or not.\n\t\t *   <ul>\n\t\t *     <li>\n\t\t *       Function input parameters:\n\t\t *       <ul>\n\t\t *         <li>{object} DataTables settings object: see {@link DataTable.models.oSettings}.</li>\n\t\t *         <li>{array|object} Data for the row to be processed (same as the original format\n\t\t *           that was passed in as the data source, or an array from a DOM data source</li>\n\t\t *         <li>{int} Row index in aoData ({@link DataTable.models.oSettings.aoData}), which can\n\t\t *           be useful to retrieve the TR element if you need DOM interaction.</li>\n\t\t *       </ul>\n\t\t *     </li>\n\t\t *     <li>\n\t\t *       Function return:\n\t\t *       <ul>\n\t\t *         <li>{boolean} Include the row in the filtered result set (true) or not (false)</li>\n\t\t *       </ul>\n\t\t *     </il>\n\t\t *   </ul>\n\t\t *  @type array\n\t\t *  @default []\n\t\t *\n\t\t *  @example\n\t\t *    // The following example shows custom filtering being applied to the fourth column (i.e.\n\t\t *    // the aData[3] index) based on two input values from the end-user, matching the data in \n\t\t *    // a certain range.\n\t\t *    $.fn.dataTableExt.afnFiltering.push(\n\t\t *      function( oSettings, aData, iDataIndex ) {\n\t\t *        var iMin = document.getElementById('min').value * 1;\n\t\t *        var iMax = document.getElementById('max').value * 1;\n\t\t *        var iVersion = aData[3] == \"-\" ? 0 : aData[3]*1;\n\t\t *        if ( iMin == \"\" && iMax == \"\" ) {\n\t\t *          return true;\n\t\t *        }\n\t\t *        else if ( iMin == \"\" && iVersion < iMax ) {\n\t\t *          return true;\n\t\t *        }\n\t\t *        else if ( iMin < iVersion && \"\" == iMax ) {\n\t\t *          return true;\n\t\t *        }\n\t\t *        else if ( iMin < iVersion && iVersion < iMax ) {\n\t\t *          return true;\n\t\t *        }\n\t\t *        return false;\n\t\t *      }\n\t\t *    );\n\t\t */\n\t\t\"afnFiltering\": [],\n\t\n\t\n\t\t/**\n\t\t * Plug-in sorting functions - this method of sorting is complimentary to the default type\n\t\t * based sorting that DataTables does automatically, allowing much greater control over the\n\t\t * the data that is being used to sort a column. This is useful if you want to do sorting\n\t\t * based on live data (for example the contents of an 'input' element) rather than just the\n\t\t * static string that DataTables knows of. The way these plug-ins work is that you create\n\t\t * an array of the values you wish to be sorted for the column in question and then return\n\t\t * that array. Which pre-sorting function is run here depends on the sSortDataType parameter\n\t\t * that is used for the column (if any). This is the corollary of <i>ofnSearch</i> for sort \n\t\t * data.\n\t\t *   <ul>\n\t     *     <li>\n\t     *       Function input parameters:\n\t     *       <ul>\n\t\t *         <li>{object} DataTables settings object: see {@link DataTable.models.oSettings}.</li>\n\t     *         <li>{int} Target column index</li>\n\t     *       </ul>\n\t     *     </li>\n\t\t *     <li>\n\t\t *       Function return:\n\t\t *       <ul>\n\t\t *         <li>{array} Data for the column to be sorted upon</li>\n\t\t *       </ul>\n\t\t *     </il>\n\t\t *   </ul>\n\t\t *  \n\t\t * Note that as of v1.9, it is typically preferable to use <i>mData</i> to prepare data for\n\t\t * the different uses that DataTables can put the data to. Specifically <i>mData</i> when\n\t\t * used as a function will give you a 'type' (sorting, filtering etc) that you can use to \n\t\t * prepare the data as required for the different types. As such, this method is deprecated.\n\t\t *  @type array\n\t\t *  @default []\n\t\t *  @deprecated\n\t\t *\n\t\t *  @example\n\t\t *    // Updating the cached sorting information with user entered values in HTML input elements\n\t\t *    jQuery.fn.dataTableExt.afnSortData['dom-text'] = function ( oSettings, iColumn )\n\t\t *    {\n\t\t *      var aData = [];\n\t\t *      $( 'td:eq('+iColumn+') input', oSettings.oApi._fnGetTrNodes(oSettings) ).each( function () {\n\t\t *        aData.push( this.value );\n\t\t *      } );\n\t\t *      return aData;\n\t\t *    }\n\t\t */\n\t\t\"afnSortData\": [],\n\t\n\t\n\t\t/**\n\t\t * Feature plug-ins - This is an array of objects which describe the feature plug-ins that are\n\t\t * available to DataTables. These feature plug-ins are accessible through the sDom initialisation\n\t\t * option. As such, each feature plug-in must describe a function that is used to initialise\n\t\t * itself (fnInit), a character so the feature can be enabled by sDom (cFeature) and the name\n\t\t * of the feature (sFeature). Thus the objects attached to this method must provide:\n\t\t *   <ul>\n\t\t *     <li>{function} fnInit Initialisation of the plug-in\n\t\t *       <ul>\n\t     *         <li>\n\t     *           Function input parameters:\n\t     *           <ul>\n\t\t *             <li>{object} DataTables settings object: see {@link DataTable.models.oSettings}.</li>\n\t     *           </ul>\n\t     *         </li>\n\t\t *         <li>\n\t\t *           Function return:\n\t\t *           <ul>\n\t\t *             <li>{node|null} The element which contains your feature. Note that the return\n\t\t *                may also be void if your plug-in does not require to inject any DOM elements \n\t\t *                into DataTables control (sDom) - for example this might be useful when \n\t\t *                developing a plug-in which allows table control via keyboard entry.</li>\n\t\t *           </ul>\n\t\t *         </il>\n\t\t *       </ul>\n\t\t *     </li>\n\t\t *     <li>{character} cFeature Character that will be matched in sDom - case sensitive</li>\n\t\t *     <li>{string} sFeature Feature name</li>\n\t\t *   </ul>\n\t\t *  @type array\n\t\t *  @default []\n\t\t * \n\t\t *  @example\n\t\t *    // How TableTools initialises itself.\n\t\t *    $.fn.dataTableExt.aoFeatures.push( {\n\t\t *      \"fnInit\": function( oSettings ) {\n\t\t *        return new TableTools( { \"oDTSettings\": oSettings } );\n\t\t *      },\n\t\t *      \"cFeature\": \"T\",\n\t\t *      \"sFeature\": \"TableTools\"\n\t\t *    } );\n\t\t */\n\t\t\"aoFeatures\": [],\n\t\n\t\n\t\t/**\n\t\t * Type detection plug-in functions - DataTables utilises types to define how sorting and\n\t\t * filtering behave, and types can be either  be defined by the developer (sType for the\n\t\t * column) or they can be automatically detected by the methods in this array. The functions\n\t\t * defined in the array are quite simple, taking a single parameter (the data to analyse) \n\t\t * and returning the type if it is a known type, or null otherwise.\n\t\t *   <ul>\n\t     *     <li>\n\t     *       Function input parameters:\n\t     *       <ul>\n\t\t *         <li>{*} Data from the column cell to be analysed</li>\n\t     *       </ul>\n\t     *     </li>\n\t\t *     <li>\n\t\t *       Function return:\n\t\t *       <ul>\n\t\t *         <li>{string|null} Data type detected, or null if unknown (and thus pass it\n\t\t *           on to the other type detection functions.</li>\n\t\t *       </ul>\n\t\t *     </il>\n\t\t *   </ul>\n\t\t *  @type array\n\t\t *  @default []\n\t\t *  \n\t\t *  @example\n\t\t *    // Currency type detection plug-in:\n\t\t *    jQuery.fn.dataTableExt.aTypes.push(\n\t\t *      function ( sData ) {\n\t\t *        var sValidChars = \"0123456789.-\";\n\t\t *        var Char;\n\t\t *        \n\t\t *        // Check the numeric part\n\t\t *        for ( i=1 ; i<sData.length ; i++ ) {\n\t\t *          Char = sData.charAt(i); \n\t\t *          if (sValidChars.indexOf(Char) == -1) {\n\t\t *            return null;\n\t\t *          }\n\t\t *        }\n\t\t *        \n\t\t *        // Check prefixed by currency\n\t\t *        if ( sData.charAt(0) == '$' || sData.charAt(0) == '&pound;' ) {\n\t\t *          return 'currency';\n\t\t *        }\n\t\t *        return null;\n\t\t *      }\n\t\t *    );\n\t\t */\n\t\t\"aTypes\": [],\n\t\n\t\n\t\t/**\n\t\t * Provide a common method for plug-ins to check the version of DataTables being used, \n\t\t * in order to ensure compatibility.\n\t\t *  @type function\n\t\t *  @param {string} sVersion Version string to check for, in the format \"X.Y.Z\". Note \n\t\t *    that the formats \"X\" and \"X.Y\" are also acceptable.\n\t\t *  @returns {boolean} true if this version of DataTables is greater or equal to the \n\t\t *    required version, or false if this version of DataTales is not suitable\n\t\t *\n\t\t *  @example\n\t\t *    $(document).ready(function() {\n\t\t *      var oTable = $('#example').dataTable();\n\t\t *      alert( oTable.fnVersionCheck( '1.9.0' ) );\n\t\t *    } );\n\t\t */\n\t\t\"fnVersionCheck\": DataTable.fnVersionCheck,\n\t\n\t\n\t\t/**\n\t\t * Index for what 'this' index API functions should use\n\t\t *  @type int\n\t\t *  @default 0\n\t\t */\n\t\t\"iApiIndex\": 0,\n\t\n\t\n\t\t/**\n\t\t * Pre-processing of filtering data plug-ins - When you assign the sType for a column\n\t\t * (or have it automatically detected for you by DataTables or a type detection plug-in), \n\t\t * you will typically be using this for custom sorting, but it can also be used to provide \n\t\t * custom filtering by allowing you to pre-processing the data and returning the data in\n\t\t * the format that should be filtered upon. This is done by adding functions this object \n\t\t * with a parameter name which matches the sType for that target column. This is the\n\t\t * corollary of <i>afnSortData</i> for filtering data.\n\t\t *   <ul>\n\t     *     <li>\n\t     *       Function input parameters:\n\t     *       <ul>\n\t\t *         <li>{*} Data from the column cell to be prepared for filtering</li>\n\t     *       </ul>\n\t     *     </li>\n\t\t *     <li>\n\t\t *       Function return:\n\t\t *       <ul>\n\t\t *         <li>{string|null} Formatted string that will be used for the filtering.</li>\n\t\t *       </ul>\n\t\t *     </il>\n\t\t *   </ul>\n\t\t * \n\t\t * Note that as of v1.9, it is typically preferable to use <i>mData</i> to prepare data for\n\t\t * the different uses that DataTables can put the data to. Specifically <i>mData</i> when\n\t\t * used as a function will give you a 'type' (sorting, filtering etc) that you can use to \n\t\t * prepare the data as required for the different types. As such, this method is deprecated.\n\t\t *  @type object\n\t\t *  @default {}\n\t\t *  @deprecated\n\t\t *\n\t\t *  @example\n\t\t *    $.fn.dataTableExt.ofnSearch['title-numeric'] = function ( sData ) {\n\t\t *      return sData.replace(/\\n/g,\" \").replace( /<.*?>/g, \"\" );\n\t\t *    }\n\t\t */\n\t\t\"ofnSearch\": {},\n\t\n\t\n\t\t/**\n\t\t * Container for all private functions in DataTables so they can be exposed externally\n\t\t *  @type object\n\t\t *  @default {}\n\t\t */\n\t\t\"oApi\": {},\n\t\n\t\n\t\t/**\n\t\t * Storage for the various classes that DataTables uses\n\t\t *  @type object\n\t\t *  @default {}\n\t\t */\n\t\t\"oStdClasses\": {},\n\t\t\n\t\n\t\t/**\n\t\t * Storage for the various classes that DataTables uses - jQuery UI suitable\n\t\t *  @type object\n\t\t *  @default {}\n\t\t */\n\t\t\"oJUIClasses\": {},\n\t\n\t\n\t\t/**\n\t\t * Pagination plug-in methods - The style and controls of the pagination can significantly \n\t\t * impact on how the end user interacts with the data in your table, and DataTables allows \n\t\t * the addition of pagination controls by extending this object, which can then be enabled\n\t\t * through the <i>sPaginationType</i> initialisation parameter. Each pagination type that\n\t\t * is added is an object (the property name of which is what <i>sPaginationType</i> refers\n\t\t * to) that has two properties, both methods that are used by DataTables to update the\n\t\t * control's state.\n\t\t *   <ul>\n\t\t *     <li>\n\t\t *       fnInit -  Initialisation of the paging controls. Called only during initialisation \n\t\t *         of the table. It is expected that this function will add the required DOM elements \n\t\t *         to the page for the paging controls to work. The element pointer \n\t\t *         'oSettings.aanFeatures.p' array is provided by DataTables to contain the paging \n\t\t *         controls (note that this is a 2D array to allow for multiple instances of each \n\t\t *         DataTables DOM element). It is suggested that you add the controls to this element \n\t\t *         as children\n\t\t *       <ul>\n\t     *         <li>\n\t     *           Function input parameters:\n\t     *           <ul>\n\t\t *             <li>{object} DataTables settings object: see {@link DataTable.models.oSettings}.</li>\n\t\t *             <li>{node} Container into which the pagination controls must be inserted</li>\n\t\t *             <li>{function} Draw callback function - whenever the controls cause a page\n\t\t *               change, this method must be called to redraw the table.</li>\n\t     *           </ul>\n\t     *         </li>\n\t\t *         <li>\n\t\t *           Function return:\n\t\t *           <ul>\n\t\t *             <li>No return required</li>\n\t\t *           </ul>\n\t\t *         </il>\n\t\t *       </ul>\n\t\t *     </il>\n\t\t *     <li>\n\t\t *       fnInit -  This function is called whenever the paging status of the table changes and is\n\t\t *         typically used to update classes and/or text of the paging controls to reflex the new \n\t\t *         status.\n\t\t *       <ul>\n\t     *         <li>\n\t     *           Function input parameters:\n\t     *           <ul>\n\t\t *             <li>{object} DataTables settings object: see {@link DataTable.models.oSettings}.</li>\n\t\t *             <li>{function} Draw callback function - in case you need to redraw the table again\n\t\t *               or attach new event listeners</li>\n\t     *           </ul>\n\t     *         </li>\n\t\t *         <li>\n\t\t *           Function return:\n\t\t *           <ul>\n\t\t *             <li>No return required</li>\n\t\t *           </ul>\n\t\t *         </il>\n\t\t *       </ul>\n\t\t *     </il>\n\t\t *   </ul>\n\t\t *  @type object\n\t\t *  @default {}\n\t\t *\n\t\t *  @example\n\t\t *    $.fn.dataTableExt.oPagination.four_button = {\n\t\t *      \"fnInit\": function ( oSettings, nPaging, fnCallbackDraw ) {\n\t\t *        nFirst = document.createElement( 'span' );\n\t\t *        nPrevious = document.createElement( 'span' );\n\t\t *        nNext = document.createElement( 'span' );\n\t\t *        nLast = document.createElement( 'span' );\n\t\t *        \n\t\t *        nFirst.appendChild( document.createTextNode( oSettings.oLanguage.oPaginate.sFirst ) );\n\t\t *        nPrevious.appendChild( document.createTextNode( oSettings.oLanguage.oPaginate.sPrevious ) );\n\t\t *        nNext.appendChild( document.createTextNode( oSettings.oLanguage.oPaginate.sNext ) );\n\t\t *        nLast.appendChild( document.createTextNode( oSettings.oLanguage.oPaginate.sLast ) );\n\t\t *        \n\t\t *        nFirst.className = \"paginate_button first\";\n\t\t *        nPrevious.className = \"paginate_button previous\";\n\t\t *        nNext.className=\"paginate_button next\";\n\t\t *        nLast.className = \"paginate_button last\";\n\t\t *        \n\t\t *        nPaging.appendChild( nFirst );\n\t\t *        nPaging.appendChild( nPrevious );\n\t\t *        nPaging.appendChild( nNext );\n\t\t *        nPaging.appendChild( nLast );\n\t\t *        \n\t\t *        $(nFirst).click( function () {\n\t\t *          oSettings.oApi._fnPageChange( oSettings, \"first\" );\n\t\t *          fnCallbackDraw( oSettings );\n\t\t *        } );\n\t\t *        \n\t\t *        $(nPrevious).click( function() {\n\t\t *          oSettings.oApi._fnPageChange( oSettings, \"previous\" );\n\t\t *          fnCallbackDraw( oSettings );\n\t\t *        } );\n\t\t *        \n\t\t *        $(nNext).click( function() {\n\t\t *          oSettings.oApi._fnPageChange( oSettings, \"next\" );\n\t\t *          fnCallbackDraw( oSettings );\n\t\t *        } );\n\t\t *        \n\t\t *        $(nLast).click( function() {\n\t\t *          oSettings.oApi._fnPageChange( oSettings, \"last\" );\n\t\t *          fnCallbackDraw( oSettings );\n\t\t *        } );\n\t\t *        \n\t\t *        $(nFirst).bind( 'selectstart', function () { return false; } );\n\t\t *        $(nPrevious).bind( 'selectstart', function () { return false; } );\n\t\t *        $(nNext).bind( 'selectstart', function () { return false; } );\n\t\t *        $(nLast).bind( 'selectstart', function () { return false; } );\n\t\t *      },\n\t\t *      \n\t\t *      \"fnUpdate\": function ( oSettings, fnCallbackDraw ) {\n\t\t *        if ( !oSettings.aanFeatures.p ) {\n\t\t *          return;\n\t\t *        }\n\t\t *        \n\t\t *        // Loop over each instance of the pager\n\t\t *        var an = oSettings.aanFeatures.p;\n\t\t *        for ( var i=0, iLen=an.length ; i<iLen ; i++ ) {\n\t\t *          var buttons = an[i].getElementsByTagName('span');\n\t\t *          if ( oSettings._iDisplayStart === 0 ) {\n\t\t *            buttons[0].className = \"paginate_disabled_previous\";\n\t\t *            buttons[1].className = \"paginate_disabled_previous\";\n\t\t *          }\n\t\t *          else {\n\t\t *            buttons[0].className = \"paginate_enabled_previous\";\n\t\t *            buttons[1].className = \"paginate_enabled_previous\";\n\t\t *          }\n\t\t *          \n\t\t *          if ( oSettings.fnDisplayEnd() == oSettings.fnRecordsDisplay() ) {\n\t\t *            buttons[2].className = \"paginate_disabled_next\";\n\t\t *            buttons[3].className = \"paginate_disabled_next\";\n\t\t *          }\n\t\t *          else {\n\t\t *            buttons[2].className = \"paginate_enabled_next\";\n\t\t *            buttons[3].className = \"paginate_enabled_next\";\n\t\t *          }\n\t\t *        }\n\t\t *      }\n\t\t *    };\n\t\t */\n\t\t\"oPagination\": {},\n\t\n\t\n\t\t/**\n\t\t * Sorting plug-in methods - Sorting in DataTables is based on the detected type of the\n\t\t * data column (you can add your own type detection functions, or override automatic \n\t\t * detection using sType). With this specific type given to the column, DataTables will \n\t\t * apply the required sort from the functions in the object. Each sort type must provide\n\t\t * two mandatory methods, one each for ascending and descending sorting, and can optionally\n\t\t * provide a pre-formatting method that will help speed up sorting by allowing DataTables\n\t\t * to pre-format the sort data only once (rather than every time the actual sort functions\n\t\t * are run). The two sorting functions are typical Javascript sort methods:\n\t\t *   <ul>\n\t     *     <li>\n\t     *       Function input parameters:\n\t     *       <ul>\n\t\t *         <li>{*} Data to compare to the second parameter</li>\n\t\t *         <li>{*} Data to compare to the first parameter</li>\n\t     *       </ul>\n\t     *     </li>\n\t\t *     <li>\n\t\t *       Function return:\n\t\t *       <ul>\n\t\t *         <li>{int} Sorting match: <0 if first parameter should be sorted lower than\n\t\t *           the second parameter, ===0 if the two parameters are equal and >0 if\n\t\t *           the first parameter should be sorted height than the second parameter.</li>\n\t\t *       </ul>\n\t\t *     </il>\n\t\t *   </ul>\n\t\t *  @type object\n\t\t *  @default {}\n\t\t *\n\t\t *  @example\n\t\t *    // Case-sensitive string sorting, with no pre-formatting method\n\t\t *    $.extend( $.fn.dataTableExt.oSort, {\n\t\t *      \"string-case-asc\": function(x,y) {\n\t\t *        return ((x < y) ? -1 : ((x > y) ? 1 : 0));\n\t\t *      },\n\t\t *      \"string-case-desc\": function(x,y) {\n\t\t *        return ((x < y) ? 1 : ((x > y) ? -1 : 0));\n\t\t *      }\n\t\t *    } );\n\t\t *\n\t\t *  @example\n\t\t *    // Case-insensitive string sorting, with pre-formatting\n\t\t *    $.extend( $.fn.dataTableExt.oSort, {\n\t\t *      \"string-pre\": function(x) {\n\t\t *        return x.toLowerCase();\n\t\t *      },\n\t\t *      \"string-asc\": function(x,y) {\n\t\t *        return ((x < y) ? -1 : ((x > y) ? 1 : 0));\n\t\t *      },\n\t\t *      \"string-desc\": function(x,y) {\n\t\t *        return ((x < y) ? 1 : ((x > y) ? -1 : 0));\n\t\t *      }\n\t\t *    } );\n\t\t */\n\t\t\"oSort\": {},\n\t\n\t\n\t\t/**\n\t\t * Version string for plug-ins to check compatibility. Allowed format is\n\t\t * a.b.c.d.e where: a:int, b:int, c:int, d:string(dev|beta), e:int. d and\n\t\t * e are optional\n\t\t *  @type string\n\t\t *  @default Version number\n\t\t */\n\t\t\"sVersion\": DataTable.version,\n\t\n\t\n\t\t/**\n\t\t * How should DataTables report an error. Can take the value 'alert' or 'throw'\n\t\t *  @type string\n\t\t *  @default alert\n\t\t */\n\t\t\"sErrMode\": \"alert\",\n\t\n\t\n\t\t/**\n\t\t * Store information for DataTables to access globally about other instances\n\t\t *  @namespace\n\t\t *  @private\n\t\t */\n\t\t\"_oExternConfig\": {\n\t\t\t/* int:iNextUnique - next unique number for an instance */\n\t\t\t\"iNextUnique\": 0\n\t\t}\n\t};\n\t\n\t\n\t\n\t\n\t/**\n\t * Template object for the way in which DataTables holds information about\n\t * search information for the global filter and individual column filters.\n\t *  @namespace\n\t */\n\tDataTable.models.oSearch = {\n\t\t/**\n\t\t * Flag to indicate if the filtering should be case insensitive or not\n\t\t *  @type boolean\n\t\t *  @default true\n\t\t */\n\t\t\"bCaseInsensitive\": true,\n\t\n\t\t/**\n\t\t * Applied search term\n\t\t *  @type string\n\t\t *  @default <i>Empty string</i>\n\t\t */\n\t\t\"sSearch\": \"\",\n\t\n\t\t/**\n\t\t * Flag to indicate if the search term should be interpreted as a\n\t\t * regular expression (true) or not (false) and therefore and special\n\t\t * regex characters escaped.\n\t\t *  @type boolean\n\t\t *  @default false\n\t\t */\n\t\t\"bRegex\": false,\n\t\n\t\t/**\n\t\t * Flag to indicate if DataTables is to use its smart filtering or not.\n\t\t *  @type boolean\n\t\t *  @default true\n\t\t */\n\t\t\"bSmart\": true\n\t};\n\t\n\t\n\t\n\t\n\t/**\n\t * Template object for the way in which DataTables holds information about\n\t * each individual row. This is the object format used for the settings \n\t * aoData array.\n\t *  @namespace\n\t */\n\tDataTable.models.oRow = {\n\t\t/**\n\t\t * TR element for the row\n\t\t *  @type node\n\t\t *  @default null\n\t\t */\n\t\t\"nTr\": null,\n\t\n\t\t/**\n\t\t * Data object from the original data source for the row. This is either\n\t\t * an array if using the traditional form of DataTables, or an object if\n\t\t * using mData options. The exact type will depend on the passed in\n\t\t * data from the data source, or will be an array if using DOM a data \n\t\t * source.\n\t\t *  @type array|object\n\t\t *  @default []\n\t\t */\n\t\t\"_aData\": [],\n\t\n\t\t/**\n\t\t * Sorting data cache - this array is ostensibly the same length as the\n\t\t * number of columns (although each index is generated only as it is \n\t\t * needed), and holds the data that is used for sorting each column in the\n\t\t * row. We do this cache generation at the start of the sort in order that\n\t\t * the formatting of the sort data need be done only once for each cell\n\t\t * per sort. This array should not be read from or written to by anything\n\t\t * other than the master sorting methods.\n\t\t *  @type array\n\t\t *  @default []\n\t\t *  @private\n\t\t */\n\t\t\"_aSortData\": [],\n\t\n\t\t/**\n\t\t * Array of TD elements that are cached for hidden rows, so they can be\n\t\t * reinserted into the table if a column is made visible again (or to act\n\t\t * as a store if a column is made hidden). Only hidden columns have a \n\t\t * reference in the array. For non-hidden columns the value is either\n\t\t * undefined or null.\n\t\t *  @type array nodes\n\t\t *  @default []\n\t\t *  @private\n\t\t */\n\t\t\"_anHidden\": [],\n\t\n\t\t/**\n\t\t * Cache of the class name that DataTables has applied to the row, so we\n\t\t * can quickly look at this variable rather than needing to do a DOM check\n\t\t * on className for the nTr property.\n\t\t *  @type string\n\t\t *  @default <i>Empty string</i>\n\t\t *  @private\n\t\t */\n\t\t\"_sRowStripe\": \"\"\n\t};\n\t\n\t\n\t\n\t/**\n\t * Template object for the column information object in DataTables. This object\n\t * is held in the settings aoColumns array and contains all the information that\n\t * DataTables needs about each individual column.\n\t * \n\t * Note that this object is related to {@link DataTable.defaults.columns} \n\t * but this one is the internal data store for DataTables's cache of columns.\n\t * It should NOT be manipulated outside of DataTables. Any configuration should\n\t * be done through the initialisation options.\n\t *  @namespace\n\t */\n\tDataTable.models.oColumn = {\n\t\t/**\n\t\t * A list of the columns that sorting should occur on when this column\n\t\t * is sorted. That this property is an array allows multi-column sorting\n\t\t * to be defined for a column (for example first name / last name columns\n\t\t * would benefit from this). The values are integers pointing to the\n\t\t * columns to be sorted on (typically it will be a single integer pointing\n\t\t * at itself, but that doesn't need to be the case).\n\t\t *  @type array\n\t\t */\n\t\t\"aDataSort\": null,\n\t\n\t\t/**\n\t\t * Define the sorting directions that are applied to the column, in sequence\n\t\t * as the column is repeatedly sorted upon - i.e. the first value is used\n\t\t * as the sorting direction when the column if first sorted (clicked on).\n\t\t * Sort it again (click again) and it will move on to the next index.\n\t\t * Repeat until loop.\n\t\t *  @type array\n\t\t */\n\t\t\"asSorting\": null,\n\t\t\n\t\t/**\n\t\t * Flag to indicate if the column is searchable, and thus should be included\n\t\t * in the filtering or not.\n\t\t *  @type boolean\n\t\t */\n\t\t\"bSearchable\": null,\n\t\t\n\t\t/**\n\t\t * Flag to indicate if the column is sortable or not.\n\t\t *  @type boolean\n\t\t */\n\t\t\"bSortable\": null,\n\t\t\n\t\t/**\n\t\t * <code>Deprecated</code> When using fnRender, you have two options for what \n\t\t * to do with the data, and this property serves as the switch. Firstly, you \n\t\t * can have the sorting and filtering use the rendered value (true - default), \n\t\t * or you can have the sorting and filtering us the original value (false).\n\t\t *\n\t\t * Please note that this option has now been deprecated and will be removed\n\t\t * in the next version of DataTables. Please use mRender / mData rather than\n\t\t * fnRender.\n\t\t *  @type boolean\n\t\t *  @deprecated\n\t\t */\n\t\t\"bUseRendered\": null,\n\t\t\n\t\t/**\n\t\t * Flag to indicate if the column is currently visible in the table or not\n\t\t *  @type boolean\n\t\t */\n\t\t\"bVisible\": null,\n\t\t\n\t\t/**\n\t\t * Flag to indicate to the type detection method if the automatic type\n\t\t * detection should be used, or if a column type (sType) has been specified\n\t\t *  @type boolean\n\t\t *  @default true\n\t\t *  @private\n\t\t */\n\t\t\"_bAutoType\": true,\n\t\t\n\t\t/**\n\t\t * Developer definable function that is called whenever a cell is created (Ajax source,\n\t\t * etc) or processed for input (DOM source). This can be used as a compliment to mRender\n\t\t * allowing you to modify the DOM element (add background colour for example) when the\n\t\t * element is available.\n\t\t *  @type function\n\t\t *  @param {element} nTd The TD node that has been created\n\t\t *  @param {*} sData The Data for the cell\n\t\t *  @param {array|object} oData The data for the whole row\n\t\t *  @param {int} iRow The row index for the aoData data store\n\t\t *  @default null\n\t\t */\n\t\t\"fnCreatedCell\": null,\n\t\t\n\t\t/**\n\t\t * Function to get data from a cell in a column. You should <b>never</b>\n\t\t * access data directly through _aData internally in DataTables - always use\n\t\t * the method attached to this property. It allows mData to function as\n\t\t * required. This function is automatically assigned by the column \n\t\t * initialisation method\n\t\t *  @type function\n\t\t *  @param {array|object} oData The data array/object for the array \n\t\t *    (i.e. aoData[]._aData)\n\t\t *  @param {string} sSpecific The specific data type you want to get - \n\t\t *    'display', 'type' 'filter' 'sort'\n\t\t *  @returns {*} The data for the cell from the given row's data\n\t\t *  @default null\n\t\t */\n\t\t\"fnGetData\": null,\n\t\t\n\t\t/**\n\t\t * <code>Deprecated</code> Custom display function that will be called for the \n\t\t * display of each cell in this column.\n\t\t *\n\t\t * Please note that this option has now been deprecated and will be removed\n\t\t * in the next version of DataTables. Please use mRender / mData rather than\n\t\t * fnRender.\n\t\t *  @type function\n\t\t *  @param {object} o Object with the following parameters:\n\t\t *  @param {int}    o.iDataRow The row in aoData\n\t\t *  @param {int}    o.iDataColumn The column in question\n\t\t *  @param {array}  o.aData The data for the row in question\n\t\t *  @param {object} o.oSettings The settings object for this DataTables instance\n\t\t *  @returns {string} The string you which to use in the display\n\t\t *  @default null\n\t\t *  @deprecated\n\t\t */\n\t\t\"fnRender\": null,\n\t\t\n\t\t/**\n\t\t * Function to set data for a cell in the column. You should <b>never</b> \n\t\t * set the data directly to _aData internally in DataTables - always use\n\t\t * this method. It allows mData to function as required. This function\n\t\t * is automatically assigned by the column initialisation method\n\t\t *  @type function\n\t\t *  @param {array|object} oData The data array/object for the array \n\t\t *    (i.e. aoData[]._aData)\n\t\t *  @param {*} sValue Value to set\n\t\t *  @default null\n\t\t */\n\t\t\"fnSetData\": null,\n\t\t\n\t\t/**\n\t\t * Property to read the value for the cells in the column from the data \n\t\t * source array / object. If null, then the default content is used, if a\n\t\t * function is given then the return from the function is used.\n\t\t *  @type function|int|string|null\n\t\t *  @default null\n\t\t */\n\t\t\"mData\": null,\n\t\t\n\t\t/**\n\t\t * Partner property to mData which is used (only when defined) to get\n\t\t * the data - i.e. it is basically the same as mData, but without the\n\t\t * 'set' option, and also the data fed to it is the result from mData.\n\t\t * This is the rendering method to match the data method of mData.\n\t\t *  @type function|int|string|null\n\t\t *  @default null\n\t\t */\n\t\t\"mRender\": null,\n\t\t\n\t\t/**\n\t\t * Unique header TH/TD element for this column - this is what the sorting\n\t\t * listener is attached to (if sorting is enabled.)\n\t\t *  @type node\n\t\t *  @default null\n\t\t */\n\t\t\"nTh\": null,\n\t\t\n\t\t/**\n\t\t * Unique footer TH/TD element for this column (if there is one). Not used \n\t\t * in DataTables as such, but can be used for plug-ins to reference the \n\t\t * footer for each column.\n\t\t *  @type node\n\t\t *  @default null\n\t\t */\n\t\t\"nTf\": null,\n\t\t\n\t\t/**\n\t\t * The class to apply to all TD elements in the table's TBODY for the column\n\t\t *  @type string\n\t\t *  @default null\n\t\t */\n\t\t\"sClass\": null,\n\t\t\n\t\t/**\n\t\t * When DataTables calculates the column widths to assign to each column,\n\t\t * it finds the longest string in each column and then constructs a\n\t\t * temporary table and reads the widths from that. The problem with this\n\t\t * is that \"mmm\" is much wider then \"iiii\", but the latter is a longer \n\t\t * string - thus the calculation can go wrong (doing it properly and putting\n\t\t * it into an DOM object and measuring that is horribly(!) slow). Thus as\n\t\t * a \"work around\" we provide this option. It will append its value to the\n\t\t * text that is found to be the longest string for the column - i.e. padding.\n\t\t *  @type string\n\t\t */\n\t\t\"sContentPadding\": null,\n\t\t\n\t\t/**\n\t\t * Allows a default value to be given for a column's data, and will be used\n\t\t * whenever a null data source is encountered (this can be because mData\n\t\t * is set to null, or because the data source itself is null).\n\t\t *  @type string\n\t\t *  @default null\n\t\t */\n\t\t\"sDefaultContent\": null,\n\t\t\n\t\t/**\n\t\t * Name for the column, allowing reference to the column by name as well as\n\t\t * by index (needs a lookup to work by name).\n\t\t *  @type string\n\t\t */\n\t\t\"sName\": null,\n\t\t\n\t\t/**\n\t\t * Custom sorting data type - defines which of the available plug-ins in\n\t\t * afnSortData the custom sorting will use - if any is defined.\n\t\t *  @type string\n\t\t *  @default std\n\t\t */\n\t\t\"sSortDataType\": 'std',\n\t\t\n\t\t/**\n\t\t * Class to be applied to the header element when sorting on this column\n\t\t *  @type string\n\t\t *  @default null\n\t\t */\n\t\t\"sSortingClass\": null,\n\t\t\n\t\t/**\n\t\t * Class to be applied to the header element when sorting on this column -\n\t\t * when jQuery UI theming is used.\n\t\t *  @type string\n\t\t *  @default null\n\t\t */\n\t\t\"sSortingClassJUI\": null,\n\t\t\n\t\t/**\n\t\t * Title of the column - what is seen in the TH element (nTh).\n\t\t *  @type string\n\t\t */\n\t\t\"sTitle\": null,\n\t\t\n\t\t/**\n\t\t * Column sorting and filtering type\n\t\t *  @type string\n\t\t *  @default null\n\t\t */\n\t\t\"sType\": null,\n\t\t\n\t\t/**\n\t\t * Width of the column\n\t\t *  @type string\n\t\t *  @default null\n\t\t */\n\t\t\"sWidth\": null,\n\t\t\n\t\t/**\n\t\t * Width of the column when it was first \"encountered\"\n\t\t *  @type string\n\t\t *  @default null\n\t\t */\n\t\t\"sWidthOrig\": null\n\t};\n\t\n\t\n\t\n\t/**\n\t * Initialisation options that can be given to DataTables at initialisation \n\t * time.\n\t *  @namespace\n\t */\n\tDataTable.defaults = {\n\t\t/**\n\t\t * An array of data to use for the table, passed in at initialisation which \n\t\t * will be used in preference to any data which is already in the DOM. This is\n\t\t * particularly useful for constructing tables purely in Javascript, for\n\t\t * example with a custom Ajax call.\n\t\t *  @type array\n\t\t *  @default null\n\t\t *  @dtopt Option\n\t\t * \n\t\t *  @example\n\t\t *    // Using a 2D array data source\n\t\t *    $(document).ready( function () {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aaData\": [\n\t\t *          ['Trident', 'Internet Explorer 4.0', 'Win 95+', 4, 'X'],\n\t\t *          ['Trident', 'Internet Explorer 5.0', 'Win 95+', 5, 'C'],\n\t\t *        ],\n\t\t *        \"aoColumns\": [\n\t\t *          { \"sTitle\": \"Engine\" },\n\t\t *          { \"sTitle\": \"Browser\" },\n\t\t *          { \"sTitle\": \"Platform\" },\n\t\t *          { \"sTitle\": \"Version\" },\n\t\t *          { \"sTitle\": \"Grade\" }\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t *    \n\t\t *  @example\n\t\t *    // Using an array of objects as a data source (mData)\n\t\t *    $(document).ready( function () {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aaData\": [\n\t\t *          {\n\t\t *            \"engine\":   \"Trident\",\n\t\t *            \"browser\":  \"Internet Explorer 4.0\",\n\t\t *            \"platform\": \"Win 95+\",\n\t\t *            \"version\":  4,\n\t\t *            \"grade\":    \"X\"\n\t\t *          },\n\t\t *          {\n\t\t *            \"engine\":   \"Trident\",\n\t\t *            \"browser\":  \"Internet Explorer 5.0\",\n\t\t *            \"platform\": \"Win 95+\",\n\t\t *            \"version\":  5,\n\t\t *            \"grade\":    \"C\"\n\t\t *          }\n\t\t *        ],\n\t\t *        \"aoColumns\": [\n\t\t *          { \"sTitle\": \"Engine\",   \"mData\": \"engine\" },\n\t\t *          { \"sTitle\": \"Browser\",  \"mData\": \"browser\" },\n\t\t *          { \"sTitle\": \"Platform\", \"mData\": \"platform\" },\n\t\t *          { \"sTitle\": \"Version\",  \"mData\": \"version\" },\n\t\t *          { \"sTitle\": \"Grade\",    \"mData\": \"grade\" }\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"aaData\": null,\n\t\n\t\n\t\t/**\n\t\t * If sorting is enabled, then DataTables will perform a first pass sort on \n\t\t * initialisation. You can define which column(s) the sort is performed upon, \n\t\t * and the sorting direction, with this variable. The aaSorting array should \n\t\t * contain an array for each column to be sorted initially containing the \n\t\t * column's index and a direction string ('asc' or 'desc').\n\t\t *  @type array\n\t\t *  @default [[0,'asc']]\n\t\t *  @dtopt Option\n\t\t * \n\t\t *  @example\n\t\t *    // Sort by 3rd column first, and then 4th column\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aaSorting\": [[2,'asc'], [3,'desc']]\n\t\t *      } );\n\t\t *    } );\n\t\t *    \n\t\t *    // No initial sorting\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aaSorting\": []\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"aaSorting\": [[0,'asc']],\n\t\n\t\n\t\t/**\n\t\t * This parameter is basically identical to the aaSorting parameter, but \n\t\t * cannot be overridden by user interaction with the table. What this means \n\t\t * is that you could have a column (visible or hidden) which the sorting will \n\t\t * always be forced on first - any sorting after that (from the user) will \n\t\t * then be performed as required. This can be useful for grouping rows \n\t\t * together.\n\t\t *  @type array\n\t\t *  @default null\n\t\t *  @dtopt Option\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aaSortingFixed\": [[0,'asc']]\n\t\t *      } );\n\t\t *    } )\n\t\t */\n\t\t\"aaSortingFixed\": null,\n\t\n\t\n\t\t/**\n\t\t * This parameter allows you to readily specify the entries in the length drop\n\t\t * down menu that DataTables shows when pagination is enabled. It can be \n\t\t * either a 1D array of options which will be used for both the displayed \n\t\t * option and the value, or a 2D array which will use the array in the first \n\t\t * position as the value, and the array in the second position as the \n\t\t * displayed options (useful for language strings such as 'All').\n\t\t *  @type array\n\t\t *  @default [ 10, 25, 50, 100 ]\n\t\t *  @dtopt Option\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aLengthMenu\": [[10, 25, 50, -1], [10, 25, 50, \"All\"]]\n\t\t *      } );\n\t\t *    } );\n\t\t *  \n\t\t *  @example\n\t\t *    // Setting the default display length as well as length menu\n\t\t *    // This is likely to be wanted if you remove the '10' option which\n\t\t *    // is the iDisplayLength default.\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"iDisplayLength\": 25,\n\t\t *        \"aLengthMenu\": [[25, 50, 100, -1], [25, 50, 100, \"All\"]]\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"aLengthMenu\": [ 10, 25, 50, 100 ],\n\t\n\t\n\t\t/**\n\t\t * The aoColumns option in the initialisation parameter allows you to define\n\t\t * details about the way individual columns behave. For a full list of\n\t\t * column options that can be set, please see \n\t\t * {@link DataTable.defaults.columns}. Note that if you use aoColumns to\n\t\t * define your columns, you must have an entry in the array for every single\n\t\t * column that you have in your table (these can be null if you don't which\n\t\t * to specify any options).\n\t\t *  @member\n\t\t */\n\t\t\"aoColumns\": null,\n\t\n\t\t/**\n\t\t * Very similar to aoColumns, aoColumnDefs allows you to target a specific \n\t\t * column, multiple columns, or all columns, using the aTargets property of \n\t\t * each object in the array. This allows great flexibility when creating \n\t\t * tables, as the aoColumnDefs arrays can be of any length, targeting the \n\t\t * columns you specifically want. aoColumnDefs may use any of the column \n\t\t * options available: {@link DataTable.defaults.columns}, but it _must_\n\t\t * have aTargets defined in each object in the array. Values in the aTargets\n\t\t * array may be:\n\t\t *   <ul>\n\t\t *     <li>a string - class name will be matched on the TH for the column</li>\n\t\t *     <li>0 or a positive integer - column index counting from the left</li>\n\t\t *     <li>a negative integer - column index counting from the right</li>\n\t\t *     <li>the string \"_all\" - all columns (i.e. assign a default)</li>\n\t\t *   </ul>\n\t\t *  @member\n\t\t */\n\t\t\"aoColumnDefs\": null,\n\t\n\t\n\t\t/**\n\t\t * Basically the same as oSearch, this parameter defines the individual column\n\t\t * filtering state at initialisation time. The array must be of the same size \n\t\t * as the number of columns, and each element be an object with the parameters\n\t\t * \"sSearch\" and \"bEscapeRegex\" (the latter is optional). 'null' is also\n\t\t * accepted and the default will be used.\n\t\t *  @type array\n\t\t *  @default []\n\t\t *  @dtopt Option\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoSearchCols\": [\n\t\t *          null,\n\t\t *          { \"sSearch\": \"My filter\" },\n\t\t *          null,\n\t\t *          { \"sSearch\": \"^[0-9]\", \"bEscapeRegex\": false }\n\t\t *        ]\n\t\t *      } );\n\t\t *    } )\n\t\t */\n\t\t\"aoSearchCols\": [],\n\t\n\t\n\t\t/**\n\t\t * An array of CSS classes that should be applied to displayed rows. This \n\t\t * array may be of any length, and DataTables will apply each class \n\t\t * sequentially, looping when required.\n\t\t *  @type array\n\t\t *  @default null <i>Will take the values determined by the oClasses.sStripe*\n\t\t *    options</i>\n\t\t *  @dtopt Option\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"asStripeClasses\": [ 'strip1', 'strip2', 'strip3' ]\n\t\t *      } );\n\t\t *    } )\n\t\t */\n\t\t\"asStripeClasses\": null,\n\t\n\t\n\t\t/**\n\t\t * Enable or disable automatic column width calculation. This can be disabled\n\t\t * as an optimisation (it takes some time to calculate the widths) if the\n\t\t * tables widths are passed in using aoColumns.\n\t\t *  @type boolean\n\t\t *  @default true\n\t\t *  @dtopt Features\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function () {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bAutoWidth\": false\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"bAutoWidth\": true,\n\t\n\t\n\t\t/**\n\t\t * Deferred rendering can provide DataTables with a huge speed boost when you\n\t\t * are using an Ajax or JS data source for the table. This option, when set to\n\t\t * true, will cause DataTables to defer the creation of the table elements for\n\t\t * each row until they are needed for a draw - saving a significant amount of\n\t\t * time.\n\t\t *  @type boolean\n\t\t *  @default false\n\t\t *  @dtopt Features\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      var oTable = $('#example').dataTable( {\n\t\t *        \"sAjaxSource\": \"sources/arrays.txt\",\n\t\t *        \"bDeferRender\": true\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"bDeferRender\": false,\n\t\n\t\n\t\t/**\n\t\t * Replace a DataTable which matches the given selector and replace it with \n\t\t * one which has the properties of the new initialisation object passed. If no\n\t\t * table matches the selector, then the new DataTable will be constructed as\n\t\t * per normal.\n\t\t *  @type boolean\n\t\t *  @default false\n\t\t *  @dtopt Options\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"sScrollY\": \"200px\",\n\t\t *        \"bPaginate\": false\n\t\t *      } );\n\t\t *      \n\t\t *      // Some time later....\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bFilter\": false,\n\t\t *        \"bDestroy\": true\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"bDestroy\": false,\n\t\n\t\n\t\t/**\n\t\t * Enable or disable filtering of data. Filtering in DataTables is \"smart\" in\n\t\t * that it allows the end user to input multiple words (space separated) and\n\t\t * will match a row containing those words, even if not in the order that was\n\t\t * specified (this allow matching across multiple columns). Note that if you\n\t\t * wish to use filtering in DataTables this must remain 'true' - to remove the\n\t\t * default filtering input box and retain filtering abilities, please use\n\t\t * {@link DataTable.defaults.sDom}.\n\t\t *  @type boolean\n\t\t *  @default true\n\t\t *  @dtopt Features\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function () {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bFilter\": false\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"bFilter\": true,\n\t\n\t\n\t\t/**\n\t\t * Enable or disable the table information display. This shows information \n\t\t * about the data that is currently visible on the page, including information\n\t\t * about filtered data if that action is being performed.\n\t\t *  @type boolean\n\t\t *  @default true\n\t\t *  @dtopt Features\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function () {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bInfo\": false\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"bInfo\": true,\n\t\n\t\n\t\t/**\n\t\t * Enable jQuery UI ThemeRoller support (required as ThemeRoller requires some\n\t\t * slightly different and additional mark-up from what DataTables has\n\t\t * traditionally used).\n\t\t *  @type boolean\n\t\t *  @default false\n\t\t *  @dtopt Features\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bJQueryUI\": true\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"bJQueryUI\": false,\n\t\n\t\n\t\t/**\n\t\t * Allows the end user to select the size of a formatted page from a select\n\t\t * menu (sizes are 10, 25, 50 and 100). Requires pagination (bPaginate).\n\t\t *  @type boolean\n\t\t *  @default true\n\t\t *  @dtopt Features\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function () {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bLengthChange\": false\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"bLengthChange\": true,\n\t\n\t\n\t\t/**\n\t\t * Enable or disable pagination.\n\t\t *  @type boolean\n\t\t *  @default true\n\t\t *  @dtopt Features\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function () {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bPaginate\": false\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"bPaginate\": true,\n\t\n\t\n\t\t/**\n\t\t * Enable or disable the display of a 'processing' indicator when the table is\n\t\t * being processed (e.g. a sort). This is particularly useful for tables with\n\t\t * large amounts of data where it can take a noticeable amount of time to sort\n\t\t * the entries.\n\t\t *  @type boolean\n\t\t *  @default false\n\t\t *  @dtopt Features\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function () {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bProcessing\": true\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"bProcessing\": false,\n\t\n\t\n\t\t/**\n\t\t * Retrieve the DataTables object for the given selector. Note that if the\n\t\t * table has already been initialised, this parameter will cause DataTables\n\t\t * to simply return the object that has already been set up - it will not take\n\t\t * account of any changes you might have made to the initialisation object\n\t\t * passed to DataTables (setting this parameter to true is an acknowledgement\n\t\t * that you understand this). bDestroy can be used to reinitialise a table if\n\t\t * you need.\n\t\t *  @type boolean\n\t\t *  @default false\n\t\t *  @dtopt Options\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      initTable();\n\t\t *      tableActions();\n\t\t *    } );\n\t\t *    \n\t\t *    function initTable ()\n\t\t *    {\n\t\t *      return $('#example').dataTable( {\n\t\t *        \"sScrollY\": \"200px\",\n\t\t *        \"bPaginate\": false,\n\t\t *        \"bRetrieve\": true\n\t\t *      } );\n\t\t *    }\n\t\t *    \n\t\t *    function tableActions ()\n\t\t *    {\n\t\t *      var oTable = initTable();\n\t\t *      // perform API operations with oTable \n\t\t *    }\n\t\t */\n\t\t\"bRetrieve\": false,\n\t\n\t\n\t\t/**\n\t\t * Indicate if DataTables should be allowed to set the padding / margin\n\t\t * etc for the scrolling header elements or not. Typically you will want\n\t\t * this.\n\t\t *  @type boolean\n\t\t *  @default true\n\t\t *  @dtopt Options\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bScrollAutoCss\": false,\n\t\t *        \"sScrollY\": \"200px\"\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"bScrollAutoCss\": true,\n\t\n\t\n\t\t/**\n\t\t * When vertical (y) scrolling is enabled, DataTables will force the height of\n\t\t * the table's viewport to the given height at all times (useful for layout).\n\t\t * However, this can look odd when filtering data down to a small data set,\n\t\t * and the footer is left \"floating\" further down. This parameter (when\n\t\t * enabled) will cause DataTables to collapse the table's viewport down when\n\t\t * the result set will fit within the given Y height.\n\t\t *  @type boolean\n\t\t *  @default false\n\t\t *  @dtopt Options\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"sScrollY\": \"200\",\n\t\t *        \"bScrollCollapse\": true\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"bScrollCollapse\": false,\n\t\n\t\n\t\t/**\n\t\t * Enable infinite scrolling for DataTables (to be used in combination with\n\t\t * sScrollY). Infinite scrolling means that DataTables will continually load\n\t\t * data as a user scrolls through a table, which is very useful for large\n\t\t * dataset. This cannot be used with pagination, which is automatically\n\t\t * disabled. Note - the Scroller extra for DataTables is recommended in\n\t\t * in preference to this option.\n\t\t *  @type boolean\n\t\t *  @default false\n\t\t *  @dtopt Features\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bScrollInfinite\": true,\n\t\t *        \"bScrollCollapse\": true,\n\t\t *        \"sScrollY\": \"200px\"\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"bScrollInfinite\": false,\n\t\n\t\n\t\t/**\n\t\t * Configure DataTables to use server-side processing. Note that the\n\t\t * sAjaxSource parameter must also be given in order to give DataTables a\n\t\t * source to obtain the required data for each draw.\n\t\t *  @type boolean\n\t\t *  @default false\n\t\t *  @dtopt Features\n\t\t *  @dtopt Server-side\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function () {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bServerSide\": true,\n\t\t *        \"sAjaxSource\": \"xhr.php\"\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"bServerSide\": false,\n\t\n\t\n\t\t/**\n\t\t * Enable or disable sorting of columns. Sorting of individual columns can be\n\t\t * disabled by the \"bSortable\" option for each column.\n\t\t *  @type boolean\n\t\t *  @default true\n\t\t *  @dtopt Features\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function () {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bSort\": false\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"bSort\": true,\n\t\n\t\n\t\t/**\n\t\t * Allows control over whether DataTables should use the top (true) unique\n\t\t * cell that is found for a single column, or the bottom (false - default).\n\t\t * This is useful when using complex headers.\n\t\t *  @type boolean\n\t\t *  @default false\n\t\t *  @dtopt Options\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bSortCellsTop\": true\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"bSortCellsTop\": false,\n\t\n\t\n\t\t/**\n\t\t * Enable or disable the addition of the classes 'sorting_1', 'sorting_2' and\n\t\t * 'sorting_3' to the columns which are currently being sorted on. This is\n\t\t * presented as a feature switch as it can increase processing time (while\n\t\t * classes are removed and added) so for large data sets you might want to\n\t\t * turn this off.\n\t\t *  @type boolean\n\t\t *  @default true\n\t\t *  @dtopt Features\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function () {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bSortClasses\": false\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"bSortClasses\": true,\n\t\n\t\n\t\t/**\n\t\t * Enable or disable state saving. When enabled a cookie will be used to save\n\t\t * table display information such as pagination information, display length,\n\t\t * filtering and sorting. As such when the end user reloads the page the\n\t\t * display display will match what thy had previously set up.\n\t\t *  @type boolean\n\t\t *  @default false\n\t\t *  @dtopt Features\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function () {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bStateSave\": true\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"bStateSave\": false,\n\t\n\t\n\t\t/**\n\t\t * Customise the cookie and / or the parameters being stored when using\n\t\t * DataTables with state saving enabled. This function is called whenever\n\t\t * the cookie is modified, and it expects a fully formed cookie string to be\n\t\t * returned. Note that the data object passed in is a Javascript object which\n\t\t * must be converted to a string (JSON.stringify for example).\n\t\t *  @type function\n\t\t *  @param {string} sName Name of the cookie defined by DataTables\n\t\t *  @param {object} oData Data to be stored in the cookie\n\t\t *  @param {string} sExpires Cookie expires string\n\t\t *  @param {string} sPath Path of the cookie to set\n\t\t *  @returns {string} Cookie formatted string (which should be encoded by\n\t\t *    using encodeURIComponent())\n\t\t *  @dtopt Callbacks\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function () {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"fnCookieCallback\": function (sName, oData, sExpires, sPath) {\n\t\t *          // Customise oData or sName or whatever else here\n\t\t *          return sName + \"=\"+JSON.stringify(oData)+\"; expires=\" + sExpires +\"; path=\" + sPath;\n\t\t *        }\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"fnCookieCallback\": null,\n\t\n\t\n\t\t/**\n\t\t * This function is called when a TR element is created (and all TD child\n\t\t * elements have been inserted), or registered if using a DOM source, allowing\n\t\t * manipulation of the TR element (adding classes etc).\n\t\t *  @type function\n\t\t *  @param {node} nRow \"TR\" element for the current row\n\t\t *  @param {array} aData Raw data array for this row\n\t\t *  @param {int} iDataIndex The index of this row in aoData\n\t\t *  @dtopt Callbacks\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"fnCreatedRow\": function( nRow, aData, iDataIndex ) {\n\t\t *          // Bold the grade for all 'A' grade browsers\n\t\t *          if ( aData[4] == \"A\" )\n\t\t *          {\n\t\t *            $('td:eq(4)', nRow).html( '<b>A</b>' );\n\t\t *          }\n\t\t *        }\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"fnCreatedRow\": null,\n\t\n\t\n\t\t/**\n\t\t * This function is called on every 'draw' event, and allows you to\n\t\t * dynamically modify any aspect you want about the created DOM.\n\t\t *  @type function\n\t\t *  @param {object} oSettings DataTables settings object\n\t\t *  @dtopt Callbacks\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"fnDrawCallback\": function( oSettings ) {\n\t\t *          alert( 'DataTables has redrawn the table' );\n\t\t *        }\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"fnDrawCallback\": null,\n\t\n\t\n\t\t/**\n\t\t * Identical to fnHeaderCallback() but for the table footer this function\n\t\t * allows you to modify the table footer on every 'draw' even.\n\t\t *  @type function\n\t\t *  @param {node} nFoot \"TR\" element for the footer\n\t\t *  @param {array} aData Full table data (as derived from the original HTML)\n\t\t *  @param {int} iStart Index for the current display starting point in the \n\t\t *    display array\n\t\t *  @param {int} iEnd Index for the current display ending point in the \n\t\t *    display array\n\t\t *  @param {array int} aiDisplay Index array to translate the visual position\n\t\t *    to the full data array\n\t\t *  @dtopt Callbacks\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"fnFooterCallback\": function( nFoot, aData, iStart, iEnd, aiDisplay ) {\n\t\t *          nFoot.getElementsByTagName('th')[0].innerHTML = \"Starting index is \"+iStart;\n\t\t *        }\n\t\t *      } );\n\t\t *    } )\n\t\t */\n\t\t\"fnFooterCallback\": null,\n\t\n\t\n\t\t/**\n\t\t * When rendering large numbers in the information element for the table\n\t\t * (i.e. \"Showing 1 to 10 of 57 entries\") DataTables will render large numbers\n\t\t * to have a comma separator for the 'thousands' units (e.g. 1 million is\n\t\t * rendered as \"1,000,000\") to help readability for the end user. This\n\t\t * function will override the default method DataTables uses.\n\t\t *  @type function\n\t\t *  @member\n\t\t *  @param {int} iIn number to be formatted\n\t\t *  @returns {string} formatted string for DataTables to show the number\n\t\t *  @dtopt Callbacks\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"fnFormatNumber\": function ( iIn ) {\n\t\t *          if ( iIn &lt; 1000 ) {\n\t\t *            return iIn;\n\t\t *          } else {\n\t\t *            var \n\t\t *              s=(iIn+\"\"), \n\t\t *              a=s.split(\"\"), out=\"\", \n\t\t *              iLen=s.length;\n\t\t *            \n\t\t *            for ( var i=0 ; i&lt;iLen ; i++ ) {\n\t\t *              if ( i%3 === 0 &amp;&amp; i !== 0 ) {\n\t\t *                out = \"'\"+out;\n\t\t *              }\n\t\t *              out = a[iLen-i-1]+out;\n\t\t *            }\n\t\t *          }\n\t\t *          return out;\n\t\t *        };\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"fnFormatNumber\": function ( iIn ) {\n\t\t\tif ( iIn < 1000 )\n\t\t\t{\n\t\t\t\t// A small optimisation for what is likely to be the majority of use cases\n\t\t\t\treturn iIn;\n\t\t\t}\n\t\n\t\t\tvar s=(iIn+\"\"), a=s.split(\"\"), out=\"\", iLen=s.length;\n\t\t\t\n\t\t\tfor ( var i=0 ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tif ( i%3 === 0 && i !== 0 )\n\t\t\t\t{\n\t\t\t\t\tout = this.oLanguage.sInfoThousands+out;\n\t\t\t\t}\n\t\t\t\tout = a[iLen-i-1]+out;\n\t\t\t}\n\t\t\treturn out;\n\t\t},\n\t\n\t\n\t\t/**\n\t\t * This function is called on every 'draw' event, and allows you to\n\t\t * dynamically modify the header row. This can be used to calculate and\n\t\t * display useful information about the table.\n\t\t *  @type function\n\t\t *  @param {node} nHead \"TR\" element for the header\n\t\t *  @param {array} aData Full table data (as derived from the original HTML)\n\t\t *  @param {int} iStart Index for the current display starting point in the\n\t\t *    display array\n\t\t *  @param {int} iEnd Index for the current display ending point in the\n\t\t *    display array\n\t\t *  @param {array int} aiDisplay Index array to translate the visual position\n\t\t *    to the full data array\n\t\t *  @dtopt Callbacks\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"fnHeaderCallback\": function( nHead, aData, iStart, iEnd, aiDisplay ) {\n\t\t *          nHead.getElementsByTagName('th')[0].innerHTML = \"Displaying \"+(iEnd-iStart)+\" records\";\n\t\t *        }\n\t\t *      } );\n\t\t *    } )\n\t\t */\n\t\t\"fnHeaderCallback\": null,\n\t\n\t\n\t\t/**\n\t\t * The information element can be used to convey information about the current\n\t\t * state of the table. Although the internationalisation options presented by\n\t\t * DataTables are quite capable of dealing with most customisations, there may\n\t\t * be times where you wish to customise the string further. This callback\n\t\t * allows you to do exactly that.\n\t\t *  @type function\n\t\t *  @param {object} oSettings DataTables settings object\n\t\t *  @param {int} iStart Starting position in data for the draw\n\t\t *  @param {int} iEnd End position in data for the draw\n\t\t *  @param {int} iMax Total number of rows in the table (regardless of\n\t\t *    filtering)\n\t\t *  @param {int} iTotal Total number of rows in the data set, after filtering\n\t\t *  @param {string} sPre The string that DataTables has formatted using it's\n\t\t *    own rules\n\t\t *  @returns {string} The string to be displayed in the information element.\n\t\t *  @dtopt Callbacks\n\t\t * \n\t\t *  @example\n\t\t *    $('#example').dataTable( {\n\t\t *      \"fnInfoCallback\": function( oSettings, iStart, iEnd, iMax, iTotal, sPre ) {\n\t\t *        return iStart +\" to \"+ iEnd;\n\t\t *      }\n\t\t *    } );\n\t\t */\n\t\t\"fnInfoCallback\": null,\n\t\n\t\n\t\t/**\n\t\t * Called when the table has been initialised. Normally DataTables will\n\t\t * initialise sequentially and there will be no need for this function,\n\t\t * however, this does not hold true when using external language information\n\t\t * since that is obtained using an async XHR call.\n\t\t *  @type function\n\t\t *  @param {object} oSettings DataTables settings object\n\t\t *  @param {object} json The JSON object request from the server - only\n\t\t *    present if client-side Ajax sourced data is used\n\t\t *  @dtopt Callbacks\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"fnInitComplete\": function(oSettings, json) {\n\t\t *          alert( 'DataTables has finished its initialisation.' );\n\t\t *        }\n\t\t *      } );\n\t\t *    } )\n\t\t */\n\t\t\"fnInitComplete\": null,\n\t\n\t\n\t\t/**\n\t\t * Called at the very start of each table draw and can be used to cancel the\n\t\t * draw by returning false, any other return (including undefined) results in\n\t\t * the full draw occurring).\n\t\t *  @type function\n\t\t *  @param {object} oSettings DataTables settings object\n\t\t *  @returns {boolean} False will cancel the draw, anything else (including no\n\t\t *    return) will allow it to complete.\n\t\t *  @dtopt Callbacks\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"fnPreDrawCallback\": function( oSettings ) {\n\t\t *          if ( $('#test').val() == 1 ) {\n\t\t *            return false;\n\t\t *          }\n\t\t *        }\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"fnPreDrawCallback\": null,\n\t\n\t\n\t\t/**\n\t\t * This function allows you to 'post process' each row after it have been\n\t\t * generated for each table draw, but before it is rendered on screen. This\n\t\t * function might be used for setting the row class name etc.\n\t\t *  @type function\n\t\t *  @param {node} nRow \"TR\" element for the current row\n\t\t *  @param {array} aData Raw data array for this row\n\t\t *  @param {int} iDisplayIndex The display index for the current table draw\n\t\t *  @param {int} iDisplayIndexFull The index of the data in the full list of\n\t\t *    rows (after filtering)\n\t\t *  @dtopt Callbacks\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"fnRowCallback\": function( nRow, aData, iDisplayIndex, iDisplayIndexFull ) {\n\t\t *          // Bold the grade for all 'A' grade browsers\n\t\t *          if ( aData[4] == \"A\" )\n\t\t *          {\n\t\t *            $('td:eq(4)', nRow).html( '<b>A</b>' );\n\t\t *          }\n\t\t *        }\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"fnRowCallback\": null,\n\t\n\t\n\t\t/**\n\t\t * This parameter allows you to override the default function which obtains\n\t\t * the data from the server ($.getJSON) so something more suitable for your\n\t\t * application. For example you could use POST data, or pull information from\n\t\t * a Gears or AIR database.\n\t\t *  @type function\n\t\t *  @member\n\t\t *  @param {string} sSource HTTP source to obtain the data from (sAjaxSource)\n\t\t *  @param {array} aoData A key/value pair object containing the data to send\n\t\t *    to the server\n\t\t *  @param {function} fnCallback to be called on completion of the data get\n\t\t *    process that will draw the data on the page.\n\t\t *  @param {object} oSettings DataTables settings object\n\t\t *  @dtopt Callbacks\n\t\t *  @dtopt Server-side\n\t\t * \n\t\t *  @example\n\t\t *    // POST data to server\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bProcessing\": true,\n\t\t *        \"bServerSide\": true,\n\t\t *        \"sAjaxSource\": \"xhr.php\",\n\t\t *        \"fnServerData\": function ( sSource, aoData, fnCallback, oSettings ) {\n\t\t *          oSettings.jqXHR = $.ajax( {\n\t\t *            \"dataType\": 'json', \n\t\t *            \"type\": \"POST\", \n\t\t *            \"url\": sSource, \n\t\t *            \"data\": aoData, \n\t\t *            \"success\": fnCallback\n\t\t *          } );\n\t\t *        }\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"fnServerData\": function ( sUrl, aoData, fnCallback, oSettings ) {\n\t\t\toSettings.jqXHR = $.ajax( {\n\t\t\t\t\"url\":  sUrl,\n\t\t\t\t\"data\": aoData,\n\t\t\t\t\"success\": function (json) {\n\t\t\t\t\tif ( json.sError ) {\n\t\t\t\t\t\toSettings.oApi._fnLog( oSettings, 0, json.sError );\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t$(oSettings.oInstance).trigger('xhr', [oSettings, json]);\n\t\t\t\t\tfnCallback( json );\n\t\t\t\t},\n\t\t\t\t\"dataType\": \"json\",\n\t\t\t\t\"cache\": false,\n\t\t\t\t\"type\": oSettings.sServerMethod,\n\t\t\t\t\"error\": function (xhr, error, thrown) {\n\t\t\t\t\tif ( error == \"parsererror\" ) {\n\t\t\t\t\t\toSettings.oApi._fnLog( oSettings, 0, \"DataTables warning: JSON data from \"+\n\t\t\t\t\t\t\t\"server could not be parsed. This is caused by a JSON formatting error.\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t},\n\t\n\t\n\t\t/**\n\t\t * It is often useful to send extra data to the server when making an Ajax\n\t\t * request - for example custom filtering information, and this callback\n\t\t * function makes it trivial to send extra information to the server. The\n\t\t * passed in parameter is the data set that has been constructed by\n\t\t * DataTables, and you can add to this or modify it as you require.\n\t\t *  @type function\n\t\t *  @param {array} aoData Data array (array of objects which are name/value\n\t\t *    pairs) that has been constructed by DataTables and will be sent to the\n\t\t *    server. In the case of Ajax sourced data with server-side processing\n\t\t *    this will be an empty array, for server-side processing there will be a\n\t\t *    significant number of parameters!\n\t\t *  @returns {undefined} Ensure that you modify the aoData array passed in,\n\t\t *    as this is passed by reference.\n\t\t *  @dtopt Callbacks\n\t\t *  @dtopt Server-side\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bProcessing\": true,\n\t\t *        \"bServerSide\": true,\n\t\t *        \"sAjaxSource\": \"scripts/server_processing.php\",\n\t\t *        \"fnServerParams\": function ( aoData ) {\n\t\t *          aoData.push( { \"name\": \"more_data\", \"value\": \"my_value\" } );\n\t\t *        }\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"fnServerParams\": null,\n\t\n\t\n\t\t/**\n\t\t * Load the table state. With this function you can define from where, and how, the\n\t\t * state of a table is loaded. By default DataTables will load from its state saving\n\t\t * cookie, but you might wish to use local storage (HTML5) or a server-side database.\n\t\t *  @type function\n\t\t *  @member\n\t\t *  @param {object} oSettings DataTables settings object\n\t\t *  @return {object} The DataTables state object to be loaded\n\t\t *  @dtopt Callbacks\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bStateSave\": true,\n\t\t *        \"fnStateLoad\": function (oSettings) {\n\t\t *          var o;\n\t\t *          \n\t\t *          // Send an Ajax request to the server to get the data. Note that\n\t\t *          // this is a synchronous request.\n\t\t *          $.ajax( {\n\t\t *            \"url\": \"/state_load\",\n\t\t *            \"async\": false,\n\t\t *            \"dataType\": \"json\",\n\t\t *            \"success\": function (json) {\n\t\t *              o = json;\n\t\t *            }\n\t\t *          } );\n\t\t *          \n\t\t *          return o;\n\t\t *        }\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"fnStateLoad\": function ( oSettings ) {\n\t\t\tvar sData = this.oApi._fnReadCookie( oSettings.sCookiePrefix+oSettings.sInstance );\n\t\t\tvar oData;\n\t\n\t\t\ttry {\n\t\t\t\toData = (typeof $.parseJSON === 'function') ? \n\t\t\t\t\t$.parseJSON(sData) : eval( '('+sData+')' );\n\t\t\t} catch (e) {\n\t\t\t\toData = null;\n\t\t\t}\n\t\n\t\t\treturn oData;\n\t\t},\n\t\n\t\n\t\t/**\n\t\t * Callback which allows modification of the saved state prior to loading that state.\n\t\t * This callback is called when the table is loading state from the stored data, but\n\t\t * prior to the settings object being modified by the saved state. Note that for \n\t\t * plug-in authors, you should use the 'stateLoadParams' event to load parameters for \n\t\t * a plug-in.\n\t\t *  @type function\n\t\t *  @param {object} oSettings DataTables settings object\n\t\t *  @param {object} oData The state object that is to be loaded\n\t\t *  @dtopt Callbacks\n\t\t * \n\t\t *  @example\n\t\t *    // Remove a saved filter, so filtering is never loaded\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bStateSave\": true,\n\t\t *        \"fnStateLoadParams\": function (oSettings, oData) {\n\t\t *          oData.oSearch.sSearch = \"\";\n\t\t *        }\n\t\t *      } );\n\t\t *    } );\n\t\t * \n\t\t *  @example\n\t\t *    // Disallow state loading by returning false\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bStateSave\": true,\n\t\t *        \"fnStateLoadParams\": function (oSettings, oData) {\n\t\t *          return false;\n\t\t *        }\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"fnStateLoadParams\": null,\n\t\n\t\n\t\t/**\n\t\t * Callback that is called when the state has been loaded from the state saving method\n\t\t * and the DataTables settings object has been modified as a result of the loaded state.\n\t\t *  @type function\n\t\t *  @param {object} oSettings DataTables settings object\n\t\t *  @param {object} oData The state object that was loaded\n\t\t *  @dtopt Callbacks\n\t\t * \n\t\t *  @example\n\t\t *    // Show an alert with the filtering value that was saved\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bStateSave\": true,\n\t\t *        \"fnStateLoaded\": function (oSettings, oData) {\n\t\t *          alert( 'Saved filter was: '+oData.oSearch.sSearch );\n\t\t *        }\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"fnStateLoaded\": null,\n\t\n\t\n\t\t/**\n\t\t * Save the table state. This function allows you to define where and how the state\n\t\t * information for the table is stored - by default it will use a cookie, but you\n\t\t * might want to use local storage (HTML5) or a server-side database.\n\t\t *  @type function\n\t\t *  @member\n\t\t *  @param {object} oSettings DataTables settings object\n\t\t *  @param {object} oData The state object to be saved\n\t\t *  @dtopt Callbacks\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bStateSave\": true,\n\t\t *        \"fnStateSave\": function (oSettings, oData) {\n\t\t *          // Send an Ajax request to the server with the state object\n\t\t *          $.ajax( {\n\t\t *            \"url\": \"/state_save\",\n\t\t *            \"data\": oData,\n\t\t *            \"dataType\": \"json\",\n\t\t *            \"method\": \"POST\"\n\t\t *            \"success\": function () {}\n\t\t *          } );\n\t\t *        }\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"fnStateSave\": function ( oSettings, oData ) {\n\t\t\tthis.oApi._fnCreateCookie( \n\t\t\t\toSettings.sCookiePrefix+oSettings.sInstance, \n\t\t\t\tthis.oApi._fnJsonString(oData), \n\t\t\t\toSettings.iCookieDuration, \n\t\t\t\toSettings.sCookiePrefix, \n\t\t\t\toSettings.fnCookieCallback\n\t\t\t);\n\t\t},\n\t\n\t\n\t\t/**\n\t\t * Callback which allows modification of the state to be saved. Called when the table \n\t\t * has changed state a new state save is required. This method allows modification of\n\t\t * the state saving object prior to actually doing the save, including addition or \n\t\t * other state properties or modification. Note that for plug-in authors, you should \n\t\t * use the 'stateSaveParams' event to save parameters for a plug-in.\n\t\t *  @type function\n\t\t *  @param {object} oSettings DataTables settings object\n\t\t *  @param {object} oData The state object to be saved\n\t\t *  @dtopt Callbacks\n\t\t * \n\t\t *  @example\n\t\t *    // Remove a saved filter, so filtering is never saved\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bStateSave\": true,\n\t\t *        \"fnStateSaveParams\": function (oSettings, oData) {\n\t\t *          oData.oSearch.sSearch = \"\";\n\t\t *        }\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"fnStateSaveParams\": null,\n\t\n\t\n\t\t/**\n\t\t * Duration of the cookie which is used for storing session information. This\n\t\t * value is given in seconds.\n\t\t *  @type int\n\t\t *  @default 7200 <i>(2 hours)</i>\n\t\t *  @dtopt Options\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"iCookieDuration\": 60*60*24; // 1 day\n\t\t *      } );\n\t\t *    } )\n\t\t */\n\t\t\"iCookieDuration\": 7200,\n\t\n\t\n\t\t/**\n\t\t * When enabled DataTables will not make a request to the server for the first\n\t\t * page draw - rather it will use the data already on the page (no sorting etc\n\t\t * will be applied to it), thus saving on an XHR at load time. iDeferLoading\n\t\t * is used to indicate that deferred loading is required, but it is also used\n\t\t * to tell DataTables how many records there are in the full table (allowing\n\t\t * the information element and pagination to be displayed correctly). In the case\n\t\t * where a filtering is applied to the table on initial load, this can be\n\t\t * indicated by giving the parameter as an array, where the first element is\n\t\t * the number of records available after filtering and the second element is the\n\t\t * number of records without filtering (allowing the table information element\n\t\t * to be shown correctly).\n\t\t *  @type int | array\n\t\t *  @default null\n\t\t *  @dtopt Options\n\t\t * \n\t\t *  @example\n\t\t *    // 57 records available in the table, no filtering applied\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bServerSide\": true,\n\t\t *        \"sAjaxSource\": \"scripts/server_processing.php\",\n\t\t *        \"iDeferLoading\": 57\n\t\t *      } );\n\t\t *    } );\n\t\t * \n\t\t *  @example\n\t\t *    // 57 records after filtering, 100 without filtering (an initial filter applied)\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bServerSide\": true,\n\t\t *        \"sAjaxSource\": \"scripts/server_processing.php\",\n\t\t *        \"iDeferLoading\": [ 57, 100 ],\n\t\t *        \"oSearch\": {\n\t\t *          \"sSearch\": \"my_filter\"\n\t\t *        }\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"iDeferLoading\": null,\n\t\n\t\n\t\t/**\n\t\t * Number of rows to display on a single page when using pagination. If\n\t\t * feature enabled (bLengthChange) then the end user will be able to override\n\t\t * this to a custom setting using a pop-up menu.\n\t\t *  @type int\n\t\t *  @default 10\n\t\t *  @dtopt Options\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"iDisplayLength\": 50\n\t\t *      } );\n\t\t *    } )\n\t\t */\n\t\t\"iDisplayLength\": 10,\n\t\n\t\n\t\t/**\n\t\t * Define the starting point for data display when using DataTables with\n\t\t * pagination. Note that this parameter is the number of records, rather than\n\t\t * the page number, so if you have 10 records per page and want to start on\n\t\t * the third page, it should be \"20\".\n\t\t *  @type int\n\t\t *  @default 0\n\t\t *  @dtopt Options\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"iDisplayStart\": 20\n\t\t *      } );\n\t\t *    } )\n\t\t */\n\t\t\"iDisplayStart\": 0,\n\t\n\t\n\t\t/**\n\t\t * The scroll gap is the amount of scrolling that is left to go before\n\t\t * DataTables will load the next 'page' of data automatically. You typically\n\t\t * want a gap which is big enough that the scrolling will be smooth for the\n\t\t * user, while not so large that it will load more data than need.\n\t\t *  @type int\n\t\t *  @default 100\n\t\t *  @dtopt Options\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bScrollInfinite\": true,\n\t\t *        \"bScrollCollapse\": true,\n\t\t *        \"sScrollY\": \"200px\",\n\t\t *        \"iScrollLoadGap\": 50\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"iScrollLoadGap\": 100,\n\t\n\t\n\t\t/**\n\t\t * By default DataTables allows keyboard navigation of the table (sorting, paging,\n\t\t * and filtering) by adding a tabindex attribute to the required elements. This\n\t\t * allows you to tab through the controls and press the enter key to activate them.\n\t\t * The tabindex is default 0, meaning that the tab follows the flow of the document.\n\t\t * You can overrule this using this parameter if you wish. Use a value of -1 to\n\t\t * disable built-in keyboard navigation.\n\t\t *  @type int\n\t\t *  @default 0\n\t\t *  @dtopt Options\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"iTabIndex\": 1\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"iTabIndex\": 0,\n\t\n\t\n\t\t/**\n\t\t * All strings that DataTables uses in the user interface that it creates\n\t\t * are defined in this object, allowing you to modified them individually or\n\t\t * completely replace them all as required.\n\t\t *  @namespace\n\t\t */\n\t\t\"oLanguage\": {\n\t\t\t/**\n\t\t\t * Strings that are used for WAI-ARIA labels and controls only (these are not\n\t\t\t * actually visible on the page, but will be read by screenreaders, and thus\n\t\t\t * must be internationalised as well).\n\t\t\t *  @namespace\n\t\t\t */\n\t\t\t\"oAria\": {\n\t\t\t\t/**\n\t\t\t\t * ARIA label that is added to the table headers when the column may be\n\t\t\t\t * sorted ascending by activing the column (click or return when focused).\n\t\t\t\t * Note that the column header is prefixed to this string.\n\t\t\t\t *  @type string\n\t\t\t\t *  @default : activate to sort column ascending\n\t\t\t\t *  @dtopt Language\n\t\t\t\t * \n\t\t\t\t *  @example\n\t\t\t\t *    $(document).ready( function() {\n\t\t\t\t *      $('#example').dataTable( {\n\t\t\t\t *        \"oLanguage\": {\n\t\t\t\t *          \"oAria\": {\n\t\t\t\t *            \"sSortAscending\": \" - click/return to sort ascending\"\n\t\t\t\t *          }\n\t\t\t\t *        }\n\t\t\t\t *      } );\n\t\t\t\t *    } );\n\t\t\t\t */\n\t\t\t\t\"sSortAscending\": \": activate to sort column ascending\",\n\t\n\t\t\t\t/**\n\t\t\t\t * ARIA label that is added to the table headers when the column may be\n\t\t\t\t * sorted descending by activing the column (click or return when focused).\n\t\t\t\t * Note that the column header is prefixed to this string.\n\t\t\t\t *  @type string\n\t\t\t\t *  @default : activate to sort column ascending\n\t\t\t\t *  @dtopt Language\n\t\t\t\t * \n\t\t\t\t *  @example\n\t\t\t\t *    $(document).ready( function() {\n\t\t\t\t *      $('#example').dataTable( {\n\t\t\t\t *        \"oLanguage\": {\n\t\t\t\t *          \"oAria\": {\n\t\t\t\t *            \"sSortDescending\": \" - click/return to sort descending\"\n\t\t\t\t *          }\n\t\t\t\t *        }\n\t\t\t\t *      } );\n\t\t\t\t *    } );\n\t\t\t\t */\n\t\t\t\t\"sSortDescending\": \": activate to sort column descending\"\n\t\t\t},\n\t\n\t\t\t/**\n\t\t\t * Pagination string used by DataTables for the two built-in pagination\n\t\t\t * control types (\"two_button\" and \"full_numbers\")\n\t\t\t *  @namespace\n\t\t\t */\n\t\t\t\"oPaginate\": {\n\t\t\t\t/**\n\t\t\t\t * Text to use when using the 'full_numbers' type of pagination for the\n\t\t\t\t * button to take the user to the first page.\n\t\t\t\t *  @type string\n\t\t\t\t *  @default First\n\t\t\t\t *  @dtopt Language\n\t\t\t\t * \n\t\t\t\t *  @example\n\t\t\t\t *    $(document).ready( function() {\n\t\t\t\t *      $('#example').dataTable( {\n\t\t\t\t *        \"oLanguage\": {\n\t\t\t\t *          \"oPaginate\": {\n\t\t\t\t *            \"sFirst\": \"First page\"\n\t\t\t\t *          }\n\t\t\t\t *        }\n\t\t\t\t *      } );\n\t\t\t\t *    } );\n\t\t\t\t */\n\t\t\t\t\"sFirst\": \"First\",\n\t\t\t\n\t\t\t\n\t\t\t\t/**\n\t\t\t\t * Text to use when using the 'full_numbers' type of pagination for the\n\t\t\t\t * button to take the user to the last page.\n\t\t\t\t *  @type string\n\t\t\t\t *  @default Last\n\t\t\t\t *  @dtopt Language\n\t\t\t\t * \n\t\t\t\t *  @example\n\t\t\t\t *    $(document).ready( function() {\n\t\t\t\t *      $('#example').dataTable( {\n\t\t\t\t *        \"oLanguage\": {\n\t\t\t\t *          \"oPaginate\": {\n\t\t\t\t *            \"sLast\": \"Last page\"\n\t\t\t\t *          }\n\t\t\t\t *        }\n\t\t\t\t *      } );\n\t\t\t\t *    } );\n\t\t\t\t */\n\t\t\t\t\"sLast\": \"Last\",\n\t\t\t\n\t\t\t\n\t\t\t\t/**\n\t\t\t\t * Text to use for the 'next' pagination button (to take the user to the \n\t\t\t\t * next page).\n\t\t\t\t *  @type string\n\t\t\t\t *  @default Next\n\t\t\t\t *  @dtopt Language\n\t\t\t\t * \n\t\t\t\t *  @example\n\t\t\t\t *    $(document).ready( function() {\n\t\t\t\t *      $('#example').dataTable( {\n\t\t\t\t *        \"oLanguage\": {\n\t\t\t\t *          \"oPaginate\": {\n\t\t\t\t *            \"sNext\": \"Next page\"\n\t\t\t\t *          }\n\t\t\t\t *        }\n\t\t\t\t *      } );\n\t\t\t\t *    } );\n\t\t\t\t */\n\t\t\t\t\"sNext\": \"Next\",\n\t\t\t\n\t\t\t\n\t\t\t\t/**\n\t\t\t\t * Text to use for the 'previous' pagination button (to take the user to  \n\t\t\t\t * the previous page).\n\t\t\t\t *  @type string\n\t\t\t\t *  @default Previous\n\t\t\t\t *  @dtopt Language\n\t\t\t\t * \n\t\t\t\t *  @example\n\t\t\t\t *    $(document).ready( function() {\n\t\t\t\t *      $('#example').dataTable( {\n\t\t\t\t *        \"oLanguage\": {\n\t\t\t\t *          \"oPaginate\": {\n\t\t\t\t *            \"sPrevious\": \"Previous page\"\n\t\t\t\t *          }\n\t\t\t\t *        }\n\t\t\t\t *      } );\n\t\t\t\t *    } );\n\t\t\t\t */\n\t\t\t\t\"sPrevious\": \"Previous\"\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * This string is shown in preference to sZeroRecords when the table is\n\t\t\t * empty of data (regardless of filtering). Note that this is an optional\n\t\t\t * parameter - if it is not given, the value of sZeroRecords will be used\n\t\t\t * instead (either the default or given value).\n\t\t\t *  @type string\n\t\t\t *  @default No data available in table\n\t\t\t *  @dtopt Language\n\t\t\t * \n\t\t\t *  @example\n\t\t\t *    $(document).ready( function() {\n\t\t\t *      $('#example').dataTable( {\n\t\t\t *        \"oLanguage\": {\n\t\t\t *          \"sEmptyTable\": \"No data available in table\"\n\t\t\t *        }\n\t\t\t *      } );\n\t\t\t *    } );\n\t\t\t */\n\t\t\t\"sEmptyTable\": \"No data available in table\",\n\t\t\n\t\t\n\t\t\t/**\n\t\t\t * This string gives information to the end user about the information that \n\t\t\t * is current on display on the page. The _START_, _END_ and _TOTAL_ \n\t\t\t * variables are all dynamically replaced as the table display updates, and \n\t\t\t * can be freely moved or removed as the language requirements change.\n\t\t\t *  @type string\n\t\t\t *  @default Showing _START_ to _END_ of _TOTAL_ entries\n\t\t\t *  @dtopt Language\n\t\t\t * \n\t\t\t *  @example\n\t\t\t *    $(document).ready( function() {\n\t\t\t *      $('#example').dataTable( {\n\t\t\t *        \"oLanguage\": {\n\t\t\t *          \"sInfo\": \"Got a total of _TOTAL_ entries to show (_START_ to _END_)\"\n\t\t\t *        }\n\t\t\t *      } );\n\t\t\t *    } );\n\t\t\t */\n\t\t\t\"sInfo\": \"Showing _START_ to _END_ of _TOTAL_ entries\",\n\t\t\n\t\t\n\t\t\t/**\n\t\t\t * Display information string for when the table is empty. Typically the \n\t\t\t * format of this string should match sInfo.\n\t\t\t *  @type string\n\t\t\t *  @default Showing 0 to 0 of 0 entries\n\t\t\t *  @dtopt Language\n\t\t\t * \n\t\t\t *  @example\n\t\t\t *    $(document).ready( function() {\n\t\t\t *      $('#example').dataTable( {\n\t\t\t *        \"oLanguage\": {\n\t\t\t *          \"sInfoEmpty\": \"No entries to show\"\n\t\t\t *        }\n\t\t\t *      } );\n\t\t\t *    } );\n\t\t\t */\n\t\t\t\"sInfoEmpty\": \"Showing 0 to 0 of 0 entries\",\n\t\t\n\t\t\n\t\t\t/**\n\t\t\t * When a user filters the information in a table, this string is appended \n\t\t\t * to the information (sInfo) to give an idea of how strong the filtering \n\t\t\t * is. The variable _MAX_ is dynamically updated.\n\t\t\t *  @type string\n\t\t\t *  @default (filtered from _MAX_ total entries)\n\t\t\t *  @dtopt Language\n\t\t\t * \n\t\t\t *  @example\n\t\t\t *    $(document).ready( function() {\n\t\t\t *      $('#example').dataTable( {\n\t\t\t *        \"oLanguage\": {\n\t\t\t *          \"sInfoFiltered\": \" - filtering from _MAX_ records\"\n\t\t\t *        }\n\t\t\t *      } );\n\t\t\t *    } );\n\t\t\t */\n\t\t\t\"sInfoFiltered\": \"(filtered from _MAX_ total entries)\",\n\t\t\n\t\t\n\t\t\t/**\n\t\t\t * If can be useful to append extra information to the info string at times,\n\t\t\t * and this variable does exactly that. This information will be appended to\n\t\t\t * the sInfo (sInfoEmpty and sInfoFiltered in whatever combination they are\n\t\t\t * being used) at all times.\n\t\t\t *  @type string\n\t\t\t *  @default <i>Empty string</i>\n\t\t\t *  @dtopt Language\n\t\t\t * \n\t\t\t *  @example\n\t\t\t *    $(document).ready( function() {\n\t\t\t *      $('#example').dataTable( {\n\t\t\t *        \"oLanguage\": {\n\t\t\t *          \"sInfoPostFix\": \"All records shown are derived from real information.\"\n\t\t\t *        }\n\t\t\t *      } );\n\t\t\t *    } );\n\t\t\t */\n\t\t\t\"sInfoPostFix\": \"\",\n\t\t\n\t\t\n\t\t\t/**\n\t\t\t * DataTables has a build in number formatter (fnFormatNumber) which is used\n\t\t\t * to format large numbers that are used in the table information. By\n\t\t\t * default a comma is used, but this can be trivially changed to any\n\t\t\t * character you wish with this parameter.\n\t\t\t *  @type string\n\t\t\t *  @default ,\n\t\t\t *  @dtopt Language\n\t\t\t * \n\t\t\t *  @example\n\t\t\t *    $(document).ready( function() {\n\t\t\t *      $('#example').dataTable( {\n\t\t\t *        \"oLanguage\": {\n\t\t\t *          \"sInfoThousands\": \"'\"\n\t\t\t *        }\n\t\t\t *      } );\n\t\t\t *    } );\n\t\t\t */\n\t\t\t\"sInfoThousands\": \",\",\n\t\t\n\t\t\n\t\t\t/**\n\t\t\t * Detail the action that will be taken when the drop down menu for the\n\t\t\t * pagination length option is changed. The '_MENU_' variable is replaced\n\t\t\t * with a default select list of 10, 25, 50 and 100, and can be replaced\n\t\t\t * with a custom select box if required.\n\t\t\t *  @type string\n\t\t\t *  @default Show _MENU_ entries\n\t\t\t *  @dtopt Language\n\t\t\t * \n\t\t\t *  @example\n\t\t\t *    // Language change only\n\t\t\t *    $(document).ready( function() {\n\t\t\t *      $('#example').dataTable( {\n\t\t\t *        \"oLanguage\": {\n\t\t\t *          \"sLengthMenu\": \"Display _MENU_ records\"\n\t\t\t *        }\n\t\t\t *      } );\n\t\t\t *    } );\n\t\t\t *    \n\t\t\t *  @example\n\t\t\t *    // Language and options change\n\t\t\t *    $(document).ready( function() {\n\t\t\t *      $('#example').dataTable( {\n\t\t\t *        \"oLanguage\": {\n\t\t\t *          \"sLengthMenu\": 'Display <select>'+\n\t\t\t *            '<option value=\"10\">10</option>'+\n\t\t\t *            '<option value=\"20\">20</option>'+\n\t\t\t *            '<option value=\"30\">30</option>'+\n\t\t\t *            '<option value=\"40\">40</option>'+\n\t\t\t *            '<option value=\"50\">50</option>'+\n\t\t\t *            '<option value=\"-1\">All</option>'+\n\t\t\t *            '</select> records'\n\t\t\t *        }\n\t\t\t *      } );\n\t\t\t *    } );\n\t\t\t */\n\t\t\t\"sLengthMenu\": \"Show _MENU_ entries\",\n\t\t\n\t\t\n\t\t\t/**\n\t\t\t * When using Ajax sourced data and during the first draw when DataTables is\n\t\t\t * gathering the data, this message is shown in an empty row in the table to\n\t\t\t * indicate to the end user the the data is being loaded. Note that this\n\t\t\t * parameter is not used when loading data by server-side processing, just\n\t\t\t * Ajax sourced data with client-side processing.\n\t\t\t *  @type string\n\t\t\t *  @default Loading...\n\t\t\t *  @dtopt Language\n\t\t\t * \n\t\t\t *  @example\n\t\t\t *    $(document).ready( function() {\n\t\t\t *      $('#example').dataTable( {\n\t\t\t *        \"oLanguage\": {\n\t\t\t *          \"sLoadingRecords\": \"Please wait - loading...\"\n\t\t\t *        }\n\t\t\t *      } );\n\t\t\t *    } );\n\t\t\t */\n\t\t\t\"sLoadingRecords\": \"Loading...\",\n\t\t\n\t\t\n\t\t\t/**\n\t\t\t * Text which is displayed when the table is processing a user action\n\t\t\t * (usually a sort command or similar).\n\t\t\t *  @type string\n\t\t\t *  @default Processing...\n\t\t\t *  @dtopt Language\n\t\t\t * \n\t\t\t *  @example\n\t\t\t *    $(document).ready( function() {\n\t\t\t *      $('#example').dataTable( {\n\t\t\t *        \"oLanguage\": {\n\t\t\t *          \"sProcessing\": \"DataTables is currently busy\"\n\t\t\t *        }\n\t\t\t *      } );\n\t\t\t *    } );\n\t\t\t */\n\t\t\t\"sProcessing\": \"Processing...\",\n\t\t\n\t\t\n\t\t\t/**\n\t\t\t * Details the actions that will be taken when the user types into the\n\t\t\t * filtering input text box. The variable \"_INPUT_\", if used in the string,\n\t\t\t * is replaced with the HTML text box for the filtering input allowing\n\t\t\t * control over where it appears in the string. If \"_INPUT_\" is not given\n\t\t\t * then the input box is appended to the string automatically.\n\t\t\t *  @type string\n\t\t\t *  @default Search:\n\t\t\t *  @dtopt Language\n\t\t\t * \n\t\t\t *  @example\n\t\t\t *    // Input text box will be appended at the end automatically\n\t\t\t *    $(document).ready( function() {\n\t\t\t *      $('#example').dataTable( {\n\t\t\t *        \"oLanguage\": {\n\t\t\t *          \"sSearch\": \"Filter records:\"\n\t\t\t *        }\n\t\t\t *      } );\n\t\t\t *    } );\n\t\t\t *    \n\t\t\t *  @example\n\t\t\t *    // Specify where the filter should appear\n\t\t\t *    $(document).ready( function() {\n\t\t\t *      $('#example').dataTable( {\n\t\t\t *        \"oLanguage\": {\n\t\t\t *          \"sSearch\": \"Apply filter _INPUT_ to table\"\n\t\t\t *        }\n\t\t\t *      } );\n\t\t\t *    } );\n\t\t\t */\n\t\t\t\"sSearch\": \"Search:\",\n\t\t\n\t\t\n\t\t\t/**\n\t\t\t * All of the language information can be stored in a file on the\n\t\t\t * server-side, which DataTables will look up if this parameter is passed.\n\t\t\t * It must store the URL of the language file, which is in a JSON format,\n\t\t\t * and the object has the same properties as the oLanguage object in the\n\t\t\t * initialiser object (i.e. the above parameters). Please refer to one of\n\t\t\t * the example language files to see how this works in action.\n\t\t\t *  @type string\n\t\t\t *  @default <i>Empty string - i.e. disabled</i>\n\t\t\t *  @dtopt Language\n\t\t\t * \n\t\t\t *  @example\n\t\t\t *    $(document).ready( function() {\n\t\t\t *      $('#example').dataTable( {\n\t\t\t *        \"oLanguage\": {\n\t\t\t *          \"sUrl\": \"http://www.sprymedia.co.uk/dataTables/lang.txt\"\n\t\t\t *        }\n\t\t\t *      } );\n\t\t\t *    } );\n\t\t\t */\n\t\t\t\"sUrl\": \"\",\n\t\t\n\t\t\n\t\t\t/**\n\t\t\t * Text shown inside the table records when the is no information to be\n\t\t\t * displayed after filtering. sEmptyTable is shown when there is simply no\n\t\t\t * information in the table at all (regardless of filtering).\n\t\t\t *  @type string\n\t\t\t *  @default No matching records found\n\t\t\t *  @dtopt Language\n\t\t\t * \n\t\t\t *  @example\n\t\t\t *    $(document).ready( function() {\n\t\t\t *      $('#example').dataTable( {\n\t\t\t *        \"oLanguage\": {\n\t\t\t *          \"sZeroRecords\": \"No records to display\"\n\t\t\t *        }\n\t\t\t *      } );\n\t\t\t *    } );\n\t\t\t */\n\t\t\t\"sZeroRecords\": \"No matching records found\"\n\t\t},\n\t\n\t\n\t\t/**\n\t\t * This parameter allows you to have define the global filtering state at\n\t\t * initialisation time. As an object the \"sSearch\" parameter must be\n\t\t * defined, but all other parameters are optional. When \"bRegex\" is true,\n\t\t * the search string will be treated as a regular expression, when false\n\t\t * (default) it will be treated as a straight string. When \"bSmart\"\n\t\t * DataTables will use it's smart filtering methods (to word match at\n\t\t * any point in the data), when false this will not be done.\n\t\t *  @namespace\n\t\t *  @extends DataTable.models.oSearch\n\t\t *  @dtopt Options\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"oSearch\": {\"sSearch\": \"Initial search\"}\n\t\t *      } );\n\t\t *    } )\n\t\t */\n\t\t\"oSearch\": $.extend( {}, DataTable.models.oSearch ),\n\t\n\t\n\t\t/**\n\t\t * By default DataTables will look for the property 'aaData' when obtaining\n\t\t * data from an Ajax source or for server-side processing - this parameter\n\t\t * allows that property to be changed. You can use Javascript dotted object\n\t\t * notation to get a data source for multiple levels of nesting.\n\t\t *  @type string\n\t\t *  @default aaData\n\t\t *  @dtopt Options\n\t\t *  @dtopt Server-side\n\t\t * \n\t\t *  @example\n\t\t *    // Get data from { \"data\": [...] }\n\t\t *    $(document).ready( function() {\n\t\t *      var oTable = $('#example').dataTable( {\n\t\t *        \"sAjaxSource\": \"sources/data.txt\",\n\t\t *        \"sAjaxDataProp\": \"data\"\n\t\t *      } );\n\t\t *    } );\n\t\t *    \n\t\t *  @example\n\t\t *    // Get data from { \"data\": { \"inner\": [...] } }\n\t\t *    $(document).ready( function() {\n\t\t *      var oTable = $('#example').dataTable( {\n\t\t *        \"sAjaxSource\": \"sources/data.txt\",\n\t\t *        \"sAjaxDataProp\": \"data.inner\"\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"sAjaxDataProp\": \"aaData\",\n\t\n\t\n\t\t/**\n\t\t * You can instruct DataTables to load data from an external source using this\n\t\t * parameter (use aData if you want to pass data in you already have). Simply\n\t\t * provide a url a JSON object can be obtained from. This object must include\n\t\t * the parameter 'aaData' which is the data source for the table.\n\t\t *  @type string\n\t\t *  @default null\n\t\t *  @dtopt Options\n\t\t *  @dtopt Server-side\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"sAjaxSource\": \"http://www.sprymedia.co.uk/dataTables/json.php\"\n\t\t *      } );\n\t\t *    } )\n\t\t */\n\t\t\"sAjaxSource\": null,\n\t\n\t\n\t\t/**\n\t\t * This parameter can be used to override the default prefix that DataTables\n\t\t * assigns to a cookie when state saving is enabled.\n\t\t *  @type string\n\t\t *  @default SpryMedia_DataTables_\n\t\t *  @dtopt Options\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"sCookiePrefix\": \"my_datatable_\",\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"sCookiePrefix\": \"SpryMedia_DataTables_\",\n\t\n\t\n\t\t/**\n\t\t * This initialisation variable allows you to specify exactly where in the\n\t\t * DOM you want DataTables to inject the various controls it adds to the page\n\t\t * (for example you might want the pagination controls at the top of the\n\t\t * table). DIV elements (with or without a custom class) can also be added to\n\t\t * aid styling. The follow syntax is used:\n\t\t *   <ul>\n\t\t *     <li>The following options are allowed:\t\n\t\t *       <ul>\n\t\t *         <li>'l' - Length changing</li\n\t\t *         <li>'f' - Filtering input</li>\n\t\t *         <li>'t' - The table!</li>\n\t\t *         <li>'i' - Information</li>\n\t\t *         <li>'p' - Pagination</li>\n\t\t *         <li>'r' - pRocessing</li>\n\t\t *       </ul>\n\t\t *     </li>\n\t\t *     <li>The following constants are allowed:\n\t\t *       <ul>\n\t\t *         <li>'H' - jQueryUI theme \"header\" classes ('fg-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix')</li>\n\t\t *         <li>'F' - jQueryUI theme \"footer\" classes ('fg-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix')</li>\n\t\t *       </ul>\n\t\t *     </li>\n\t\t *     <li>The following syntax is expected:\n\t\t *       <ul>\n\t\t *         <li>'&lt;' and '&gt;' - div elements</li>\n\t\t *         <li>'&lt;\"class\" and '&gt;' - div with a class</li>\n\t\t *         <li>'&lt;\"#id\" and '&gt;' - div with an ID</li>\n\t\t *       </ul>\n\t\t *     </li>\n\t\t *     <li>Examples:\n\t\t *       <ul>\n\t\t *         <li>'&lt;\"wrapper\"flipt&gt;'</li>\n\t\t *         <li>'&lt;lf&lt;t&gt;ip&gt;'</li>\n\t\t *       </ul>\n\t\t *     </li>\n\t\t *   </ul>\n\t\t *  @type string\n\t\t *  @default lfrtip <i>(when bJQueryUI is false)</i> <b>or</b> \n\t\t *    <\"H\"lfr>t<\"F\"ip> <i>(when bJQueryUI is true)</i>\n\t\t *  @dtopt Options\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"sDom\": '&lt;\"top\"i&gt;rt&lt;\"bottom\"flp&gt;&lt;\"clear\"&gt;'\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"sDom\": \"lfrtip\",\n\t\n\t\n\t\t/**\n\t\t * DataTables features two different built-in pagination interaction methods\n\t\t * ('two_button' or 'full_numbers') which present different page controls to\n\t\t * the end user. Further methods can be added using the API (see below).\n\t\t *  @type string\n\t\t *  @default two_button\n\t\t *  @dtopt Options\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"sPaginationType\": \"full_numbers\"\n\t\t *      } );\n\t\t *    } )\n\t\t */\n\t\t\"sPaginationType\": \"two_button\",\n\t\n\t\n\t\t/**\n\t\t * Enable horizontal scrolling. When a table is too wide to fit into a certain\n\t\t * layout, or you have a large number of columns in the table, you can enable\n\t\t * x-scrolling to show the table in a viewport, which can be scrolled. This\n\t\t * property can be any CSS unit, or a number (in which case it will be treated\n\t\t * as a pixel measurement).\n\t\t *  @type string\n\t\t *  @default <i>blank string - i.e. disabled</i>\n\t\t *  @dtopt Features\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"sScrollX\": \"100%\",\n\t\t *        \"bScrollCollapse\": true\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"sScrollX\": \"\",\n\t\n\t\n\t\t/**\n\t\t * This property can be used to force a DataTable to use more width than it\n\t\t * might otherwise do when x-scrolling is enabled. For example if you have a\n\t\t * table which requires to be well spaced, this parameter is useful for\n\t\t * \"over-sizing\" the table, and thus forcing scrolling. This property can by\n\t\t * any CSS unit, or a number (in which case it will be treated as a pixel\n\t\t * measurement).\n\t\t *  @type string\n\t\t *  @default <i>blank string - i.e. disabled</i>\n\t\t *  @dtopt Options\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"sScrollX\": \"100%\",\n\t\t *        \"sScrollXInner\": \"110%\"\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"sScrollXInner\": \"\",\n\t\n\t\n\t\t/**\n\t\t * Enable vertical scrolling. Vertical scrolling will constrain the DataTable\n\t\t * to the given height, and enable scrolling for any data which overflows the\n\t\t * current viewport. This can be used as an alternative to paging to display\n\t\t * a lot of data in a small area (although paging and scrolling can both be\n\t\t * enabled at the same time). This property can be any CSS unit, or a number\n\t\t * (in which case it will be treated as a pixel measurement).\n\t\t *  @type string\n\t\t *  @default <i>blank string - i.e. disabled</i>\n\t\t *  @dtopt Features\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"sScrollY\": \"200px\",\n\t\t *        \"bPaginate\": false\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"sScrollY\": \"\",\n\t\n\t\n\t\t/**\n\t\t * Set the HTTP method that is used to make the Ajax call for server-side\n\t\t * processing or Ajax sourced data.\n\t\t *  @type string\n\t\t *  @default GET\n\t\t *  @dtopt Options\n\t\t *  @dtopt Server-side\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"bServerSide\": true,\n\t\t *        \"sAjaxSource\": \"scripts/post.php\",\n\t\t *        \"sServerMethod\": \"POST\"\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"sServerMethod\": \"GET\"\n\t};\n\t\n\t\n\t\n\t/**\n\t * Column options that can be given to DataTables at initialisation time.\n\t *  @namespace\n\t */\n\tDataTable.defaults.columns = {\n\t\t/**\n\t\t * Allows a column's sorting to take multiple columns into account when \n\t\t * doing a sort. For example first name / last name columns make sense to \n\t\t * do a multi-column sort over the two columns.\n\t\t *  @type array\n\t\t *  @default null <i>Takes the value of the column index automatically</i>\n\t\t *  @dtopt Columns\n\t\t * \n\t\t *  @example\n\t\t *    // Using aoColumnDefs\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumnDefs\": [\n\t\t *          { \"aDataSort\": [ 0, 1 ], \"aTargets\": [ 0 ] },\n\t\t *          { \"aDataSort\": [ 1, 0 ], \"aTargets\": [ 1 ] },\n\t\t *          { \"aDataSort\": [ 2, 3, 4 ], \"aTargets\": [ 2 ] }\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t *    \n\t\t *  @example\n\t\t *    // Using aoColumns\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumns\": [\n\t\t *          { \"aDataSort\": [ 0, 1 ] },\n\t\t *          { \"aDataSort\": [ 1, 0 ] },\n\t\t *          { \"aDataSort\": [ 2, 3, 4 ] },\n\t\t *          null,\n\t\t *          null\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"aDataSort\": null,\n\t\n\t\n\t\t/**\n\t\t * You can control the default sorting direction, and even alter the behaviour\n\t\t * of the sort handler (i.e. only allow ascending sorting etc) using this\n\t\t * parameter.\n\t\t *  @type array\n\t\t *  @default [ 'asc', 'desc' ]\n\t\t *  @dtopt Columns\n\t\t * \n\t\t *  @example\n\t\t *    // Using aoColumnDefs\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumnDefs\": [\n\t\t *          { \"asSorting\": [ \"asc\" ], \"aTargets\": [ 1 ] },\n\t\t *          { \"asSorting\": [ \"desc\", \"asc\", \"asc\" ], \"aTargets\": [ 2 ] },\n\t\t *          { \"asSorting\": [ \"desc\" ], \"aTargets\": [ 3 ] }\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t *    \n\t\t *  @example\n\t\t *    // Using aoColumns\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumns\": [\n\t\t *          null,\n\t\t *          { \"asSorting\": [ \"asc\" ] },\n\t\t *          { \"asSorting\": [ \"desc\", \"asc\", \"asc\" ] },\n\t\t *          { \"asSorting\": [ \"desc\" ] },\n\t\t *          null\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"asSorting\": [ 'asc', 'desc' ],\n\t\n\t\n\t\t/**\n\t\t * Enable or disable filtering on the data in this column.\n\t\t *  @type boolean\n\t\t *  @default true\n\t\t *  @dtopt Columns\n\t\t * \n\t\t *  @example\n\t\t *    // Using aoColumnDefs\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumnDefs\": [ \n\t\t *          { \"bSearchable\": false, \"aTargets\": [ 0 ] }\n\t\t *        ] } );\n\t\t *    } );\n\t\t *    \n\t\t *  @example\n\t\t *    // Using aoColumns\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumns\": [ \n\t\t *          { \"bSearchable\": false },\n\t\t *          null,\n\t\t *          null,\n\t\t *          null,\n\t\t *          null\n\t\t *        ] } );\n\t\t *    } );\n\t\t */\n\t\t\"bSearchable\": true,\n\t\n\t\n\t\t/**\n\t\t * Enable or disable sorting on this column.\n\t\t *  @type boolean\n\t\t *  @default true\n\t\t *  @dtopt Columns\n\t\t * \n\t\t *  @example\n\t\t *    // Using aoColumnDefs\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumnDefs\": [ \n\t\t *          { \"bSortable\": false, \"aTargets\": [ 0 ] }\n\t\t *        ] } );\n\t\t *    } );\n\t\t *    \n\t\t *  @example\n\t\t *    // Using aoColumns\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumns\": [ \n\t\t *          { \"bSortable\": false },\n\t\t *          null,\n\t\t *          null,\n\t\t *          null,\n\t\t *          null\n\t\t *        ] } );\n\t\t *    } );\n\t\t */\n\t\t\"bSortable\": true,\n\t\n\t\n\t\t/**\n\t\t * <code>Deprecated</code> When using fnRender() for a column, you may wish \n\t\t * to use the original data (before rendering) for sorting and filtering \n\t\t * (the default is to used the rendered data that the user can see). This \n\t\t * may be useful for dates etc.\n\t\t * \n\t\t * Please note that this option has now been deprecated and will be removed\n\t\t * in the next version of DataTables. Please use mRender / mData rather than\n\t\t * fnRender.\n\t\t *  @type boolean\n\t\t *  @default true\n\t\t *  @dtopt Columns\n\t\t *  @deprecated\n\t\t */\n\t\t\"bUseRendered\": true,\n\t\n\t\n\t\t/**\n\t\t * Enable or disable the display of this column.\n\t\t *  @type boolean\n\t\t *  @default true\n\t\t *  @dtopt Columns\n\t\t * \n\t\t *  @example\n\t\t *    // Using aoColumnDefs\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumnDefs\": [ \n\t\t *          { \"bVisible\": false, \"aTargets\": [ 0 ] }\n\t\t *        ] } );\n\t\t *    } );\n\t\t *    \n\t\t *  @example\n\t\t *    // Using aoColumns\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumns\": [ \n\t\t *          { \"bVisible\": false },\n\t\t *          null,\n\t\t *          null,\n\t\t *          null,\n\t\t *          null\n\t\t *        ] } );\n\t\t *    } );\n\t\t */\n\t\t\"bVisible\": true,\n\t\t\n\t\t\n\t\t/**\n\t\t * Developer definable function that is called whenever a cell is created (Ajax source,\n\t\t * etc) or processed for input (DOM source). This can be used as a compliment to mRender\n\t\t * allowing you to modify the DOM element (add background colour for example) when the\n\t\t * element is available.\n\t\t *  @type function\n\t\t *  @param {element} nTd The TD node that has been created\n\t\t *  @param {*} sData The Data for the cell\n\t\t *  @param {array|object} oData The data for the whole row\n\t\t *  @param {int} iRow The row index for the aoData data store\n\t\t *  @param {int} iCol The column index for aoColumns\n\t\t *  @dtopt Columns\n\t\t * \n\t\t *  @example\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumnDefs\": [ {\n\t\t *          \"aTargets\": [3],\n\t\t *          \"fnCreatedCell\": function (nTd, sData, oData, iRow, iCol) {\n\t\t *            if ( sData == \"1.7\" ) {\n\t\t *              $(nTd).css('color', 'blue')\n\t\t *            }\n\t\t *          }\n\t\t *        } ]\n\t\t *      });\n\t\t *    } );\n\t\t */\n\t\t\"fnCreatedCell\": null,\n\t\n\t\n\t\t/**\n\t\t * <code>Deprecated</code> Custom display function that will be called for the \n\t\t * display of each cell in this column.\n\t\t *\n\t\t * Please note that this option has now been deprecated and will be removed\n\t\t * in the next version of DataTables. Please use mRender / mData rather than\n\t\t * fnRender.\n\t\t *  @type function\n\t\t *  @param {object} o Object with the following parameters:\n\t\t *  @param {int}    o.iDataRow The row in aoData\n\t\t *  @param {int}    o.iDataColumn The column in question\n\t\t *  @param {array}  o.aData The data for the row in question\n\t\t *  @param {object} o.oSettings The settings object for this DataTables instance\n\t\t *  @param {object} o.mDataProp The data property used for this column\n\t\t *  @param {*}      val The current cell value\n\t\t *  @returns {string} The string you which to use in the display\n\t\t *  @dtopt Columns\n\t\t *  @deprecated\n\t\t */\n\t\t\"fnRender\": null,\n\t\n\t\n\t\t/**\n\t\t * The column index (starting from 0!) that you wish a sort to be performed\n\t\t * upon when this column is selected for sorting. This can be used for sorting\n\t\t * on hidden columns for example.\n\t\t *  @type int\n\t\t *  @default -1 <i>Use automatically calculated column index</i>\n\t\t *  @dtopt Columns\n\t\t * \n\t\t *  @example\n\t\t *    // Using aoColumnDefs\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumnDefs\": [ \n\t\t *          { \"iDataSort\": 1, \"aTargets\": [ 0 ] }\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t *    \n\t\t *  @example\n\t\t *    // Using aoColumns\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumns\": [ \n\t\t *          { \"iDataSort\": 1 },\n\t\t *          null,\n\t\t *          null,\n\t\t *          null,\n\t\t *          null\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"iDataSort\": -1,\n\t\n\t\n\t\t/**\n\t\t * This parameter has been replaced by mData in DataTables to ensure naming\n\t\t * consistency. mDataProp can still be used, as there is backwards compatibility\n\t\t * in DataTables for this option, but it is strongly recommended that you use\n\t\t * mData in preference to mDataProp.\n\t\t *  @name DataTable.defaults.columns.mDataProp\n\t\t */\n\t\n\t\n\t\t/**\n\t\t * This property can be used to read data from any JSON data source property,\n\t\t * including deeply nested objects / properties. mData can be given in a\n\t\t * number of different ways which effect its behaviour:\n\t\t *   <ul>\n\t\t *     <li>integer - treated as an array index for the data source. This is the\n\t\t *       default that DataTables uses (incrementally increased for each column).</li>\n\t\t *     <li>string - read an object property from the data source. Note that you can\n\t\t *       use Javascript dotted notation to read deep properties / arrays from the\n\t\t *       data source.</li>\n\t\t *     <li>null - the sDefaultContent option will be used for the cell (null\n\t\t *       by default, so you will need to specify the default content you want -\n\t\t *       typically an empty string). This can be useful on generated columns such \n\t\t *       as edit / delete action columns.</li>\n\t\t *     <li>function - the function given will be executed whenever DataTables \n\t\t *       needs to set or get the data for a cell in the column. The function \n\t\t *       takes three parameters:\n\t\t *       <ul>\n\t\t *         <li>{array|object} The data source for the row</li>\n\t\t *         <li>{string} The type call data requested - this will be 'set' when\n\t\t *           setting data or 'filter', 'display', 'type', 'sort' or undefined when \n\t\t *           gathering data. Note that when <i>undefined</i> is given for the type\n\t\t *           DataTables expects to get the raw data for the object back</li>\n\t\t *         <li>{*} Data to set when the second parameter is 'set'.</li>\n\t\t *       </ul>\n\t\t *       The return value from the function is not required when 'set' is the type\n\t\t *       of call, but otherwise the return is what will be used for the data\n\t\t *       requested.</li>\n\t\t *    </ul>\n\t\t *\n\t\t * Note that prior to DataTables 1.9.2 mData was called mDataProp. The name change\n\t\t * reflects the flexibility of this property and is consistent with the naming of\n\t\t * mRender. If 'mDataProp' is given, then it will still be used by DataTables, as\n\t\t * it automatically maps the old name to the new if required.\n\t\t *  @type string|int|function|null\n\t\t *  @default null <i>Use automatically calculated column index</i>\n\t\t *  @dtopt Columns\n\t\t * \n\t\t *  @example\n\t\t *    // Read table data from objects\n\t\t *    $(document).ready( function() {\n\t\t *      var oTable = $('#example').dataTable( {\n\t\t *        \"sAjaxSource\": \"sources/deep.txt\",\n\t\t *        \"aoColumns\": [\n\t\t *          { \"mData\": \"engine\" },\n\t\t *          { \"mData\": \"browser\" },\n\t\t *          { \"mData\": \"platform.inner\" },\n\t\t *          { \"mData\": \"platform.details.0\" },\n\t\t *          { \"mData\": \"platform.details.1\" }\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t * \n\t\t *  @example\n\t\t *    // Using mData as a function to provide different information for\n\t\t *    // sorting, filtering and display. In this case, currency (price)\n\t\t *    $(document).ready( function() {\n\t\t *      var oTable = $('#example').dataTable( {\n\t\t *        \"aoColumnDefs\": [ {\n\t\t *          \"aTargets\": [ 0 ],\n\t\t *          \"mData\": function ( source, type, val ) {\n\t\t *            if (type === 'set') {\n\t\t *              source.price = val;\n\t\t *              // Store the computed dislay and filter values for efficiency\n\t\t *              source.price_display = val==\"\" ? \"\" : \"$\"+numberFormat(val);\n\t\t *              source.price_filter  = val==\"\" ? \"\" : \"$\"+numberFormat(val)+\" \"+val;\n\t\t *              return;\n\t\t *            }\n\t\t *            else if (type === 'display') {\n\t\t *              return source.price_display;\n\t\t *            }\n\t\t *            else if (type === 'filter') {\n\t\t *              return source.price_filter;\n\t\t *            }\n\t\t *            // 'sort', 'type' and undefined all just use the integer\n\t\t *            return source.price;\n\t\t *          }\n\t\t *        } ]\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"mData\": null,\n\t\n\t\n\t\t/**\n\t\t * This property is the rendering partner to mData and it is suggested that\n\t\t * when you want to manipulate data for display (including filtering, sorting etc)\n\t\t * but not altering the underlying data for the table, use this property. mData\n\t\t * can actually do everything this property can and more, but this parameter is\n\t\t * easier to use since there is no 'set' option. Like mData is can be given\n\t\t * in a number of different ways to effect its behaviour, with the addition of \n\t\t * supporting array syntax for easy outputting of arrays (including arrays of\n\t\t * objects):\n\t\t *   <ul>\n\t\t *     <li>integer - treated as an array index for the data source. This is the\n\t\t *       default that DataTables uses (incrementally increased for each column).</li>\n\t\t *     <li>string - read an object property from the data source. Note that you can\n\t\t *       use Javascript dotted notation to read deep properties / arrays from the\n\t\t *       data source and also array brackets to indicate that the data reader should\n\t\t *       loop over the data source array. When characters are given between the array\n\t\t *       brackets, these characters are used to join the data source array together.\n\t\t *       For example: \"accounts[, ].name\" would result in a comma separated list with\n\t\t *       the 'name' value from the 'accounts' array of objects.</li>\n\t\t *     <li>function - the function given will be executed whenever DataTables \n\t\t *       needs to set or get the data for a cell in the column. The function \n\t\t *       takes three parameters:\n\t\t *       <ul>\n\t\t *         <li>{array|object} The data source for the row (based on mData)</li>\n\t\t *         <li>{string} The type call data requested - this will be 'filter', 'display', \n\t\t *           'type' or 'sort'.</li>\n\t\t *         <li>{array|object} The full data source for the row (not based on mData)</li>\n\t\t *       </ul>\n\t\t *       The return value from the function is what will be used for the data\n\t\t *       requested.</li>\n\t\t *    </ul>\n\t\t *  @type string|int|function|null\n\t\t *  @default null <i>Use mData</i>\n\t\t *  @dtopt Columns\n\t\t * \n\t\t *  @example\n\t\t *    // Create a comma separated list from an array of objects\n\t\t *    $(document).ready( function() {\n\t\t *      var oTable = $('#example').dataTable( {\n\t\t *        \"sAjaxSource\": \"sources/deep.txt\",\n\t\t *        \"aoColumns\": [\n\t\t *          { \"mData\": \"engine\" },\n\t\t *          { \"mData\": \"browser\" },\n\t\t *          {\n\t\t *            \"mData\": \"platform\",\n\t\t *            \"mRender\": \"[, ].name\"\n\t\t *          }\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t * \n\t\t *  @example\n\t\t *    // Use as a function to create a link from the data source\n\t\t *    $(document).ready( function() {\n\t\t *      var oTable = $('#example').dataTable( {\n\t\t *        \"aoColumnDefs\": [\n\t\t *        {\n\t\t *          \"aTargets\": [ 0 ],\n\t\t *          \"mData\": \"download_link\",\n\t\t *          \"mRender\": function ( data, type, full ) {\n\t\t *            return '<a href=\"'+data+'\">Download</a>';\n\t\t *          }\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"mRender\": null,\n\t\n\t\n\t\t/**\n\t\t * Change the cell type created for the column - either TD cells or TH cells. This\n\t\t * can be useful as TH cells have semantic meaning in the table body, allowing them\n\t\t * to act as a header for a row (you may wish to add scope='row' to the TH elements).\n\t\t *  @type string\n\t\t *  @default td\n\t\t *  @dtopt Columns\n\t\t * \n\t\t *  @example\n\t\t *    // Make the first column use TH cells\n\t\t *    $(document).ready( function() {\n\t\t *      var oTable = $('#example').dataTable( {\n\t\t *        \"aoColumnDefs\": [ {\n\t\t *          \"aTargets\": [ 0 ],\n\t\t *          \"sCellType\": \"th\"\n\t\t *        } ]\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"sCellType\": \"td\",\n\t\n\t\n\t\t/**\n\t\t * Class to give to each cell in this column.\n\t\t *  @type string\n\t\t *  @default <i>Empty string</i>\n\t\t *  @dtopt Columns\n\t\t * \n\t\t *  @example\n\t\t *    // Using aoColumnDefs\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumnDefs\": [ \n\t\t *          { \"sClass\": \"my_class\", \"aTargets\": [ 0 ] }\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t *    \n\t\t *  @example\n\t\t *    // Using aoColumns\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumns\": [ \n\t\t *          { \"sClass\": \"my_class\" },\n\t\t *          null,\n\t\t *          null,\n\t\t *          null,\n\t\t *          null\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"sClass\": \"\",\n\t\t\n\t\t/**\n\t\t * When DataTables calculates the column widths to assign to each column,\n\t\t * it finds the longest string in each column and then constructs a\n\t\t * temporary table and reads the widths from that. The problem with this\n\t\t * is that \"mmm\" is much wider then \"iiii\", but the latter is a longer \n\t\t * string - thus the calculation can go wrong (doing it properly and putting\n\t\t * it into an DOM object and measuring that is horribly(!) slow). Thus as\n\t\t * a \"work around\" we provide this option. It will append its value to the\n\t\t * text that is found to be the longest string for the column - i.e. padding.\n\t\t * Generally you shouldn't need this, and it is not documented on the \n\t\t * general DataTables.net documentation\n\t\t *  @type string\n\t\t *  @default <i>Empty string<i>\n\t\t *  @dtopt Columns\n\t\t *    \n\t\t *  @example\n\t\t *    // Using aoColumns\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumns\": [ \n\t\t *          null,\n\t\t *          null,\n\t\t *          null,\n\t\t *          {\n\t\t *            \"sContentPadding\": \"mmm\"\n\t\t *          }\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"sContentPadding\": \"\",\n\t\n\t\n\t\t/**\n\t\t * Allows a default value to be given for a column's data, and will be used\n\t\t * whenever a null data source is encountered (this can be because mData\n\t\t * is set to null, or because the data source itself is null).\n\t\t *  @type string\n\t\t *  @default null\n\t\t *  @dtopt Columns\n\t\t * \n\t\t *  @example\n\t\t *    // Using aoColumnDefs\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumnDefs\": [ \n\t\t *          {\n\t\t *            \"mData\": null,\n\t\t *            \"sDefaultContent\": \"Edit\",\n\t\t *            \"aTargets\": [ -1 ]\n\t\t *          }\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t *    \n\t\t *  @example\n\t\t *    // Using aoColumns\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumns\": [ \n\t\t *          null,\n\t\t *          null,\n\t\t *          null,\n\t\t *          {\n\t\t *            \"mData\": null,\n\t\t *            \"sDefaultContent\": \"Edit\"\n\t\t *          }\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"sDefaultContent\": null,\n\t\n\t\n\t\t/**\n\t\t * This parameter is only used in DataTables' server-side processing. It can\n\t\t * be exceptionally useful to know what columns are being displayed on the\n\t\t * client side, and to map these to database fields. When defined, the names\n\t\t * also allow DataTables to reorder information from the server if it comes\n\t\t * back in an unexpected order (i.e. if you switch your columns around on the\n\t\t * client-side, your server-side code does not also need updating).\n\t\t *  @type string\n\t\t *  @default <i>Empty string</i>\n\t\t *  @dtopt Columns\n\t\t * \n\t\t *  @example\n\t\t *    // Using aoColumnDefs\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumnDefs\": [ \n\t\t *          { \"sName\": \"engine\", \"aTargets\": [ 0 ] },\n\t\t *          { \"sName\": \"browser\", \"aTargets\": [ 1 ] },\n\t\t *          { \"sName\": \"platform\", \"aTargets\": [ 2 ] },\n\t\t *          { \"sName\": \"version\", \"aTargets\": [ 3 ] },\n\t\t *          { \"sName\": \"grade\", \"aTargets\": [ 4 ] }\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t *    \n\t\t *  @example\n\t\t *    // Using aoColumns\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumns\": [ \n\t\t *          { \"sName\": \"engine\" },\n\t\t *          { \"sName\": \"browser\" },\n\t\t *          { \"sName\": \"platform\" },\n\t\t *          { \"sName\": \"version\" },\n\t\t *          { \"sName\": \"grade\" }\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"sName\": \"\",\n\t\n\t\n\t\t/**\n\t\t * Defines a data source type for the sorting which can be used to read\n\t\t * real-time information from the table (updating the internally cached\n\t\t * version) prior to sorting. This allows sorting to occur on user editable\n\t\t * elements such as form inputs.\n\t\t *  @type string\n\t\t *  @default std\n\t\t *  @dtopt Columns\n\t\t * \n\t\t *  @example\n\t\t *    // Using aoColumnDefs\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumnDefs\": [\n\t\t *          { \"sSortDataType\": \"dom-text\", \"aTargets\": [ 2, 3 ] },\n\t\t *          { \"sType\": \"numeric\", \"aTargets\": [ 3 ] },\n\t\t *          { \"sSortDataType\": \"dom-select\", \"aTargets\": [ 4 ] },\n\t\t *          { \"sSortDataType\": \"dom-checkbox\", \"aTargets\": [ 5 ] }\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t *    \n\t\t *  @example\n\t\t *    // Using aoColumns\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumns\": [\n\t\t *          null,\n\t\t *          null,\n\t\t *          { \"sSortDataType\": \"dom-text\" },\n\t\t *          { \"sSortDataType\": \"dom-text\", \"sType\": \"numeric\" },\n\t\t *          { \"sSortDataType\": \"dom-select\" },\n\t\t *          { \"sSortDataType\": \"dom-checkbox\" }\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"sSortDataType\": \"std\",\n\t\n\t\n\t\t/**\n\t\t * The title of this column.\n\t\t *  @type string\n\t\t *  @default null <i>Derived from the 'TH' value for this column in the \n\t\t *    original HTML table.</i>\n\t\t *  @dtopt Columns\n\t\t * \n\t\t *  @example\n\t\t *    // Using aoColumnDefs\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumnDefs\": [ \n\t\t *          { \"sTitle\": \"My column title\", \"aTargets\": [ 0 ] }\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t *    \n\t\t *  @example\n\t\t *    // Using aoColumns\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumns\": [ \n\t\t *          { \"sTitle\": \"My column title\" },\n\t\t *          null,\n\t\t *          null,\n\t\t *          null,\n\t\t *          null\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"sTitle\": null,\n\t\n\t\n\t\t/**\n\t\t * The type allows you to specify how the data for this column will be sorted.\n\t\t * Four types (string, numeric, date and html (which will strip HTML tags\n\t\t * before sorting)) are currently available. Note that only date formats\n\t\t * understood by Javascript's Date() object will be accepted as type date. For\n\t\t * example: \"Mar 26, 2008 5:03 PM\". May take the values: 'string', 'numeric',\n\t\t * 'date' or 'html' (by default). Further types can be adding through\n\t\t * plug-ins.\n\t\t *  @type string\n\t\t *  @default null <i>Auto-detected from raw data</i>\n\t\t *  @dtopt Columns\n\t\t * \n\t\t *  @example\n\t\t *    // Using aoColumnDefs\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumnDefs\": [ \n\t\t *          { \"sType\": \"html\", \"aTargets\": [ 0 ] }\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t *    \n\t\t *  @example\n\t\t *    // Using aoColumns\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumns\": [ \n\t\t *          { \"sType\": \"html\" },\n\t\t *          null,\n\t\t *          null,\n\t\t *          null,\n\t\t *          null\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"sType\": null,\n\t\n\t\n\t\t/**\n\t\t * Defining the width of the column, this parameter may take any CSS value\n\t\t * (3em, 20px etc). DataTables apples 'smart' widths to columns which have not\n\t\t * been given a specific width through this interface ensuring that the table\n\t\t * remains readable.\n\t\t *  @type string\n\t\t *  @default null <i>Automatic</i>\n\t\t *  @dtopt Columns\n\t\t * \n\t\t *  @example\n\t\t *    // Using aoColumnDefs\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumnDefs\": [ \n\t\t *          { \"sWidth\": \"20%\", \"aTargets\": [ 0 ] }\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t *    \n\t\t *  @example\n\t\t *    // Using aoColumns\n\t\t *    $(document).ready( function() {\n\t\t *      $('#example').dataTable( {\n\t\t *        \"aoColumns\": [ \n\t\t *          { \"sWidth\": \"20%\" },\n\t\t *          null,\n\t\t *          null,\n\t\t *          null,\n\t\t *          null\n\t\t *        ]\n\t\t *      } );\n\t\t *    } );\n\t\t */\n\t\t\"sWidth\": null\n\t};\n\t\n\t\n\t\n\t/**\n\t * DataTables settings object - this holds all the information needed for a\n\t * given table, including configuration, data and current application of the\n\t * table options. DataTables does not have a single instance for each DataTable\n\t * with the settings attached to that instance, but rather instances of the\n\t * DataTable \"class\" are created on-the-fly as needed (typically by a \n\t * $().dataTable() call) and the settings object is then applied to that\n\t * instance.\n\t * \n\t * Note that this object is related to {@link DataTable.defaults} but this \n\t * one is the internal data store for DataTables's cache of columns. It should\n\t * NOT be manipulated outside of DataTables. Any configuration should be done\n\t * through the initialisation options.\n\t *  @namespace\n\t *  @todo Really should attach the settings object to individual instances so we\n\t *    don't need to create new instances on each $().dataTable() call (if the\n\t *    table already exists). It would also save passing oSettings around and\n\t *    into every single function. However, this is a very significant \n\t *    architecture change for DataTables and will almost certainly break\n\t *    backwards compatibility with older installations. This is something that\n\t *    will be done in 2.0.\n\t */\n\tDataTable.models.oSettings = {\n\t\t/**\n\t\t * Primary features of DataTables and their enablement state.\n\t\t *  @namespace\n\t\t */\n\t\t\"oFeatures\": {\n\t\t\t\n\t\t\t/**\n\t\t\t * Flag to say if DataTables should automatically try to calculate the\n\t\t\t * optimum table and columns widths (true) or not (false).\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t *  @type boolean\n\t\t\t */\n\t\t\t\"bAutoWidth\": null,\n\t\n\t\t\t/**\n\t\t\t * Delay the creation of TR and TD elements until they are actually\n\t\t\t * needed by a driven page draw. This can give a significant speed\n\t\t\t * increase for Ajax source and Javascript source data, but makes no\n\t\t\t * difference at all fro DOM and server-side processing tables.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t *  @type boolean\n\t\t\t */\n\t\t\t\"bDeferRender\": null,\n\t\t\t\n\t\t\t/**\n\t\t\t * Enable filtering on the table or not. Note that if this is disabled\n\t\t\t * then there is no filtering at all on the table, including fnFilter.\n\t\t\t * To just remove the filtering input use sDom and remove the 'f' option.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t *  @type boolean\n\t\t\t */\n\t\t\t\"bFilter\": null,\n\t\t\t\n\t\t\t/**\n\t\t\t * Table information element (the 'Showing x of y records' div) enable\n\t\t\t * flag.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t *  @type boolean\n\t\t\t */\n\t\t\t\"bInfo\": null,\n\t\t\t\n\t\t\t/**\n\t\t\t * Present a user control allowing the end user to change the page size\n\t\t\t * when pagination is enabled.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t *  @type boolean\n\t\t\t */\n\t\t\t\"bLengthChange\": null,\n\t\n\t\t\t/**\n\t\t\t * Pagination enabled or not. Note that if this is disabled then length\n\t\t\t * changing must also be disabled.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t *  @type boolean\n\t\t\t */\n\t\t\t\"bPaginate\": null,\n\t\t\t\n\t\t\t/**\n\t\t\t * Processing indicator enable flag whenever DataTables is enacting a\n\t\t\t * user request - typically an Ajax request for server-side processing.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t *  @type boolean\n\t\t\t */\n\t\t\t\"bProcessing\": null,\n\t\t\t\n\t\t\t/**\n\t\t\t * Server-side processing enabled flag - when enabled DataTables will\n\t\t\t * get all data from the server for every draw - there is no filtering,\n\t\t\t * sorting or paging done on the client-side.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t *  @type boolean\n\t\t\t */\n\t\t\t\"bServerSide\": null,\n\t\t\t\n\t\t\t/**\n\t\t\t * Sorting enablement flag.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t *  @type boolean\n\t\t\t */\n\t\t\t\"bSort\": null,\n\t\t\t\n\t\t\t/**\n\t\t\t * Apply a class to the columns which are being sorted to provide a\n\t\t\t * visual highlight or not. This can slow things down when enabled since\n\t\t\t * there is a lot of DOM interaction.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t *  @type boolean\n\t\t\t */\n\t\t\t\"bSortClasses\": null,\n\t\t\t\n\t\t\t/**\n\t\t\t * State saving enablement flag.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t *  @type boolean\n\t\t\t */\n\t\t\t\"bStateSave\": null\n\t\t},\n\t\t\n\t\n\t\t/**\n\t\t * Scrolling settings for a table.\n\t\t *  @namespace\n\t\t */\n\t\t\"oScroll\": {\n\t\t\t/**\n\t\t\t * Indicate if DataTables should be allowed to set the padding / margin\n\t\t\t * etc for the scrolling header elements or not. Typically you will want\n\t\t\t * this.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t *  @type boolean\n\t\t\t */\n\t\t\t\"bAutoCss\": null,\n\t\t\t\n\t\t\t/**\n\t\t\t * When the table is shorter in height than sScrollY, collapse the\n\t\t\t * table container down to the height of the table (when true).\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t *  @type boolean\n\t\t\t */\n\t\t\t\"bCollapse\": null,\n\t\t\t\n\t\t\t/**\n\t\t\t * Infinite scrolling enablement flag. Now deprecated in favour of\n\t\t\t * using the Scroller plug-in.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t *  @type boolean\n\t\t\t */\n\t\t\t\"bInfinite\": null,\n\t\t\t\n\t\t\t/**\n\t\t\t * Width of the scrollbar for the web-browser's platform. Calculated\n\t\t\t * during table initialisation.\n\t\t\t *  @type int\n\t\t\t *  @default 0\n\t\t\t */\n\t\t\t\"iBarWidth\": 0,\n\t\t\t\n\t\t\t/**\n\t\t\t * Space (in pixels) between the bottom of the scrolling container and \n\t\t\t * the bottom of the scrolling viewport before the next page is loaded\n\t\t\t * when using infinite scrolling.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t *  @type int\n\t\t\t */\n\t\t\t\"iLoadGap\": null,\n\t\t\t\n\t\t\t/**\n\t\t\t * Viewport width for horizontal scrolling. Horizontal scrolling is \n\t\t\t * disabled if an empty string.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t *  @type string\n\t\t\t */\n\t\t\t\"sX\": null,\n\t\t\t\n\t\t\t/**\n\t\t\t * Width to expand the table to when using x-scrolling. Typically you\n\t\t\t * should not need to use this.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t *  @type string\n\t\t\t *  @deprecated\n\t\t\t */\n\t\t\t\"sXInner\": null,\n\t\t\t\n\t\t\t/**\n\t\t\t * Viewport height for vertical scrolling. Vertical scrolling is disabled\n\t\t\t * if an empty string.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t *  @type string\n\t\t\t */\n\t\t\t\"sY\": null\n\t\t},\n\t\t\n\t\t/**\n\t\t * Language information for the table.\n\t\t *  @namespace\n\t\t *  @extends DataTable.defaults.oLanguage\n\t\t */\n\t\t\"oLanguage\": {\n\t\t\t/**\n\t\t\t * Information callback function. See \n\t\t\t * {@link DataTable.defaults.fnInfoCallback}\n\t\t\t *  @type function\n\t\t\t *  @default null\n\t\t\t */\n\t\t\t\"fnInfoCallback\": null\n\t\t},\n\t\t\n\t\t/**\n\t\t * Browser support parameters\n\t\t *  @namespace\n\t\t */\n\t\t\"oBrowser\": {\n\t\t\t/**\n\t\t\t * Indicate if the browser incorrectly calculates width:100% inside a\n\t\t\t * scrolling element (IE6/7)\n\t\t\t *  @type boolean\n\t\t\t *  @default false\n\t\t\t */\n\t\t\t\"bScrollOversize\": false\n\t\t},\n\t\t\n\t\t/**\n\t\t * Array referencing the nodes which are used for the features. The \n\t\t * parameters of this object match what is allowed by sDom - i.e.\n\t\t *   <ul>\n\t\t *     <li>'l' - Length changing</li>\n\t\t *     <li>'f' - Filtering input</li>\n\t\t *     <li>'t' - The table!</li>\n\t\t *     <li>'i' - Information</li>\n\t\t *     <li>'p' - Pagination</li>\n\t\t *     <li>'r' - pRocessing</li>\n\t\t *   </ul>\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aanFeatures\": [],\n\t\t\n\t\t/**\n\t\t * Store data information - see {@link DataTable.models.oRow} for detailed\n\t\t * information.\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aoData\": [],\n\t\t\n\t\t/**\n\t\t * Array of indexes which are in the current display (after filtering etc)\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aiDisplay\": [],\n\t\t\n\t\t/**\n\t\t * Array of indexes for display - no filtering\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aiDisplayMaster\": [],\n\t\t\n\t\t/**\n\t\t * Store information about each column that is in use\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aoColumns\": [],\n\t\t\n\t\t/**\n\t\t * Store information about the table's header\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aoHeader\": [],\n\t\t\n\t\t/**\n\t\t * Store information about the table's footer\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aoFooter\": [],\n\t\t\n\t\t/**\n\t\t * Search data array for regular expression searching\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"asDataSearch\": [],\n\t\t\n\t\t/**\n\t\t * Store the applied global search information in case we want to force a \n\t\t * research or compare the old search to a new one.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t *  @namespace\n\t\t *  @extends DataTable.models.oSearch\n\t\t */\n\t\t\"oPreviousSearch\": {},\n\t\t\n\t\t/**\n\t\t * Store the applied search for each column - see \n\t\t * {@link DataTable.models.oSearch} for the format that is used for the\n\t\t * filtering information for each column.\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aoPreSearchCols\": [],\n\t\t\n\t\t/**\n\t\t * Sorting that is applied to the table. Note that the inner arrays are\n\t\t * used in the following manner:\n\t\t * <ul>\n\t\t *   <li>Index 0 - column number</li>\n\t\t *   <li>Index 1 - current sorting direction</li>\n\t\t *   <li>Index 2 - index of asSorting for this column</li>\n\t\t * </ul>\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t *  @type array\n\t\t *  @todo These inner arrays should really be objects\n\t\t */\n\t\t\"aaSorting\": null,\n\t\t\n\t\t/**\n\t\t * Sorting that is always applied to the table (i.e. prefixed in front of\n\t\t * aaSorting).\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t *  @type array|null\n\t\t *  @default null\n\t\t */\n\t\t\"aaSortingFixed\": null,\n\t\t\n\t\t/**\n\t\t * Classes to use for the striping of a table.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"asStripeClasses\": null,\n\t\t\n\t\t/**\n\t\t * If restoring a table - we should restore its striping classes as well\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"asDestroyStripes\": [],\n\t\t\n\t\t/**\n\t\t * If restoring a table - we should restore its width \n\t\t *  @type int\n\t\t *  @default 0\n\t\t */\n\t\t\"sDestroyWidth\": 0,\n\t\t\n\t\t/**\n\t\t * Callback functions array for every time a row is inserted (i.e. on a draw).\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aoRowCallback\": [],\n\t\t\n\t\t/**\n\t\t * Callback functions for the header on each draw.\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aoHeaderCallback\": [],\n\t\t\n\t\t/**\n\t\t * Callback function for the footer on each draw.\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aoFooterCallback\": [],\n\t\t\n\t\t/**\n\t\t * Array of callback functions for draw callback functions\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aoDrawCallback\": [],\n\t\t\n\t\t/**\n\t\t * Array of callback functions for row created function\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aoRowCreatedCallback\": [],\n\t\t\n\t\t/**\n\t\t * Callback functions for just before the table is redrawn. A return of \n\t\t * false will be used to cancel the draw.\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aoPreDrawCallback\": [],\n\t\t\n\t\t/**\n\t\t * Callback functions for when the table has been initialised.\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aoInitComplete\": [],\n\t\n\t\t\n\t\t/**\n\t\t * Callbacks for modifying the settings to be stored for state saving, prior to\n\t\t * saving state.\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aoStateSaveParams\": [],\n\t\t\n\t\t/**\n\t\t * Callbacks for modifying the settings that have been stored for state saving\n\t\t * prior to using the stored values to restore the state.\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aoStateLoadParams\": [],\n\t\t\n\t\t/**\n\t\t * Callbacks for operating on the settings object once the saved state has been\n\t\t * loaded\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aoStateLoaded\": [],\n\t\t\n\t\t/**\n\t\t * Cache the table ID for quick access\n\t\t *  @type string\n\t\t *  @default <i>Empty string</i>\n\t\t */\n\t\t\"sTableId\": \"\",\n\t\t\n\t\t/**\n\t\t * The TABLE node for the main table\n\t\t *  @type node\n\t\t *  @default null\n\t\t */\n\t\t\"nTable\": null,\n\t\t\n\t\t/**\n\t\t * Permanent ref to the thead element\n\t\t *  @type node\n\t\t *  @default null\n\t\t */\n\t\t\"nTHead\": null,\n\t\t\n\t\t/**\n\t\t * Permanent ref to the tfoot element - if it exists\n\t\t *  @type node\n\t\t *  @default null\n\t\t */\n\t\t\"nTFoot\": null,\n\t\t\n\t\t/**\n\t\t * Permanent ref to the tbody element\n\t\t *  @type node\n\t\t *  @default null\n\t\t */\n\t\t\"nTBody\": null,\n\t\t\n\t\t/**\n\t\t * Cache the wrapper node (contains all DataTables controlled elements)\n\t\t *  @type node\n\t\t *  @default null\n\t\t */\n\t\t\"nTableWrapper\": null,\n\t\t\n\t\t/**\n\t\t * Indicate if when using server-side processing the loading of data \n\t\t * should be deferred until the second draw.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t *  @type boolean\n\t\t *  @default false\n\t\t */\n\t\t\"bDeferLoading\": false,\n\t\t\n\t\t/**\n\t\t * Indicate if all required information has been read in\n\t\t *  @type boolean\n\t\t *  @default false\n\t\t */\n\t\t\"bInitialised\": false,\n\t\t\n\t\t/**\n\t\t * Information about open rows. Each object in the array has the parameters\n\t\t * 'nTr' and 'nParent'\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aoOpenRows\": [],\n\t\t\n\t\t/**\n\t\t * Dictate the positioning of DataTables' control elements - see\n\t\t * {@link DataTable.model.oInit.sDom}.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t *  @type string\n\t\t *  @default null\n\t\t */\n\t\t\"sDom\": null,\n\t\t\n\t\t/**\n\t\t * Which type of pagination should be used.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t *  @type string \n\t\t *  @default two_button\n\t\t */\n\t\t\"sPaginationType\": \"two_button\",\n\t\t\n\t\t/**\n\t\t * The cookie duration (for bStateSave) in seconds.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t *  @type int\n\t\t *  @default 0\n\t\t */\n\t\t\"iCookieDuration\": 0,\n\t\t\n\t\t/**\n\t\t * The cookie name prefix.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t *  @type string\n\t\t *  @default <i>Empty string</i>\n\t\t */\n\t\t\"sCookiePrefix\": \"\",\n\t\t\n\t\t/**\n\t\t * Callback function for cookie creation.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t *  @type function\n\t\t *  @default null\n\t\t */\n\t\t\"fnCookieCallback\": null,\n\t\t\n\t\t/**\n\t\t * Array of callback functions for state saving. Each array element is an \n\t\t * object with the following parameters:\n\t\t *   <ul>\n\t\t *     <li>function:fn - function to call. Takes two parameters, oSettings\n\t\t *       and the JSON string to save that has been thus far created. Returns\n\t\t *       a JSON string to be inserted into a json object \n\t\t *       (i.e. '\"param\": [ 0, 1, 2]')</li>\n\t\t *     <li>string:sName - name of callback</li>\n\t\t *   </ul>\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aoStateSave\": [],\n\t\t\n\t\t/**\n\t\t * Array of callback functions for state loading. Each array element is an \n\t\t * object with the following parameters:\n\t\t *   <ul>\n\t\t *     <li>function:fn - function to call. Takes two parameters, oSettings \n\t\t *       and the object stored. May return false to cancel state loading</li>\n\t\t *     <li>string:sName - name of callback</li>\n\t\t *   </ul>\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aoStateLoad\": [],\n\t\t\n\t\t/**\n\t\t * State that was loaded from the cookie. Useful for back reference\n\t\t *  @type object\n\t\t *  @default null\n\t\t */\n\t\t\"oLoadedState\": null,\n\t\t\n\t\t/**\n\t\t * Source url for AJAX data for the table.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t *  @type string\n\t\t *  @default null\n\t\t */\n\t\t\"sAjaxSource\": null,\n\t\t\n\t\t/**\n\t\t * Property from a given object from which to read the table data from. This\n\t\t * can be an empty string (when not server-side processing), in which case \n\t\t * it is  assumed an an array is given directly.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t *  @type string\n\t\t */\n\t\t\"sAjaxDataProp\": null,\n\t\t\n\t\t/**\n\t\t * Note if draw should be blocked while getting data\n\t\t *  @type boolean\n\t\t *  @default true\n\t\t */\n\t\t\"bAjaxDataGet\": true,\n\t\t\n\t\t/**\n\t\t * The last jQuery XHR object that was used for server-side data gathering. \n\t\t * This can be used for working with the XHR information in one of the \n\t\t * callbacks\n\t\t *  @type object\n\t\t *  @default null\n\t\t */\n\t\t\"jqXHR\": null,\n\t\t\n\t\t/**\n\t\t * Function to get the server-side data.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t *  @type function\n\t\t */\n\t\t\"fnServerData\": null,\n\t\t\n\t\t/**\n\t\t * Functions which are called prior to sending an Ajax request so extra \n\t\t * parameters can easily be sent to the server\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aoServerParams\": [],\n\t\t\n\t\t/**\n\t\t * Send the XHR HTTP method - GET or POST (could be PUT or DELETE if \n\t\t * required).\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t *  @type string\n\t\t */\n\t\t\"sServerMethod\": null,\n\t\t\n\t\t/**\n\t\t * Format numbers for display.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t *  @type function\n\t\t */\n\t\t\"fnFormatNumber\": null,\n\t\t\n\t\t/**\n\t\t * List of options that can be used for the user selectable length menu.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aLengthMenu\": null,\n\t\t\n\t\t/**\n\t\t * Counter for the draws that the table does. Also used as a tracker for\n\t\t * server-side processing\n\t\t *  @type int\n\t\t *  @default 0\n\t\t */\n\t\t\"iDraw\": 0,\n\t\t\n\t\t/**\n\t\t * Indicate if a redraw is being done - useful for Ajax\n\t\t *  @type boolean\n\t\t *  @default false\n\t\t */\n\t\t\"bDrawing\": false,\n\t\t\n\t\t/**\n\t\t * Draw index (iDraw) of the last error when parsing the returned data\n\t\t *  @type int\n\t\t *  @default -1\n\t\t */\n\t\t\"iDrawError\": -1,\n\t\t\n\t\t/**\n\t\t * Paging display length\n\t\t *  @type int\n\t\t *  @default 10\n\t\t */\n\t\t\"_iDisplayLength\": 10,\n\t\n\t\t/**\n\t\t * Paging start point - aiDisplay index\n\t\t *  @type int\n\t\t *  @default 0\n\t\t */\n\t\t\"_iDisplayStart\": 0,\n\t\n\t\t/**\n\t\t * Paging end point - aiDisplay index. Use fnDisplayEnd rather than\n\t\t * this property to get the end point\n\t\t *  @type int\n\t\t *  @default 10\n\t\t *  @private\n\t\t */\n\t\t\"_iDisplayEnd\": 10,\n\t\t\n\t\t/**\n\t\t * Server-side processing - number of records in the result set\n\t\t * (i.e. before filtering), Use fnRecordsTotal rather than\n\t\t * this property to get the value of the number of records, regardless of\n\t\t * the server-side processing setting.\n\t\t *  @type int\n\t\t *  @default 0\n\t\t *  @private\n\t\t */\n\t\t\"_iRecordsTotal\": 0,\n\t\n\t\t/**\n\t\t * Server-side processing - number of records in the current display set\n\t\t * (i.e. after filtering). Use fnRecordsDisplay rather than\n\t\t * this property to get the value of the number of records, regardless of\n\t\t * the server-side processing setting.\n\t\t *  @type boolean\n\t\t *  @default 0\n\t\t *  @private\n\t\t */\n\t\t\"_iRecordsDisplay\": 0,\n\t\t\n\t\t/**\n\t\t * Flag to indicate if jQuery UI marking and classes should be used.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t *  @type boolean\n\t\t */\n\t\t\"bJUI\": null,\n\t\t\n\t\t/**\n\t\t * The classes to use for the table\n\t\t *  @type object\n\t\t *  @default {}\n\t\t */\n\t\t\"oClasses\": {},\n\t\t\n\t\t/**\n\t\t * Flag attached to the settings object so you can check in the draw \n\t\t * callback if filtering has been done in the draw. Deprecated in favour of\n\t\t * events.\n\t\t *  @type boolean\n\t\t *  @default false\n\t\t *  @deprecated\n\t\t */\n\t\t\"bFiltered\": false,\n\t\t\n\t\t/**\n\t\t * Flag attached to the settings object so you can check in the draw \n\t\t * callback if sorting has been done in the draw. Deprecated in favour of\n\t\t * events.\n\t\t *  @type boolean\n\t\t *  @default false\n\t\t *  @deprecated\n\t\t */\n\t\t\"bSorted\": false,\n\t\t\n\t\t/**\n\t\t * Indicate that if multiple rows are in the header and there is more than \n\t\t * one unique cell per column, if the top one (true) or bottom one (false) \n\t\t * should be used for sorting / title by DataTables.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t *  @type boolean\n\t\t */\n\t\t\"bSortCellsTop\": null,\n\t\t\n\t\t/**\n\t\t * Initialisation object that is used for the table\n\t\t *  @type object\n\t\t *  @default null\n\t\t */\n\t\t\"oInit\": null,\n\t\t\n\t\t/**\n\t\t * Destroy callback functions - for plug-ins to attach themselves to the\n\t\t * destroy so they can clean up markup and events.\n\t\t *  @type array\n\t\t *  @default []\n\t\t */\n\t\t\"aoDestroyCallback\": [],\n\t\n\t\t\n\t\t/**\n\t\t * Get the number of records in the current record set, before filtering\n\t\t *  @type function\n\t\t */\n\t\t\"fnRecordsTotal\": function ()\n\t\t{\n\t\t\tif ( this.oFeatures.bServerSide ) {\n\t\t\t\treturn parseInt(this._iRecordsTotal, 10);\n\t\t\t} else {\n\t\t\t\treturn this.aiDisplayMaster.length;\n\t\t\t}\n\t\t},\n\t\t\n\t\t/**\n\t\t * Get the number of records in the current record set, after filtering\n\t\t *  @type function\n\t\t */\n\t\t\"fnRecordsDisplay\": function ()\n\t\t{\n\t\t\tif ( this.oFeatures.bServerSide ) {\n\t\t\t\treturn parseInt(this._iRecordsDisplay, 10);\n\t\t\t} else {\n\t\t\t\treturn this.aiDisplay.length;\n\t\t\t}\n\t\t},\n\t\t\n\t\t/**\n\t\t * Set the display end point - aiDisplay index\n\t\t *  @type function\n\t\t *  @todo Should do away with _iDisplayEnd and calculate it on-the-fly here\n\t\t */\n\t\t\"fnDisplayEnd\": function ()\n\t\t{\n\t\t\tif ( this.oFeatures.bServerSide ) {\n\t\t\t\tif ( this.oFeatures.bPaginate === false || this._iDisplayLength == -1 ) {\n\t\t\t\t\treturn this._iDisplayStart+this.aiDisplay.length;\n\t\t\t\t} else {\n\t\t\t\t\treturn Math.min( this._iDisplayStart+this._iDisplayLength, \n\t\t\t\t\t\tthis._iRecordsDisplay );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn this._iDisplayEnd;\n\t\t\t}\n\t\t},\n\t\t\n\t\t/**\n\t\t * The DataTables object for this table\n\t\t *  @type object\n\t\t *  @default null\n\t\t */\n\t\t\"oInstance\": null,\n\t\t\n\t\t/**\n\t\t * Unique identifier for each instance of the DataTables object. If there\n\t\t * is an ID on the table node, then it takes that value, otherwise an\n\t\t * incrementing internal counter is used.\n\t\t *  @type string\n\t\t *  @default null\n\t\t */\n\t\t\"sInstance\": null,\n\t\n\t\t/**\n\t\t * tabindex attribute value that is added to DataTables control elements, allowing\n\t\t * keyboard navigation of the table and its controls.\n\t\t */\n\t\t\"iTabIndex\": 0,\n\t\n\t\t/**\n\t\t * DIV container for the footer scrolling table if scrolling\n\t\t */\n\t\t\"nScrollHead\": null,\n\t\n\t\t/**\n\t\t * DIV container for the footer scrolling table if scrolling\n\t\t */\n\t\t\"nScrollFoot\": null\n\t};\n\n\t/**\n\t * Extension object for DataTables that is used to provide all extension options.\n\t * \n\t * Note that the <i>DataTable.ext</i> object is available through\n\t * <i>jQuery.fn.dataTable.ext</i> where it may be accessed and manipulated. It is\n\t * also aliased to <i>jQuery.fn.dataTableExt</i> for historic reasons.\n\t *  @namespace\n\t *  @extends DataTable.models.ext\n\t */\n\tDataTable.ext = $.extend( true, {}, DataTable.models.ext );\n\t\n\t$.extend( DataTable.ext.oStdClasses, {\n\t\t\"sTable\": \"dataTable\",\n\t\n\t\t/* Two buttons buttons */\n\t\t\"sPagePrevEnabled\": \"paginate_enabled_previous\",\n\t\t\"sPagePrevDisabled\": \"paginate_disabled_previous\",\n\t\t\"sPageNextEnabled\": \"paginate_enabled_next\",\n\t\t\"sPageNextDisabled\": \"paginate_disabled_next\",\n\t\t\"sPageJUINext\": \"\",\n\t\t\"sPageJUIPrev\": \"\",\n\t\t\n\t\t/* Full numbers paging buttons */\n\t\t\"sPageButton\": \"paginate_button\",\n\t\t\"sPageButtonActive\": \"paginate_active\",\n\t\t\"sPageButtonStaticDisabled\": \"paginate_button paginate_button_disabled\",\n\t\t\"sPageFirst\": \"first\",\n\t\t\"sPagePrevious\": \"previous\",\n\t\t\"sPageNext\": \"next\",\n\t\t\"sPageLast\": \"last\",\n\t\t\n\t\t/* Striping classes */\n\t\t\"sStripeOdd\": \"odd\",\n\t\t\"sStripeEven\": \"even\",\n\t\t\n\t\t/* Empty row */\n\t\t\"sRowEmpty\": \"dataTables_empty\",\n\t\t\n\t\t/* Features */\n\t\t\"sWrapper\": \"dataTables_wrapper\",\n\t\t\"sFilter\": \"dataTables_filter\",\n\t\t\"sInfo\": \"dataTables_info\",\n\t\t\"sPaging\": \"dataTables_paginate paging_\", /* Note that the type is postfixed */\n\t\t\"sLength\": \"dataTables_length\",\n\t\t\"sProcessing\": \"dataTables_processing\",\n\t\t\n\t\t/* Sorting */\n\t\t\"sSortAsc\": \"sorting_asc\",\n\t\t\"sSortDesc\": \"sorting_desc\",\n\t\t\"sSortable\": \"sorting\", /* Sortable in both directions */\n\t\t\"sSortableAsc\": \"sorting_asc_disabled\",\n\t\t\"sSortableDesc\": \"sorting_desc_disabled\",\n\t\t\"sSortableNone\": \"sorting_disabled\",\n\t\t\"sSortColumn\": \"sorting_\", /* Note that an int is postfixed for the sorting order */\n\t\t\"sSortJUIAsc\": \"\",\n\t\t\"sSortJUIDesc\": \"\",\n\t\t\"sSortJUI\": \"\",\n\t\t\"sSortJUIAscAllowed\": \"\",\n\t\t\"sSortJUIDescAllowed\": \"\",\n\t\t\"sSortJUIWrapper\": \"\",\n\t\t\"sSortIcon\": \"\",\n\t\t\n\t\t/* Scrolling */\n\t\t\"sScrollWrapper\": \"dataTables_scroll\",\n\t\t\"sScrollHead\": \"dataTables_scrollHead\",\n\t\t\"sScrollHeadInner\": \"dataTables_scrollHeadInner\",\n\t\t\"sScrollBody\": \"dataTables_scrollBody\",\n\t\t\"sScrollFoot\": \"dataTables_scrollFoot\",\n\t\t\"sScrollFootInner\": \"dataTables_scrollFootInner\",\n\t\t\n\t\t/* Misc */\n\t\t\"sFooterTH\": \"\",\n\t\t\"sJUIHeader\": \"\",\n\t\t\"sJUIFooter\": \"\"\n\t} );\n\t\n\t\n\t$.extend( DataTable.ext.oJUIClasses, DataTable.ext.oStdClasses, {\n\t\t/* Two buttons buttons */\n\t\t\"sPagePrevEnabled\": \"fg-button ui-button ui-state-default ui-corner-left\",\n\t\t\"sPagePrevDisabled\": \"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled\",\n\t\t\"sPageNextEnabled\": \"fg-button ui-button ui-state-default ui-corner-right\",\n\t\t\"sPageNextDisabled\": \"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled\",\n\t\t\"sPageJUINext\": \"ui-icon ui-icon-circle-arrow-e\",\n\t\t\"sPageJUIPrev\": \"ui-icon ui-icon-circle-arrow-w\",\n\t\t\n\t\t/* Full numbers paging buttons */\n\t\t\"sPageButton\": \"fg-button ui-button ui-state-default\",\n\t\t\"sPageButtonActive\": \"fg-button ui-button ui-state-default ui-state-disabled\",\n\t\t\"sPageButtonStaticDisabled\": \"fg-button ui-button ui-state-default ui-state-disabled\",\n\t\t\"sPageFirst\": \"first ui-corner-tl ui-corner-bl\",\n\t\t\"sPageLast\": \"last ui-corner-tr ui-corner-br\",\n\t\t\n\t\t/* Features */\n\t\t\"sPaging\": \"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi \"+\n\t\t\t\"ui-buttonset-multi paging_\", /* Note that the type is postfixed */\n\t\t\n\t\t/* Sorting */\n\t\t\"sSortAsc\": \"ui-state-default\",\n\t\t\"sSortDesc\": \"ui-state-default\",\n\t\t\"sSortable\": \"ui-state-default\",\n\t\t\"sSortableAsc\": \"ui-state-default\",\n\t\t\"sSortableDesc\": \"ui-state-default\",\n\t\t\"sSortableNone\": \"ui-state-default\",\n\t\t\"sSortJUIAsc\": \"css_right ui-icon ui-icon-triangle-1-n\",\n\t\t\"sSortJUIDesc\": \"css_right ui-icon ui-icon-triangle-1-s\",\n\t\t\"sSortJUI\": \"css_right ui-icon ui-icon-carat-2-n-s\",\n\t\t\"sSortJUIAscAllowed\": \"css_right ui-icon ui-icon-carat-1-n\",\n\t\t\"sSortJUIDescAllowed\": \"css_right ui-icon ui-icon-carat-1-s\",\n\t\t\"sSortJUIWrapper\": \"DataTables_sort_wrapper\",\n\t\t\"sSortIcon\": \"DataTables_sort_icon\",\n\t\t\n\t\t/* Scrolling */\n\t\t\"sScrollHead\": \"dataTables_scrollHead ui-state-default\",\n\t\t\"sScrollFoot\": \"dataTables_scrollFoot ui-state-default\",\n\t\t\n\t\t/* Misc */\n\t\t\"sFooterTH\": \"ui-state-default\",\n\t\t\"sJUIHeader\": \"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix\",\n\t\t\"sJUIFooter\": \"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix\"\n\t} );\n\t\n\t/*\n\t * Variable: oPagination\n\t * Purpose:  \n\t * Scope:    jQuery.fn.dataTableExt\n\t */\n\t$.extend( DataTable.ext.oPagination, {\n\t\t/*\n\t\t * Variable: two_button\n\t\t * Purpose:  Standard two button (forward/back) pagination\n\t\t * Scope:    jQuery.fn.dataTableExt.oPagination\n\t\t */\n\t\t\"two_button\": {\n\t\t\t/*\n\t\t\t * Function: oPagination.two_button.fnInit\n\t\t\t * Purpose:  Initialise dom elements required for pagination with forward/back buttons only\n\t\t\t * Returns:  -\n\t\t\t * Inputs:   object:oSettings - dataTables settings object\n\t\t\t *           node:nPaging - the DIV which contains this pagination control\n\t\t\t *           function:fnCallbackDraw - draw function which must be called on update\n\t\t\t */\n\t\t\t\"fnInit\": function ( oSettings, nPaging, fnCallbackDraw )\n\t\t\t{\n\t\t\t\tvar oLang = oSettings.oLanguage.oPaginate;\n\t\t\t\tvar oClasses = oSettings.oClasses;\n\t\t\t\tvar fnClickHandler = function ( e ) {\n\t\t\t\t\tif ( oSettings.oApi._fnPageChange( oSettings, e.data.action ) )\n\t\t\t\t\t{\n\t\t\t\t\t\tfnCallbackDraw( oSettings );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\n\t\t\t\tvar sAppend = (!oSettings.bJUI) ?\n\t\t\t\t\t'<a class=\"'+oSettings.oClasses.sPagePrevDisabled+'\" tabindex=\"'+oSettings.iTabIndex+'\" role=\"button\">'+oLang.sPrevious+'</a>'+\n\t\t\t\t\t'<a class=\"'+oSettings.oClasses.sPageNextDisabled+'\" tabindex=\"'+oSettings.iTabIndex+'\" role=\"button\">'+oLang.sNext+'</a>'\n\t\t\t\t\t:\n\t\t\t\t\t'<a class=\"'+oSettings.oClasses.sPagePrevDisabled+'\" tabindex=\"'+oSettings.iTabIndex+'\" role=\"button\"><span class=\"'+oSettings.oClasses.sPageJUIPrev+'\"></span></a>'+\n\t\t\t\t\t'<a class=\"'+oSettings.oClasses.sPageNextDisabled+'\" tabindex=\"'+oSettings.iTabIndex+'\" role=\"button\"><span class=\"'+oSettings.oClasses.sPageJUINext+'\"></span></a>';\n\t\t\t\t$(nPaging).append( sAppend );\n\t\t\t\t\n\t\t\t\tvar els = $('a', nPaging);\n\t\t\t\tvar nPrevious = els[0],\n\t\t\t\t\tnNext = els[1];\n\t\t\t\t\n\t\t\t\toSettings.oApi._fnBindAction( nPrevious, {action: \"previous\"}, fnClickHandler );\n\t\t\t\toSettings.oApi._fnBindAction( nNext,     {action: \"next\"},     fnClickHandler );\n\t\t\t\t\n\t\t\t\t/* ID the first elements only */\n\t\t\t\tif ( !oSettings.aanFeatures.p )\n\t\t\t\t{\n\t\t\t\t\tnPaging.id = oSettings.sTableId+'_paginate';\n\t\t\t\t\tnPrevious.id = oSettings.sTableId+'_previous';\n\t\t\t\t\tnNext.id = oSettings.sTableId+'_next';\n\t\n\t\t\t\t\tnPrevious.setAttribute('aria-controls', oSettings.sTableId);\n\t\t\t\t\tnNext.setAttribute('aria-controls', oSettings.sTableId);\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t/*\n\t\t\t * Function: oPagination.two_button.fnUpdate\n\t\t\t * Purpose:  Update the two button pagination at the end of the draw\n\t\t\t * Returns:  -\n\t\t\t * Inputs:   object:oSettings - dataTables settings object\n\t\t\t *           function:fnCallbackDraw - draw function to call on page change\n\t\t\t */\n\t\t\t\"fnUpdate\": function ( oSettings, fnCallbackDraw )\n\t\t\t{\n\t\t\t\tif ( !oSettings.aanFeatures.p )\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvar oClasses = oSettings.oClasses;\n\t\t\t\tvar an = oSettings.aanFeatures.p;\n\t\t\t\tvar nNode;\n\t\n\t\t\t\t/* Loop over each instance of the pager */\n\t\t\t\tfor ( var i=0, iLen=an.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\tnNode = an[i].firstChild;\n\t\t\t\t\tif ( nNode )\n\t\t\t\t\t{\n\t\t\t\t\t\t/* Previous page */\n\t\t\t\t\t\tnNode.className = ( oSettings._iDisplayStart === 0 ) ?\n\t\t\t\t\t\t    oClasses.sPagePrevDisabled : oClasses.sPagePrevEnabled;\n\t\t\t\t\t\t    \n\t\t\t\t\t\t/* Next page */\n\t\t\t\t\t\tnNode = nNode.nextSibling;\n\t\t\t\t\t\tnNode.className = ( oSettings.fnDisplayEnd() == oSettings.fnRecordsDisplay() ) ?\n\t\t\t\t\t\t    oClasses.sPageNextDisabled : oClasses.sPageNextEnabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\n\t\t\n\t\t/*\n\t\t * Variable: iFullNumbersShowPages\n\t\t * Purpose:  Change the number of pages which can be seen\n\t\t * Scope:    jQuery.fn.dataTableExt.oPagination\n\t\t */\n\t\t\"iFullNumbersShowPages\": 5,\n\t\t\n\t\t/*\n\t\t * Variable: full_numbers\n\t\t * Purpose:  Full numbers pagination\n\t\t * Scope:    jQuery.fn.dataTableExt.oPagination\n\t\t */\n\t\t\"full_numbers\": {\n\t\t\t/*\n\t\t\t * Function: oPagination.full_numbers.fnInit\n\t\t\t * Purpose:  Initialise dom elements required for pagination with a list of the pages\n\t\t\t * Returns:  -\n\t\t\t * Inputs:   object:oSettings - dataTables settings object\n\t\t\t *           node:nPaging - the DIV which contains this pagination control\n\t\t\t *           function:fnCallbackDraw - draw function which must be called on update\n\t\t\t */\n\t\t\t\"fnInit\": function ( oSettings, nPaging, fnCallbackDraw )\n\t\t\t{\n\t\t\t\tvar oLang = oSettings.oLanguage.oPaginate;\n\t\t\t\tvar oClasses = oSettings.oClasses;\n\t\t\t\tvar fnClickHandler = function ( e ) {\n\t\t\t\t\tif ( oSettings.oApi._fnPageChange( oSettings, e.data.action ) )\n\t\t\t\t\t{\n\t\t\t\t\t\tfnCallbackDraw( oSettings );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\n\t\t\t\t$(nPaging).append(\n\t\t\t\t\t'<a  tabindex=\"'+oSettings.iTabIndex+'\" class=\"'+oClasses.sPageButton+\" \"+oClasses.sPageFirst+'\">'+oLang.sFirst+'</a>'+\n\t\t\t\t\t'<a  tabindex=\"'+oSettings.iTabIndex+'\" class=\"'+oClasses.sPageButton+\" \"+oClasses.sPagePrevious+'\">'+oLang.sPrevious+'</a>'+\n\t\t\t\t\t'<span></span>'+\n\t\t\t\t\t'<a tabindex=\"'+oSettings.iTabIndex+'\" class=\"'+oClasses.sPageButton+\" \"+oClasses.sPageNext+'\">'+oLang.sNext+'</a>'+\n\t\t\t\t\t'<a tabindex=\"'+oSettings.iTabIndex+'\" class=\"'+oClasses.sPageButton+\" \"+oClasses.sPageLast+'\">'+oLang.sLast+'</a>'\n\t\t\t\t);\n\t\t\t\tvar els = $('a', nPaging);\n\t\t\t\tvar nFirst = els[0],\n\t\t\t\t\tnPrev = els[1],\n\t\t\t\t\tnNext = els[2],\n\t\t\t\t\tnLast = els[3];\n\t\t\t\t\n\t\t\t\toSettings.oApi._fnBindAction( nFirst, {action: \"first\"},    fnClickHandler );\n\t\t\t\toSettings.oApi._fnBindAction( nPrev,  {action: \"previous\"}, fnClickHandler );\n\t\t\t\toSettings.oApi._fnBindAction( nNext,  {action: \"next\"},     fnClickHandler );\n\t\t\t\toSettings.oApi._fnBindAction( nLast,  {action: \"last\"},     fnClickHandler );\n\t\t\t\t\n\t\t\t\t/* ID the first elements only */\n\t\t\t\tif ( !oSettings.aanFeatures.p )\n\t\t\t\t{\n\t\t\t\t\tnPaging.id = oSettings.sTableId+'_paginate';\n\t\t\t\t\tnFirst.id =oSettings.sTableId+'_first';\n\t\t\t\t\tnPrev.id =oSettings.sTableId+'_previous';\n\t\t\t\t\tnNext.id =oSettings.sTableId+'_next';\n\t\t\t\t\tnLast.id =oSettings.sTableId+'_last';\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t/*\n\t\t\t * Function: oPagination.full_numbers.fnUpdate\n\t\t\t * Purpose:  Update the list of page buttons shows\n\t\t\t * Returns:  -\n\t\t\t * Inputs:   object:oSettings - dataTables settings object\n\t\t\t *           function:fnCallbackDraw - draw function to call on page change\n\t\t\t */\n\t\t\t\"fnUpdate\": function ( oSettings, fnCallbackDraw )\n\t\t\t{\n\t\t\t\tif ( !oSettings.aanFeatures.p )\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvar iPageCount = DataTable.ext.oPagination.iFullNumbersShowPages;\n\t\t\t\tvar iPageCountHalf = Math.floor(iPageCount / 2);\n\t\t\t\tvar iPages = Math.ceil((oSettings.fnRecordsDisplay()) / oSettings._iDisplayLength);\n\t\t\t\tvar iCurrentPage = Math.ceil(oSettings._iDisplayStart / oSettings._iDisplayLength) + 1;\n\t\t\t\tvar sList = \"\";\n\t\t\t\tvar iStartButton, iEndButton, i, iLen;\n\t\t\t\tvar oClasses = oSettings.oClasses;\n\t\t\t\tvar anButtons, anStatic, nPaginateList, nNode;\n\t\t\t\tvar an = oSettings.aanFeatures.p;\n\t\t\t\tvar fnBind = function (j) {\n\t\t\t\t\toSettings.oApi._fnBindAction( this, {\"page\": j+iStartButton-1}, function(e) {\n\t\t\t\t\t\t/* Use the information in the element to jump to the required page */\n\t\t\t\t\t\toSettings.oApi._fnPageChange( oSettings, e.data.page );\n\t\t\t\t\t\tfnCallbackDraw( oSettings );\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t} );\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t/* Pages calculation */\n\t\t\t\tif ( oSettings._iDisplayLength === -1 )\n\t\t\t\t{\n\t\t\t\t\tiStartButton = 1;\n\t\t\t\t\tiEndButton = 1;\n\t\t\t\t\tiCurrentPage = 1;\n\t\t\t\t}\n\t\t\t\telse if (iPages < iPageCount)\n\t\t\t\t{\n\t\t\t\t\tiStartButton = 1;\n\t\t\t\t\tiEndButton = iPages;\n\t\t\t\t}\n\t\t\t\telse if (iCurrentPage <= iPageCountHalf)\n\t\t\t\t{\n\t\t\t\t\tiStartButton = 1;\n\t\t\t\t\tiEndButton = iPageCount;\n\t\t\t\t}\n\t\t\t\telse if (iCurrentPage >= (iPages - iPageCountHalf))\n\t\t\t\t{\n\t\t\t\t\tiStartButton = iPages - iPageCount + 1;\n\t\t\t\t\tiEndButton = iPages;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tiStartButton = iCurrentPage - Math.ceil(iPageCount / 2) + 1;\n\t\t\t\t\tiEndButton = iStartButton + iPageCount - 1;\n\t\t\t\t}\n\t\n\t\t\t\t\n\t\t\t\t/* Build the dynamic list */\n\t\t\t\tfor ( i=iStartButton ; i<=iEndButton ; i++ )\n\t\t\t\t{\n\t\t\t\t\tsList += (iCurrentPage !== i) ?\n\t\t\t\t\t\t'<a tabindex=\"'+oSettings.iTabIndex+'\" class=\"'+oClasses.sPageButton+'\">'+oSettings.fnFormatNumber(i)+'</a>' :\n\t\t\t\t\t\t'<a tabindex=\"'+oSettings.iTabIndex+'\" class=\"'+oClasses.sPageButtonActive+'\">'+oSettings.fnFormatNumber(i)+'</a>';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* Loop over each instance of the pager */\n\t\t\t\tfor ( i=0, iLen=an.length ; i<iLen ; i++ )\n\t\t\t\t{\n\t\t\t\t\tnNode = an[i];\n\t\t\t\t\tif ( !nNode.hasChildNodes() )\n\t\t\t\t\t{\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t/* Build up the dynamic list first - html and listeners */\n\t\t\t\t\t$('span:eq(0)', nNode)\n\t\t\t\t\t\t.html( sList )\n\t\t\t\t\t\t.children('a').each( fnBind );\n\t\t\t\t\t\n\t\t\t\t\t/* Update the permanent button's classes */\n\t\t\t\t\tanButtons = nNode.getElementsByTagName('a');\n\t\t\t\t\tanStatic = [\n\t\t\t\t\t\tanButtons[0], anButtons[1], \n\t\t\t\t\t\tanButtons[anButtons.length-2], anButtons[anButtons.length-1]\n\t\t\t\t\t];\n\t\n\t\t\t\t\t$(anStatic).removeClass( oClasses.sPageButton+\" \"+oClasses.sPageButtonActive+\" \"+oClasses.sPageButtonStaticDisabled );\n\t\t\t\t\t$([anStatic[0], anStatic[1]]).addClass( \n\t\t\t\t\t\t(iCurrentPage==1) ?\n\t\t\t\t\t\t\toClasses.sPageButtonStaticDisabled :\n\t\t\t\t\t\t\toClasses.sPageButton\n\t\t\t\t\t);\n\t\t\t\t\t$([anStatic[2], anStatic[3]]).addClass(\n\t\t\t\t\t\t(iPages===0 || iCurrentPage===iPages || oSettings._iDisplayLength===-1) ?\n\t\t\t\t\t\t\toClasses.sPageButtonStaticDisabled :\n\t\t\t\t\t\t\toClasses.sPageButton\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} );\n\t\n\t$.extend( DataTable.ext.oSort, {\n\t\t/*\n\t\t * text sorting\n\t\t */\n\t\t\"string-pre\": function ( a )\n\t\t{\n\t\t\tif ( typeof a != 'string' ) {\n\t\t\t\ta = (a !== null && a.toString) ? a.toString() : '';\n\t\t\t}\n\t\t\treturn a.toLowerCase();\n\t\t},\n\t\n\t\t\"string-asc\": function ( x, y )\n\t\t{\n\t\t\treturn ((x < y) ? -1 : ((x > y) ? 1 : 0));\n\t\t},\n\t\t\n\t\t\"string-desc\": function ( x, y )\n\t\t{\n\t\t\treturn ((x < y) ? 1 : ((x > y) ? -1 : 0));\n\t\t},\n\t\t\n\t\t\n\t\t/*\n\t\t * html sorting (ignore html tags)\n\t\t */\n\t\t\"html-pre\": function ( a )\n\t\t{\n\t\t\treturn a.replace( /<.*?>/g, \"\" ).toLowerCase();\n\t\t},\n\t\t\n\t\t\"html-asc\": function ( x, y )\n\t\t{\n\t\t\treturn ((x < y) ? -1 : ((x > y) ? 1 : 0));\n\t\t},\n\t\t\n\t\t\"html-desc\": function ( x, y )\n\t\t{\n\t\t\treturn ((x < y) ? 1 : ((x > y) ? -1 : 0));\n\t\t},\n\t\t\n\t\t\n\t\t/*\n\t\t * date sorting\n\t\t */\n\t\t\"date-pre\": function ( a )\n\t\t{\n\t\t\tvar x = Date.parse( a );\n\t\t\t\n\t\t\tif ( isNaN(x) || x===\"\" )\n\t\t\t{\n\t\t\t\tx = Date.parse( \"01/01/1970 00:00:00\" );\n\t\t\t}\n\t\t\treturn x;\n\t\t},\n\t\n\t\t\"date-asc\": function ( x, y )\n\t\t{\n\t\t\treturn x - y;\n\t\t},\n\t\t\n\t\t\"date-desc\": function ( x, y )\n\t\t{\n\t\t\treturn y - x;\n\t\t},\n\t\t\n\t\t\n\t\t/*\n\t\t * numerical sorting\n\t\t */\n\t\t\"numeric-pre\": function ( a )\n\t\t{\n\t\t\treturn (a==\"-\" || a===\"\") ? 0 : a*1;\n\t\t},\n\t\n\t\t\"numeric-asc\": function ( x, y )\n\t\t{\n\t\t\treturn x - y;\n\t\t},\n\t\t\n\t\t\"numeric-desc\": function ( x, y )\n\t\t{\n\t\t\treturn y - x;\n\t\t}\n\t} );\n\t\n\t\n\t$.extend( DataTable.ext.aTypes, [\n\t\t/*\n\t\t * Function: -\n\t\t * Purpose:  Check to see if a string is numeric\n\t\t * Returns:  string:'numeric' or null\n\t\t * Inputs:   mixed:sText - string to check\n\t\t */\n\t\tfunction ( sData )\n\t\t{\n\t\t\t/* Allow zero length strings as a number */\n\t\t\tif ( typeof sData === 'number' )\n\t\t\t{\n\t\t\t\treturn 'numeric';\n\t\t\t}\n\t\t\telse if ( typeof sData !== 'string' )\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\t\n\t\t\tvar sValidFirstChars = \"0123456789-\";\n\t\t\tvar sValidChars = \"0123456789.\";\n\t\t\tvar Char;\n\t\t\tvar bDecimal = false;\n\t\t\t\n\t\t\t/* Check for a valid first char (no period and allow negatives) */\n\t\t\tChar = sData.charAt(0); \n\t\t\tif (sValidFirstChars.indexOf(Char) == -1) \n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\t\n\t\t\t/* Check all the other characters are valid */\n\t\t\tfor ( var i=1 ; i<sData.length ; i++ ) \n\t\t\t{\n\t\t\t\tChar = sData.charAt(i); \n\t\t\t\tif (sValidChars.indexOf(Char) == -1) \n\t\t\t\t{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* Only allowed one decimal place... */\n\t\t\t\tif ( Char == \".\" )\n\t\t\t\t{\n\t\t\t\t\tif ( bDecimal )\n\t\t\t\t\t{\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\tbDecimal = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn 'numeric';\n\t\t},\n\t\t\n\t\t/*\n\t\t * Function: -\n\t\t * Purpose:  Check to see if a string is actually a formatted date\n\t\t * Returns:  string:'date' or null\n\t\t * Inputs:   string:sText - string to check\n\t\t */\n\t\tfunction ( sData )\n\t\t{\n\t\t\tvar iParse = Date.parse(sData);\n\t\t\tif ( (iParse !== null && !isNaN(iParse)) || (typeof sData === 'string' && sData.length === 0) )\n\t\t\t{\n\t\t\t\treturn 'date';\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\t\n\t\t/*\n\t\t * Function: -\n\t\t * Purpose:  Check to see if a string should be treated as an HTML string\n\t\t * Returns:  string:'html' or null\n\t\t * Inputs:   string:sText - string to check\n\t\t */\n\t\tfunction ( sData )\n\t\t{\n\t\t\tif ( typeof sData === 'string' && sData.indexOf('<') != -1 && sData.indexOf('>') != -1 )\n\t\t\t{\n\t\t\t\treturn 'html';\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t] );\n\t\n\n\t// jQuery aliases\n\t$.fn.DataTable = DataTable;\n\t$.fn.dataTable = DataTable;\n\t$.fn.dataTableSettings = DataTable.settings;\n\t$.fn.dataTableExt = DataTable.ext;\n\n\n\t// Information about events fired by DataTables - for documentation.\n\t/**\n\t * Draw event, fired whenever the table is redrawn on the page, at the same point as\n\t * fnDrawCallback. This may be useful for binding events or performing calculations when\n\t * the table is altered at all.\n\t *  @name DataTable#draw\n\t *  @event\n\t *  @param {event} e jQuery event object\n\t *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}\n\t */\n\n\t/**\n\t * Filter event, fired when the filtering applied to the table (using the build in global\n\t * global filter, or column filters) is altered.\n\t *  @name DataTable#filter\n\t *  @event\n\t *  @param {event} e jQuery event object\n\t *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}\n\t */\n\n\t/**\n\t * Page change event, fired when the paging of the table is altered.\n\t *  @name DataTable#page\n\t *  @event\n\t *  @param {event} e jQuery event object\n\t *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}\n\t */\n\n\t/**\n\t * Sort event, fired when the sorting applied to the table is altered.\n\t *  @name DataTable#sort\n\t *  @event\n\t *  @param {event} e jQuery event object\n\t *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}\n\t */\n\n\t/**\n\t * DataTables initialisation complete event, fired when the table is fully drawn,\n\t * including Ajax data loaded, if Ajax data is required.\n\t *  @name DataTable#init\n\t *  @event\n\t *  @param {event} e jQuery event object\n\t *  @param {object} oSettings DataTables settings object\n\t *  @param {object} json The JSON object request from the server - only\n\t *    present if client-side Ajax sourced data is used</li></ol>\n\t */\n\n\t/**\n\t * State save event, fired when the table has changed state a new state save is required.\n\t * This method allows modification of the state saving object prior to actually doing the\n\t * save, including addition or other state properties (for plug-ins) or modification\n\t * of a DataTables core property.\n\t *  @name DataTable#stateSaveParams\n\t *  @event\n\t *  @param {event} e jQuery event object\n\t *  @param {object} oSettings DataTables settings object\n\t *  @param {object} json The state information to be saved\n\t */\n\n\t/**\n\t * State load event, fired when the table is loading state from the stored data, but\n\t * prior to the settings object being modified by the saved state - allowing modification\n\t * of the saved state is required or loading of state for a plug-in.\n\t *  @name DataTable#stateLoadParams\n\t *  @event\n\t *  @param {event} e jQuery event object\n\t *  @param {object} oSettings DataTables settings object\n\t *  @param {object} json The saved state information\n\t */\n\n\t/**\n\t * State loaded event, fired when state has been loaded from stored data and the settings\n\t * object has been modified by the loaded data.\n\t *  @name DataTable#stateLoaded\n\t *  @event\n\t *  @param {event} e jQuery event object\n\t *  @param {object} oSettings DataTables settings object\n\t *  @param {object} json The saved state information\n\t */\n\n\t/**\n\t * Processing event, fired when DataTables is doing some kind of processing (be it,\n\t * sort, filter or anything else). Can be used to indicate to the end user that\n\t * there is something happening, or that something has finished.\n\t *  @name DataTable#processing\n\t *  @event\n\t *  @param {event} e jQuery event object\n\t *  @param {object} oSettings DataTables settings object\n\t *  @param {boolean} bShow Flag for if DataTables is doing processing or not\n\t */\n\n\t/**\n\t * Ajax (XHR) event, fired whenever an Ajax request is completed from a request to \n\t * made to the server for new data (note that this trigger is called in fnServerData,\n\t * if you override fnServerData and which to use this event, you need to trigger it in\n\t * you success function).\n\t *  @name DataTable#xhr\n\t *  @event\n\t *  @param {event} e jQuery event object\n\t *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}\n\t *  @param {object} json JSON returned from the server\n\t */\n\n\t/**\n\t * Destroy event, fired when the DataTable is destroyed by calling fnDestroy or passing\n\t * the bDestroy:true parameter in the initialisation object. This can be used to remove\n\t * bound events, added DOM nodes, etc.\n\t *  @name DataTable#destroy\n\t *  @event\n\t *  @param {event} e jQuery event object\n\t *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}\n\t */\n}));\n\n}(window, document));\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/includes/jquery.datatables-1.9.4/media/js/jquery.dataTables.js?");

/***/ }),

/***/ "./src/main/webapp/includes/jquery.datatables.plugins-1.9.4/integration/bootstrap/2/dataTables.bootstrap.css":
/*!*******************************************************************************************************************!*\
  !*** ./src/main/webapp/includes/jquery.datatables.plugins-1.9.4/integration/bootstrap/2/dataTables.bootstrap.css ***!
  \*******************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/main/webapp/includes/jquery.datatables.plugins-1.9.4/integration/bootstrap/2/dataTables.bootstrap.css?");

/***/ }),

/***/ "./src/main/webapp/includes/jquery.datatables.plugins-1.9.4/integration/bootstrap/2/dataTables.bootstrap.js":
/*!******************************************************************************************************************!*\
  !*** ./src/main/webapp/includes/jquery.datatables.plugins-1.9.4/integration/bootstrap/2/dataTables.bootstrap.js ***!
  \******************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {/* Set the defaults for DataTables initialisation */\n$.extend( true, $.fn.dataTable.defaults, {\n\t\"sDom\": \"<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>\",\n\t\"sPaginationType\": \"bootstrap\",\n\t\"oLanguage\": {\n\t\t\"sLengthMenu\": \"_MENU_ records per page\"\n\t}\n} );\n\n\n/* Default class modification */\n$.extend( $.fn.dataTableExt.oStdClasses, {\n\t\"sWrapper\": \"dataTables_wrapper form-inline\"\n} );\n\n\n/* API method to get paging information */\n$.fn.dataTableExt.oApi.fnPagingInfo = function ( oSettings )\n{\n\treturn {\n\t\t\"iStart\":         oSettings._iDisplayStart,\n\t\t\"iEnd\":           oSettings.fnDisplayEnd(),\n\t\t\"iLength\":        oSettings._iDisplayLength,\n\t\t\"iTotal\":         oSettings.fnRecordsTotal(),\n\t\t\"iFilteredTotal\": oSettings.fnRecordsDisplay(),\n\t\t\"iPage\":          oSettings._iDisplayLength === -1 ?\n\t\t\t0 : Math.ceil( oSettings._iDisplayStart / oSettings._iDisplayLength ),\n\t\t\"iTotalPages\":    oSettings._iDisplayLength === -1 ?\n\t\t\t0 : Math.ceil( oSettings.fnRecordsDisplay() / oSettings._iDisplayLength )\n\t};\n};\n\n\n/* Bootstrap style pagination control */\n$.extend( $.fn.dataTableExt.oPagination, {\n\t\"bootstrap\": {\n\t\t\"fnInit\": function( oSettings, nPaging, fnDraw ) {\n\t\t\tvar oLang = oSettings.oLanguage.oPaginate;\n\t\t\tvar fnClickHandler = function ( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tif ( oSettings.oApi._fnPageChange(oSettings, e.data.action) ) {\n\t\t\t\t\tfnDraw( oSettings );\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$(nPaging).addClass('pagination').append(\n\t\t\t\t'<ul>'+\n\t\t\t\t\t'<li class=\"prev disabled\"><a href=\"#\">&larr; '+oLang.sPrevious+'</a></li>'+\n\t\t\t\t\t'<li class=\"next disabled\"><a href=\"#\">'+oLang.sNext+' &rarr; </a></li>'+\n\t\t\t\t'</ul>'\n\t\t\t);\n\t\t\tvar els = $('a', nPaging);\n\t\t\t$(els[0]).bind( 'click.DT', { action: \"previous\" }, fnClickHandler );\n\t\t\t$(els[1]).bind( 'click.DT', { action: \"next\" }, fnClickHandler );\n\t\t},\n\n\t\t\"fnUpdate\": function ( oSettings, fnDraw ) {\n\t\t\tvar iListLength = 5;\n\t\t\tvar oPaging = oSettings.oInstance.fnPagingInfo();\n\t\t\tvar an = oSettings.aanFeatures.p;\n\t\t\tvar i, ien, j, sClass, iStart, iEnd, iHalf=Math.floor(iListLength/2);\n\n\t\t\tif ( oPaging.iTotalPages < iListLength) {\n\t\t\t\tiStart = 1;\n\t\t\t\tiEnd = oPaging.iTotalPages;\n\t\t\t}\n\t\t\telse if ( oPaging.iPage <= iHalf ) {\n\t\t\t\tiStart = 1;\n\t\t\t\tiEnd = iListLength;\n\t\t\t} else if ( oPaging.iPage >= (oPaging.iTotalPages-iHalf) ) {\n\t\t\t\tiStart = oPaging.iTotalPages - iListLength + 1;\n\t\t\t\tiEnd = oPaging.iTotalPages;\n\t\t\t} else {\n\t\t\t\tiStart = oPaging.iPage - iHalf + 1;\n\t\t\t\tiEnd = iStart + iListLength - 1;\n\t\t\t}\n\n\t\t\tfor ( i=0, ien=an.length ; i<ien ; i++ ) {\n\t\t\t\t// Remove the middle elements\n\t\t\t\t$('li:gt(0)', an[i]).filter(':not(:last)').remove();\n\n\t\t\t\t// Add the new list items and their event handlers\n\t\t\t\tfor ( j=iStart ; j<=iEnd ; j++ ) {\n\t\t\t\t\tsClass = (j==oPaging.iPage+1) ? 'class=\"active\"' : '';\n\t\t\t\t\t$('<li '+sClass+'><a href=\"#\">'+j+'</a></li>')\n\t\t\t\t\t\t.insertBefore( $('li:last', an[i])[0] )\n\t\t\t\t\t\t.bind('click', function (e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\toSettings._iDisplayStart = (parseInt($('a', this).text(),10)-1) * oPaging.iLength;\n\t\t\t\t\t\t\tfnDraw( oSettings );\n\t\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\t// Add / remove disabled classes from the static elements\n\t\t\t\tif ( oPaging.iPage === 0 ) {\n\t\t\t\t\t$('li:first', an[i]).addClass('disabled');\n\t\t\t\t} else {\n\t\t\t\t\t$('li:first', an[i]).removeClass('disabled');\n\t\t\t\t}\n\n\t\t\t\tif ( oPaging.iPage === oPaging.iTotalPages-1 || oPaging.iTotalPages === 0 ) {\n\t\t\t\t\t$('li:last', an[i]).addClass('disabled');\n\t\t\t\t} else {\n\t\t\t\t\t$('li:last', an[i]).removeClass('disabled');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\n\n/*\n * TableTools Bootstrap compatibility\n * Required TableTools 2.1+\n */\nif ( $.fn.DataTable.TableTools ) {\n\t// Set the classes that TableTools uses to something suitable for Bootstrap\n\t$.extend( true, $.fn.DataTable.TableTools.classes, {\n\t\t\"container\": \"DTTT btn-group\",\n\t\t\"buttons\": {\n\t\t\t\"normal\": \"btn\",\n\t\t\t\"disabled\": \"disabled\"\n\t\t},\n\t\t\"collection\": {\n\t\t\t\"container\": \"DTTT_dropdown dropdown-menu\",\n\t\t\t\"buttons\": {\n\t\t\t\t\"normal\": \"\",\n\t\t\t\t\"disabled\": \"disabled\"\n\t\t\t}\n\t\t},\n\t\t\"print\": {\n\t\t\t\"info\": \"DTTT_print_info modal\"\n\t\t},\n\t\t\"select\": {\n\t\t\t\"row\": \"active\"\n\t\t}\n\t} );\n\n\t// Have the collection use a bootstrap compatible dropdown\n\t$.extend( true, $.fn.DataTable.TableTools.DEFAULTS.oTags, {\n\t\t\"collection\": {\n\t\t\t\"container\": \"ul\",\n\t\t\t\"button\": \"li\",\n\t\t\t\"liner\": \"a\"\n\t\t}\n\t} );\n}\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/includes/jquery.datatables.plugins-1.9.4/integration/bootstrap/2/dataTables.bootstrap.js?");

/***/ }),

/***/ "./src/main/webapp/includes/jquery.populate.js":
/*!*****************************************************!*\
  !*** ./src/main/webapp/includes/jquery.populate.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($, jQuery) {/**\n * FIXME:  this jQuery plugin has been modified to support the indexed field naming we use in tDAR (see changelog). Don't upgrade unless these modifications\n * are duplicated or, preferebly, workarounds are made to make these modifications unnecessary.\n * \n * Original location: http://www.keyframesandcode.com/resources/javascript/jQuery/demos/populate-demo.html\n */\njQuery.fn.populate = function(obj, options) {\n\n        //escape jquery selector string\n        function escapeJquerySelector(str) {\n            return str.replace(/([ #;&,.+*~\\':\"!^$[\\]()=>|\\/])/g,'\\\\$1'); \n        }\n    \n\t\n\t// ------------------------------------------------------------------------------------------\n\t// JSON conversion function\n\t\n\t\t// convert \n\t\t\tfunction parseJSON(obj, path)\n\t\t\t{\n\t\t\t\t// prepare\n\t\t\t\t\tpath = path || '';\n\t\t\t\t\n\t\t\t\t// iteration (objects / arrays)\n\t\t\t\t\tif(obj == undefined)\n\t\t\t\t\t{\n\t\t\t\t\t\t// do nothing\n\t\t\t\t\t}\n\t\t\t\t\telse if(obj.constructor == Object)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor(var prop in obj)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t//jtd: adding support for 'struts' naming when using hierarchical json\n\t\t\t\t\t\t\tif(options.strutsNaming) {\n\t\t\t\t\t\t\t\tvar name = path + (path == '' ? prop : '.' + prop );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar name = path + (path == '' ? prop : '[' +prop+ ']');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tparseJSON(obj[prop], name);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\telse if(obj.constructor == Array)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor(var i = 0; i < obj.length; i++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar index\t= options.phpIndices ? i : '';\n\t\t\t\t\t\t\tindex\t\t= options.phpNaming ? '[' +index+']' : index;\n\t\t\t\t\t\t\t//jtd: adding support to exclude specific fields from index notation via noIndicesFor\n\t\t\t\t\t\t\tvar name = path;\n\t\t\t\t\t\t\tif(($.inArray(path, options.noIndicesFor) == -1)) {\n\t\t\t\t\t\t\t\tname = path + index;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tparseJSON(obj[i], name);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t// assignment (values)\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t// if the element name hasn't yet been defined, create it as a single value\n\t\t\t\t\t\tif(arr[path] == undefined)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tarr[path] = obj;\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t// if the element name HAS been defined, but it's a single value, convert to an array and add the new value\n\t\t\t\t\t\telse if(arr[path].constructor != Array)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tarr[path] = [arr[path], obj];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t// if the element name HAS been defined, and is already an array, push the single value on the end of the stack\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tarr[path].push(obj);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t};\n\n\n\t// ------------------------------------------------------------------------------------------\n\t// population functions\n\t\t\n\t\tfunction debug(str)\n\t\t{\n\t\t\tif(window.console && console.log && options.debug)\n\t\t\t{\n\t\t\t\tconsole.log(str);\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction getElementName(name)\n\t\t{\n\t\t\tif (!options.phpNaming)\n\t\t\t{\n\t\t\t\tname = name.replace(/\\[\\]$/,'');\n\t\t\t}\n\t\t\t\n\t\t\treturn name;\n\t\t}\n\t\t\n\t\tfunction populateElement(parentElement, name, value)\n\t\t{\n\t\t\tvar selector\t= options.identifier == 'id' ? '#' + name : '[' +options.identifier+ '=\"' +name+ '\"]';\n\t\t\tvar element\t\t= jQuery(selector, parentElement);\n\t\t\tvalue\t\t\t= value.toString();\n\t\t\tvalue\t\t\t= value == 'null' ? '' : value;\n\t\t\telement.html(value);\n\t\t}\n\t\t\n\t\t//jtd: modifications:  form can be a form element, or t can be html element that we will consider the 'scope' to limit which form elements to consider\n\t\tfunction populateFormElement(form, name, value)\n\t\t{\n\n\t\t\t// check that the named element exists in the form\n\t\t\t\tvar name\t= getElementName(name); // handle non-php naming\n\t\t\t\t//var element\t= form[name];\n\t\t\t\t\n\t\t\t\t//escape for use in css selector\n\t\t\t\tname = escapeJquerySelector(name);\n\t\n\t\t\t\t\n\t\t\t\tvar element = $('[name=' + name +']', form);\n\t\t\t\t\n\t\t\t\t//the rest of this routine expects a native array or single item\n\t\t\t\telement = $.makeArray(element);\n\t\t\t\t\n\t\t\t// if the form element doesn't exist, check if there is a tag with that id\n\t\t\t\tif(element == undefined || element.length===0) \n\t\t\t\t{\n\t\t\t\t\t// look for the element\n\t\t\t\t\telement = jQuery('#' + name, form);\n\t\t\t\t\tif(element.length===0)\n\t\t\t\t\t{\n\t\t\t\t\t    return false;\n\t\t\t\t\t} else {\n\t\t\t\t\t    element = $.makeArray(element);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\t\n\t\t\t// debug options\t\t\t\t\n\t\t\t\tif(options.debug)\n\t\t\t\t{\n\t\t\t\t\t_populate.elements.push(element);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t// now, place any single elements in an array.\n\t\t\t// this is so that the next bit of code (a loop) can treat them the \n\t\t\t// same as any array-elements passed, ie radiobutton or checkox arrays,\n\t\t\t// and the code will just work\n\n\t\t\t\telements = element.type == undefined && element.length ? element : [element];\n\t\t\t\t\n\t\t\t\t\n\t\t\t// populate the element correctly\n\t\t\t\n\t\t\t\tfor(var e = 0; e < elements.length; e++)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t// grab the element\n\t\t\t\t\tvar element = elements[e];\n\t\t\t\t\t\n\t\t\t\t// skip undefined elements or function objects (IE only)\n\t\t\t\t\tif(!element || typeof element == 'undefined' || typeof element == 'function')\n\t\t\t\t\t{\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t// anything else, process\n\t\t\t\t\tswitch(element.type || element.tagName)\n\t\t\t\t\t{\n\t\n\t\t\t\t\t\tcase 'radio':\n\t\t\t\t\t\t\t// use the single value to check the radio button\n\t\t\t\t\t\t\telement.checked = (element.value != '' && value.toString() == element.value);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\tcase 'checkbox':\n\t\t\t\t\t\t\t// depends on the value.\n\t\t\t\t\t\t\t// if it's an array, perform a sub loop\n\t\t\t\t\t\t\t// if it's a value, just do the check\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar values = value.constructor == Array ? value : [value];\n\t\t\t\t\t\t\tfor(var j = 0; j < values.length; j++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\telement.checked |= element.value == values[j];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//element.checked = (element.value != '' && value.toString().toLowerCase() == element.value.toLowerCase());\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\tcase 'select-multiple':\n\t\t\t\t\t\t\tvar values = value.constructor == Array ? value : [value];\n\t\t\t\t\t\t\tfor(var i = 0; i < element.options.length; i++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfor(var j = 0; j < values.length; j++)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\telement.options[i].selected |= element.options[i].value == values[j];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase 'select':\n\t\t\t\t\t\tcase 'select-one':\n\t\t\t\t\t\t\telement.value = value.toString() || value;\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 'text':\n\t\t\t\t\t\tcase 'button':\n\t\t\t\t\t\tcase 'textarea':\n\t\t\t\t\t\tcase 'submit':\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tvalue\t\t\t= value == null ? '' : value;\n\t\t\t\t\t\t\telement.value\t= value;\n\t\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t}\n\n\t\t}\n\t\t\n\n\t\t\n\t// ------------------------------------------------------------------------------------------\n\t// options & setup\n\t\t\n\t\t// exit if no data object supplied\n\t\t\tif (obj === undefined)\n\t\t\t{\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t// options\n\t\t\tvar options = jQuery.extend\n\t\t\t(\n\t\t\t\t{\n\t\t\t\t\tphpNaming:\t\t\ttrue,\n\t\t\t\t\tphpIndices:\t\t\tfalse,\n\t\t\t\t\tnoIndicesFor:\t\t[],\n\t\t\t\t\tresetForm:\t\t\ttrue,\n\t\t\t\t\tidentifier:\t\t\t'id',\n\t\t\t\t\tdebug:\t\t\t\tfalse,\n\t\t\t\t\tstrutsNaming:\t\tfalse\n\t\t\t\t},\n\t\t\t\toptions\n\t\t\t);\n\t\t\t\t\n\t\t\tif(options.phpIndices)\n\t\t\t{\n\t\t\t\toptions.phpNaming = true;\n\t\t\t}\n\t\n\t// ------------------------------------------------------------------------------------------\n\t// convert hierarchical JSON to flat array\n\t\t\n\t\t\tvar arr\t= [];\n\t\t\tparseJSON(obj);\n\t\t\t\n\t\t\tif(options.debug)\n\t\t\t{\n\t\t\t\t_populate =\n\t\t\t\t{\n\t\t\t\t\tarr:\t\tarr,\n\t\t\t\t\tobj:\t\tobj,\n\t\t\t\t\telements:\t[]\n\t\t\t\t}\n\t\t\t}\n\t\n\t// ------------------------------------------------------------------------------------------\n\t// main process function\n\t\t\n\t\tthis.each\n\t\t(\n\t\t\tfunction()\n\t\t\t{\n\t\t\t\t\n\t\t\t\t// variables\n\t\t\t\t\tvar tagName\t= this.tagName.toLowerCase();\n\t\t\t\t\t//var method\t= tagName == 'form' ? populateFormElement : populateElement;\n\t\t\t\t\t\n\t\t\t\t// reset form?\n\t\t\t\t\tif(tagName == 'form' && options.resetForm)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.reset();\n\t\t\t\t\t}\n\n\t\t\t\t// update elements\n\t\t\t\t\tfor(var i in arr)\n\t\t\t\t\t{\n\t\t\t\t\t    populateFormElement(this, i, arr[i]);\n\t\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t);\n\nreturn this;\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\"), __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/includes/jquery.populate.js?");

/***/ }),

/***/ "./src/main/webapp/includes/jquery.tabby-0.12.js":
/*!*******************************************************!*\
  !*** ./src/main/webapp/includes/jquery.tabby-0.12.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(jQuery) {/*\n *\tTabby jQuery plugin version 0.12\n *\n *\tTed Devito - http://teddevito.com/demos/textarea.html\n *\n *\tCopyright (c) 2009 Ted Devito\n *\t \n *\tRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following \n *\tconditions are met:\n *\t\n *\t\t1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n *\t\t2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer  \n *\t\t\tin the documentation and/or other materials provided with the distribution.\n *\t\t3. The name of the author may not be used to endorse or promote products derived from this software without specific prior written \n *\t\t\tpermission. \n *\t \n *\tTHIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE \n *\tIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE \n *\tLIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, \n *\tPROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY \n *\tTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT \n *\tOF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n */\n \n// create closure\n\n(function($) {\n \n\t// plugin definition\n\n\t$.fn.tabby = function(options) {\n\t\t//debug(this);\n\t\t// build main options before element iteration\n\t\tvar opts = $.extend({}, $.fn.tabby.defaults, options);\n\t\tvar pressed = $.fn.tabby.pressed; \n\t\t\n\t\t// iterate and reformat each matched element\n\t\treturn this.each(function() {\n\t\t\t$this = $(this);\n\t\t\t\n\t\t\t// build element specific options\n\t\t\tvar options = $.meta ? $.extend({}, opts, $this.data()) : opts;\n\t\t\t\n\t\t\t$this.bind('keydown',function (e) {\n\t\t\t\tvar kc = $.fn.tabby.catch_kc(e);\n\t\t\t\tif (16 == kc) pressed.shft = true;\n\t\t\t\t/*\n\t\t\t\tbecause both CTRL+TAB and ALT+TAB default to an event (changing tab/window) that \n\t\t\t\twill prevent js from capturing the keyup event, we'll set a timer on releasing them.\n\t\t\t\t*/\n\t\t\t\tif (17 == kc) {pressed.ctrl = true;\tsetTimeout(\"$.fn.tabby.pressed.ctrl = false;\",1000);}\n\t\t\t\tif (18 == kc) {pressed.alt = true; \tsetTimeout(\"$.fn.tabby.pressed.alt = false;\",1000);}\n\t\t\t\t\t\n\t\t\t\tif (9 == kc && !pressed.ctrl && !pressed.alt) {\n\t\t\t\t\te.preventDefault; // does not work in O9.63 ??\n\t\t\t\t\tpressed.last = kc;\tsetTimeout(\"$.fn.tabby.pressed.last = null;\",0);\n\t\t\t\t\tprocess_keypress ($(e.target).get(0), pressed.shft, options);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}).bind('keyup',function (e) {\n\t\t\t\tif (16 == $.fn.tabby.catch_kc(e)) pressed.shft = false;\n\t\t\t}).bind('blur',function (e) { // workaround for Opera -- http://www.webdeveloper.com/forum/showthread.php?p=806588\n\t\t\t\tif (9 == pressed.last) $(e.target).one('focus',function (e) {pressed.last = null;}).get(0).focus();\n\t\t\t});\n\t\t\n\t\t});\n\t};\n\t\n\t// define and expose any extra methods\n\t$.fn.tabby.catch_kc = function(e) { return e.keyCode ? e.keyCode : e.charCode ? e.charCode : e.which; };\n\t$.fn.tabby.pressed = {shft : false, ctrl : false, alt : false, last: null};\n\t\n\t// private function for debugging\n\tfunction debug($obj) {\n\t\tif (window.console && window.console.log)\n\t\twindow.console.log('textarea count: ' + $obj.size());\n\t};\n\n\tfunction process_keypress (o,shft,options) {\n\t\tvar scrollTo = o.scrollTop;\n\t\t//var tabString = String.fromCharCode(9);\n\t\t\n\t\t// gecko; o.setSelectionRange is only available when the text box has focus\n\t\tif (o.setSelectionRange) gecko_tab (o, shft, options);\n\t\t\n\t\t// ie; document.selection is always available\n\t\telse if (document.selection) ie_tab (o, shft, options);\n\t\t\n\t\to.scrollTop = scrollTo;\n\t}\n\t\n\t// plugin defaults\n\t$.fn.tabby.defaults = {tabString : String.fromCharCode(9)};\n\t\n\tfunction gecko_tab (o, shft, options) {\n\t\tvar ss = o.selectionStart;\n\t\tvar es = o.selectionEnd;\t\n\t\t\t\t\n\t\t// when there's no selection and we're just working with the caret, we'll add/remove the tabs at the caret, providing more control\n\t\tif(ss == es) {\n\t\t\t// SHIFT+TAB\n\t\t\tif (shft) {\n\t\t\t\t// check to the left of the caret first\n\t\t\t\tif (\"\\t\" == o.value.substring(ss-options.tabString.length, ss)) {\n\t\t\t\t\to.value = o.value.substring(0, ss-options.tabString.length) + o.value.substring(ss); // put it back together omitting one character to the left\n\t\t\t\t\to.focus();\n\t\t\t\t\to.setSelectionRange(ss - options.tabString.length, ss - options.tabString.length);\n\t\t\t\t} \n\t\t\t\t// then check to the right of the caret\n\t\t\t\telse if (\"\\t\" == o.value.substring(ss, ss + options.tabString.length)) {\n\t\t\t\t\to.value = o.value.substring(0, ss) + o.value.substring(ss + options.tabString.length); // put it back together omitting one character to the right\n\t\t\t\t\to.focus();\n\t\t\t\t\to.setSelectionRange(ss,ss);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// TAB\n\t\t\telse {\t\t\t\n\t\t\t\to.value = o.value.substring(0, ss) + options.tabString + o.value.substring(ss);\n\t\t\t\to.focus();\n\t    \t\to.setSelectionRange(ss + options.tabString.length, ss + options.tabString.length);\n\t\t\t}\n\t\t} \n\t\t// selections will always add/remove tabs from the start of the line\n\t\telse {\n\t\t\t// split the textarea up into lines and figure out which lines are included in the selection\n\t\t\tvar lines = o.value.split(\"\\n\");\n\t\t\tvar indices = new Array();\n\t\t\tvar sl = 0; // start of the line\n\t\t\tvar el = 0; // end of the line\n\t\t\tvar sel = false;\n\t\t\tfor (var i in lines) {\n\t\t\t\tel = sl + lines[i].length;\n\t\t\t\tindices.push({start: sl, end: el, selected: (sl <= ss && el > ss) || (el >= es && sl < es) || (sl > ss && el < es)});\n\t\t\t\tsl = el + 1;// for \"\\n\"\n\t\t\t}\n\t\t\t\n\t\t\t// walk through the array of lines (indices) and add tabs where appropriate\t\t\t\t\t\t\n\t\t\tvar modifier = 0;\n\t\t\tfor (var i in indices) {\n\t\t\t\tif (indices[i].selected) {\n\t\t\t\t\tvar pos = indices[i].start + modifier; // adjust for tabs already inserted/removed\n\t\t\t\t\t// SHIFT+TAB\n\t\t\t\t\tif (shft && options.tabString == o.value.substring(pos,pos+options.tabString.length)) { // only SHIFT+TAB if there's a tab at the start of the line\n\t\t\t\t\t\to.value = o.value.substring(0,pos) + o.value.substring(pos + options.tabString.length); // omit the tabstring to the right\n\t\t\t\t\t\tmodifier -= options.tabString.length;\n\t\t\t\t\t}\n\t\t\t\t\t// TAB\n\t\t\t\t\telse if (!shft) {\n\t\t\t\t\t\to.value = o.value.substring(0,pos) + options.tabString + o.value.substring(pos); // insert the tabstring\n\t\t\t\t\t\tmodifier += options.tabString.length;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\to.focus();\n\t\t\tvar ns = ss + ((modifier > 0) ? options.tabString.length : (modifier < 0) ? -options.tabString.length : 0);\n\t\t\tvar ne = es + modifier;\n\t\t\to.setSelectionRange(ns,ne);\n\t\t}\n\t}\n\t\n\tfunction ie_tab (o, shft, options) {\n\t\tvar range = document.selection.createRange();\n\t\t\n\t\tif (o == range.parentElement()) {\n\t\t\t// when there's no selection and we're just working with the caret, we'll add/remove the tabs at the caret, providing more control\n\t\t\tif ('' == range.text) {\n\t\t\t\t// SHIFT+TAB\n\t\t\t\tif (shft) {\n\t\t\t\t\tvar bookmark = range.getBookmark();\n\t\t\t\t\t//first try to the left by moving opening up our empty range to the left\n\t\t\t\t    range.moveStart('character', -options.tabString.length);\n\t\t\t\t    if (options.tabString == range.text) {\n\t\t\t\t    \trange.text = '';\n\t\t\t\t    } else {\n\t\t\t\t    \t// if that didn't work then reset the range and try opening it to the right\n\t\t\t\t    \trange.moveToBookmark(bookmark);\n\t\t\t\t    \trange.moveEnd('character', options.tabString.length);\n\t\t\t\t    \tif (options.tabString == range.text) \n\t\t\t\t    \t\trange.text = '';\n\t\t\t\t    }\n\t\t\t\t    // move the pointer to the start of them empty range and select it\n\t\t\t\t    range.collapse(true);\n\t\t\t\t\trange.select();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse {\n\t\t\t\t\t// very simple here. just insert the tab into the range and put the pointer at the end\n\t\t\t\t\trange.text = options.tabString; \n\t\t\t\t\trange.collapse(false);\n\t\t\t\t\trange.select();\n\t\t\t\t}\n\t\t\t}\n\t\t\t// selections will always add/remove tabs from the start of the line\n\t\t\telse {\n\t\t\t\n\t\t\t\tvar selection_text = range.text;\n\t\t\t\tvar selection_len = selection_text.length;\n\t\t\t\tvar selection_arr = selection_text.split(\"\\r\\n\");\n\t\t\t\t\n\t\t\t\tvar before_range = document.body.createTextRange();\n\t\t\t\tbefore_range.moveToElementText(o);\n\t\t\t\tbefore_range.setEndPoint(\"EndToStart\", range);\n\t\t\t\tvar before_text = before_range.text;\n\t\t\t\tvar before_arr = before_text.split(\"\\r\\n\");\n\t\t\t\tvar before_len = before_text.length; // - before_arr.length + 1;\n\t\t\t\t\n\t\t\t\tvar after_range = document.body.createTextRange();\n\t\t\t\tafter_range.moveToElementText(o);\n\t\t\t\tafter_range.setEndPoint(\"StartToEnd\", range);\n\t\t\t\tvar after_text = after_range.text; // we can accurately calculate distance to the end because we're not worried about MSIE trimming a \\r\\n\n\t\t\t\t\n\t\t\t\tvar end_range = document.body.createTextRange();\n\t\t\t\tend_range.moveToElementText(o);\n\t\t\t\tend_range.setEndPoint(\"StartToEnd\", before_range);\n\t\t\t\tvar end_text = end_range.text; // we can accurately calculate distance to the end because we're not worried about MSIE trimming a \\r\\n\n\t\t\t\t\t\t\t\t\n\t\t\t\tvar check_html = $(o).html();\n\t\t\t\t$(\"#r3\").text(before_len + \" + \" + selection_len + \" + \" + after_text.length + \" = \" + check_html.length);\t\t\t\t\n\t\t\t\tif((before_len + end_text.length) < check_html.length) {\n\t\t\t\t\tbefore_arr.push(\"\");\n\t\t\t\t\tbefore_len += 2; // for the \\r\\n that was trimmed\t\n\t\t\t\t\tif (shft && options.tabString == selection_arr[0].substring(0,options.tabString.length))\n\t\t\t\t\t\tselection_arr[0] = selection_arr[0].substring(options.tabString.length);\n\t\t\t\t\telse if (!shft) selection_arr[0] = options.tabString + selection_arr[0];\t\n\t\t\t\t} else {\n\t\t\t\t\tif (shft && options.tabString == before_arr[before_arr.length-1].substring(0,options.tabString.length)) \n\t\t\t\t\t\tbefore_arr[before_arr.length-1] = before_arr[before_arr.length-1].substring(options.tabString.length);\n\t\t\t\t\telse if (!shft) before_arr[before_arr.length-1] = options.tabString + before_arr[before_arr.length-1];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor (var i = 1; i < selection_arr.length; i++) {\n\t\t\t\t\tif (shft && options.tabString == selection_arr[i].substring(0,options.tabString.length))\n\t\t\t\t\t\tselection_arr[i] = selection_arr[i].substring(options.tabString.length);\n\t\t\t\t\telse if (!shft) selection_arr[i] = options.tabString + selection_arr[i];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (1 == before_arr.length && 0 == before_len) {\n\t\t\t\t\tif (shft && options.tabString == selection_arr[0].substring(0,options.tabString.length))\n\t\t\t\t\t\tselection_arr[0] = selection_arr[0].substring(options.tabString.length);\n\t\t\t\t\telse if (!shft) selection_arr[0] = options.tabString + selection_arr[0];\n\t\t\t\t}\n\n\t\t\t\tif ((before_len + selection_len + after_text.length) < check_html.length) {\n\t\t\t\t\tselection_arr.push(\"\");\n\t\t\t\t\tselection_len += 2; // for the \\r\\n that was trimmed\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tbefore_range.text = before_arr.join(\"\\r\\n\");\n\t\t\t\trange.text = selection_arr.join(\"\\r\\n\");\n\t\t\t\t\n\t\t\t\tvar new_range = document.body.createTextRange();\n\t\t\t\tnew_range.moveToElementText(o);\n\t\t\t\t\n\t\t\t\tif (0 < before_len)\tnew_range.setEndPoint(\"StartToEnd\", before_range);\n\t\t\t\telse new_range.setEndPoint(\"StartToStart\", before_range);\n\t\t\t\tnew_range.setEndPoint(\"EndToEnd\", range);\n\t\t\t\t\n\t\t\t\tnew_range.select();\n\t\t\t\t\n\t\t\t} \n\t\t}\n\t}\n\n// end of closure\n})(jQuery);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/includes/jquery.tabby-0.12.js?");

/***/ }),

/***/ "./src/main/webapp/includes/jquery.textarearesizer.js":
/*!************************************************************!*\
  !*** ./src/main/webapp/includes/jquery.textarearesizer.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(jQuery) {(function(c){var h,i;var d=0;var a=32;var e;c.fn.TextAreaResizer=function(){return this.each(function(){h=c(this).addClass(\"processed\"),i=null;c(this).wrap('<div class=\"resizable-textarea\"><span></span></div>').parent().append(c('<div class=\"grippie\"></div>').bind(\"mousedown\",{el:this},b));var k=c(\"div.grippie\",c(this).parent())[0];k.style.marginRight=(k.offsetWidth-c(this)[0].offsetWidth)+\"px\"})};function b(k){h=c(k.data.el);h.blur();d=j(k).y;i=h.height()-d;h.css(\"opacity\",0.25);c(document).mousemove(g).mouseup(f);return false}function g(m){var k=j(m).y;var l=i+k;if(d>=(k)){l-=5}d=k;l=Math.max(a,l);h.height(l+\"px\");if(l<a){f(m)}return false}function f(k){c(document).unbind(\"mousemove\",g).unbind(\"mouseup\",f);h.css(\"opacity\",1);h.focus();h=null;i=null;d=0}function j(k){return{x:k.clientX+document.documentElement.scrollLeft,y:k.clientY+document.documentElement.scrollTop}}})(jQuery);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/includes/jquery.textarearesizer.js?");

/***/ }),

/***/ "./src/main/webapp/includes/jquery.watermark.js":
/*!******************************************************!*\
  !*** ./src/main/webapp/includes/jquery.watermark.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(jQuery) {/*\t\r\n\tWatermark plugin for jQuery\r\n\tVersion: 3.1.3\r\n\thttp://jquery-watermark.googlecode.com/\r\n\r\n\tCopyright (c) 2009-2011 Todd Northrop\r\n\thttp://www.speednet.biz/\r\n\t\r\n\tMarch 22, 2011\r\n\r\n\tRequires:  jQuery 1.2.3+\r\n\t\r\n\tDual licensed under the MIT or GPL Version 2 licenses.\r\n\tSee mit-license.txt and gpl2-license.txt in the project root for details.\r\n------------------------------------------------------*/\r\n\r\n(function ($, window, undefined) {\r\n\r\nvar\r\n\t// String constants for data names\r\n\tdataFlag = \"watermark\",\r\n\tdataClass = \"watermarkClass\",\r\n\tdataFocus = \"watermarkFocus\",\r\n\tdataFormSubmit = \"watermarkSubmit\",\r\n\tdataMaxLen = \"watermarkMaxLength\",\r\n\tdataPassword = \"watermarkPassword\",\r\n\tdataText = \"watermarkText\",\r\n\t\r\n\t// Copy of native jQuery regex use to strip return characters from element value\r\n\trreturn = /\\r/g,\r\n\r\n\t// Includes only elements with watermark defined\r\n\tselWatermarkDefined = \"input:data(\" + dataFlag + \"),textarea:data(\" + dataFlag + \")\",\r\n\r\n\t// Includes only elements capable of having watermark\r\n\tselWatermarkAble = \"input:text,input:password,input[type=search],input:not([type]),textarea\",\r\n\t\r\n\t// triggerFns:\r\n\t// Array of function names to look for in the global namespace.\r\n\t// Any such functions found will be hijacked to trigger a call to\r\n\t// hideAll() any time they are called.  The default value is the\r\n\t// ASP.NET function that validates the controls on the page\r\n\t// prior to a postback.\r\n\t// \r\n\t// Am I missing other important trigger function(s) to look for?\r\n\t// Please leave me feedback:\r\n\t// http://code.google.com/p/jquery-watermark/issues/list\r\n\ttriggerFns = [\r\n\t\t\"Page_ClientValidate\"\r\n\t],\r\n\t\r\n\t// Holds a value of true if a watermark was displayed since the last\r\n\t// hideAll() was executed. Avoids repeatedly calling hideAll().\r\n\tpageDirty = false,\r\n\t\r\n\t// Detects if the browser can handle native placeholders\r\n\thasNativePlaceholder = (\"placeholder\" in document.createElement(\"input\"));\r\n\r\n// Best practice: this plugin adds only one method to the jQuery object.\r\n// Also ensures that the watermark code is only added once.\r\n$.watermark = $.watermark || {\r\n\r\n\t// Current version number of the plugin\r\n\tversion: \"3.1.3\",\r\n\t\t\r\n\trunOnce: true,\r\n\t\r\n\t// Default options used when watermarks are instantiated.\r\n\t// Can be changed to affect the default behavior for all\r\n\t// new or updated watermarks.\r\n\toptions: {\r\n\t\t\r\n\t\t// Default class name for all watermarks\r\n\t\tclassName: \"watermark\",\r\n\t\t\r\n\t\t// If true, plugin will detect and use native browser support for\r\n\t\t// watermarks, if available. (e.g., WebKit's placeholder attribute.)\r\n\t\tuseNative: true,\r\n\t\t\r\n\t\t// If true, all watermarks will be hidden during the window's\r\n\t\t// beforeunload event. This is done mainly because WebKit\r\n\t\t// browsers remember the watermark text during navigation\r\n\t\t// and try to restore the watermark text after the user clicks\r\n\t\t// the Back button. We can avoid this by hiding the text before\r\n\t\t// the browser has a chance to save it. The regular unload event\r\n\t\t// was tried, but it seems the browser saves the text before\r\n\t\t// that event kicks off, because it didn't work.\r\n\t\thideBeforeUnload: true\r\n\t},\r\n\t\r\n\t// Hide one or more watermarks by specifying any selector type\r\n\t// i.e., DOM element, string selector, jQuery matched set, etc.\r\n\thide: function (selector) {\r\n\t\t$(selector).filter(selWatermarkDefined).each(\r\n\t\t\tfunction () {\r\n\t\t\t\t$.watermark._hide($(this));\r\n\t\t\t}\r\n\t\t);\r\n\t},\r\n\t\r\n\t// Internal use only.\r\n\t_hide: function ($input, focus) {\r\n\t\tvar elem = $input[0],\r\n\t\t\tinputVal = (elem.value || \"\").replace(rreturn, \"\"),\r\n\t\t\tinputWm = $input.data(dataText) || \"\",\r\n\t\t\tmaxLen = $input.data(dataMaxLen) || 0,\r\n\t\t\tclassName = $input.data(dataClass);\r\n\t\r\n\t\tif ((inputWm.length) && (inputVal == inputWm)) {\r\n\t\t\telem.value = \"\";\r\n\t\t\t\r\n\t\t\t// Password type?\r\n\t\t\tif ($input.data(dataPassword)) {\r\n\t\t\t\t\r\n\t\t\t\tif (($input.attr(\"type\") || \"\") === \"text\") {\r\n\t\t\t\t\tvar $pwd = $input.data(dataPassword) || [], \r\n\t\t\t\t\t\t$wrap = $input.parent() || [];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tif (($pwd.length) && ($wrap.length)) {\r\n\t\t\t\t\t\t$wrap[0].removeChild($input[0]); // Can't use jQuery methods, because they destroy data\r\n\t\t\t\t\t\t$wrap[0].appendChild($pwd[0]);\r\n\t\t\t\t\t\t$input = $pwd;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (maxLen) {\r\n\t\t\t\t$input.attr(\"maxLength\", maxLen);\r\n\t\t\t\t$input.removeData(dataMaxLen);\r\n\t\t\t}\r\n\t\t\r\n\t\t\tif (focus) {\r\n\t\t\t\t$input.attr(\"autocomplete\", \"off\");  // Avoid NS_ERROR_XPC_JS_THREW_STRING error in Firefox\r\n\t\t\t\t\r\n\t\t\t\twindow.setTimeout(\r\n\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\t$input.select();  // Fix missing cursor in IE\r\n\t\t\t\t\t}\r\n\t\t\t\t, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tclassName && $input.removeClass(className);\r\n\t},\r\n\t\r\n\t// Display one or more watermarks by specifying any selector type\r\n\t// i.e., DOM element, string selector, jQuery matched set, etc.\r\n\t// If conditions are not right for displaying a watermark, ensures that watermark is not shown.\r\n\tshow: function (selector) {\r\n\t\t$(selector).filter(selWatermarkDefined).each(\r\n\t\t\tfunction () {\r\n\t\t\t\t$.watermark._show($(this));\r\n\t\t\t}\r\n\t\t);\r\n\t},\r\n\t\r\n\t// Internal use only.\r\n\t_show: function ($input) {\r\n\t\tvar elem = $input[0],\r\n\t\t\tval = (elem.value || \"\").replace(rreturn, \"\"),\r\n\t\t\ttext = $input.data(dataText) || \"\",\r\n\t\t\ttype = $input.attr(\"type\") || \"\",\r\n\t\t\tclassName = $input.data(dataClass);\r\n\r\n\t\tif (((val.length == 0) || (val == text)) && (!$input.data(dataFocus))) {\r\n\t\t\tpageDirty = true;\r\n\t\t\r\n\t\t\t// Password type?\r\n\t\t\tif ($input.data(dataPassword)) {\r\n\t\t\t\t\r\n\t\t\t\tif (type === \"password\") {\r\n\t\t\t\t\tvar $pwd = $input.data(dataPassword) || [],\r\n\t\t\t\t\t\t$wrap = $input.parent() || [];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tif (($pwd.length) && ($wrap.length)) {\r\n\t\t\t\t\t\t$wrap[0].removeChild($input[0]); // Can't use jQuery methods, because they destroy data\r\n\t\t\t\t\t\t$wrap[0].appendChild($pwd[0]);\r\n\t\t\t\t\t\t$input = $pwd;\r\n\t\t\t\t\t\t$input.attr(\"maxLength\", text.length);\r\n\t\t\t\t\t\telem = $input[0];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\t// Ensure maxLength big enough to hold watermark (input of type=\"text\" or type=\"search\" only)\r\n\t\t\tif ((type === \"text\") || (type === \"search\")) {\r\n\t\t\t\tvar maxLen = $input.attr(\"maxLength\") || 0;\r\n\t\t\t\t\r\n\t\t\t\tif ((maxLen > 0) && (text.length > maxLen)) {\r\n\t\t\t\t\t$input.data(dataMaxLen, maxLen);\r\n\t\t\t\t\t$input.attr(\"maxLength\", text.length);\r\n\t\t\t\t}\r\n\t\t\t}\r\n            \r\n\t\t\tclassName && $input.addClass(className);\r\n\t\t\telem.value = text;\r\n\t\t}\r\n\t\telse {\r\n\t\t\t$.watermark._hide($input);\r\n\t\t}\r\n\t},\r\n\t\r\n\t// Hides all watermarks on the current page.\r\n\thideAll: function () {\r\n\t\tif (pageDirty) {\r\n\t\t\t$.watermark.hide(selWatermarkAble);\r\n\t\t\tpageDirty = false;\r\n\t\t}\r\n\t},\r\n\t\r\n\t// Displays all watermarks on the current page.\r\n\tshowAll: function () {\r\n\t\t$.watermark.show(selWatermarkAble);\r\n\t}\r\n};\r\n\r\n$.fn.watermark = $.fn.watermark || function (text, options) {\r\n\t///\t<summary>\r\n\t///\t\tSet watermark text and class name on all input elements of type=\"text/password/search\" and\r\n\t/// \ttextareas within the matched set. If className is not specified in options, the default is\r\n\t/// \t\"watermark\". Within the matched set, only input elements with type=\"text/password/search\"\r\n\t/// \tand textareas are affected; all other elements are ignored.\r\n\t///\t</summary>\r\n\t///\t<returns type=\"jQuery\">\r\n\t///\t\tReturns the original jQuery matched set (not just the input and texarea elements).\r\n\t/// </returns>\r\n\t///\t<param name=\"text\" type=\"String\">\r\n\t///\t\tText to display as a watermark when the input or textarea element has an empty value and does not\r\n\t/// \thave focus. The first time watermark() is called on an element, if this argument is empty (or not\r\n\t/// \ta String type), then the watermark will have the net effect of only changing the class name when\r\n\t/// \tthe input or textarea element's value is empty and it does not have focus.\r\n\t///\t</param>\r\n\t///\t<param name=\"options\" type=\"Object\" optional=\"true\">\r\n\t///\t\tProvides the ability to override the default watermark options ($.watermark.options). For backward\r\n\t/// \tcompatibility, if a string value is supplied, it is used as the class name that overrides the class\r\n\t/// \tname in $.watermark.options.className. Properties include:\r\n\t/// \t\tclassName: When the watermark is visible, the element will be styled using this class name.\r\n\t/// \t\tuseNative (Boolean or Function): Specifies if native browser support for watermarks will supersede\r\n\t/// \t\t\tplugin functionality. If useNative is a function, the return value from the function will\r\n\t/// \t\t\tdetermine if native support is used. The function is passed one argument -- a jQuery object\r\n\t/// \t\t\tcontaining the element being tested as the only element in its matched set -- and the DOM\r\n\t/// \t\t\telement being tested is the object on which the function is invoked (the value of \"this\").\r\n\t///\t</param>\r\n\t/// <remarks>\r\n\t///\t\tThe effect of changing the text and class name on an input element is called a watermark because\r\n\t///\t\ttypically light gray text is used to provide a hint as to what type of input is required. However,\r\n\t///\t\tthe appearance of the watermark can be something completely different: simply change the CSS style\r\n\t///\t\tpertaining to the supplied class name.\r\n\t///\t\t\r\n\t///\t\tThe first time watermark() is called on an element, the watermark text and class name are initialized,\r\n\t///\t\tand the focus and blur events are hooked in order to control the display of the watermark.  Also, as\r\n\t/// \tof version 3.0, drag and drop events are hooked to guard against dropped text being appended to the\r\n\t/// \twatermark.  If native watermark support is provided by the browser, it is detected and used, unless\r\n\t/// \tthe useNative option is set to false.\r\n\t///\t\t\r\n\t///\t\tSubsequently, watermark() can be called again on an element in order to change the watermark text\r\n\t///\t\tand/or class name, and it can also be called without any arguments in order to refresh the display.\r\n\t///\t\t\r\n\t///\t\tFor example, after changing the value of the input or textarea element programmatically, watermark()\r\n\t/// \tshould be called without any arguments to refresh the display, because the change event is only\r\n\t/// \ttriggered by user actions, not by programmatic changes to an input or textarea element's value.\r\n\t/// \t\r\n\t/// \tThe one exception to programmatic updates is for password input elements:  you are strongly cautioned\r\n\t/// \tagainst changing the value of a password input element programmatically (after the page loads).\r\n\t/// \tThe reason is that some fairly hairy code is required behind the scenes to make the watermarks bypass\r\n\t/// \tIE security and switch back and forth between clear text (for watermarks) and obscured text (for\r\n\t/// \tpasswords).  It is *possible* to make programmatic changes, but it must be done in a certain way, and\r\n\t/// \toverall it is not recommended.\r\n\t/// </remarks>\r\n\t\r\n\tif (!this.length) {\r\n\t\treturn this;\r\n\t}\r\n\t\r\n\tvar hasClass = false,\r\n\t\thasText = (typeof(text) === \"string\");\r\n\t\r\n\tif (hasText) {\r\n\t\ttext = text.replace(rreturn, \"\");\r\n\t}\r\n\t\r\n\tif (typeof(options) === \"object\") {\r\n\t\thasClass = (typeof(options.className) === \"string\");\r\n\t\toptions = $.extend({}, $.watermark.options, options);\r\n\t}\r\n\telse if (typeof(options) === \"string\") {\r\n\t\thasClass = true;\r\n\t\toptions = $.extend({}, $.watermark.options, {className: options});\r\n\t}\r\n\telse {\r\n\t\toptions = $.watermark.options;\r\n\t}\r\n\t\r\n\tif (typeof(options.useNative) !== \"function\") {\r\n\t\toptions.useNative = options.useNative? function () { return true; } : function () { return false; };\r\n\t}\r\n\t\r\n\treturn this.each(\r\n\t\tfunction () {\r\n\t\t\tvar $input = $(this);\r\n\t\t\t\r\n\t\t\tif (!$input.is(selWatermarkAble)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Watermark already initialized?\r\n\t\t\tif ($input.data(dataFlag)) {\r\n\t\t\t\r\n\t\t\t\t// If re-defining text or class, first remove existing watermark, then make changes\r\n\t\t\t\tif (hasText || hasClass) {\r\n\t\t\t\t\t$.watermark._hide($input);\r\n\t\t\t\r\n\t\t\t\t\tif (hasText) {\r\n\t\t\t\t\t\t$input.data(dataText, text);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (hasClass) {\r\n\t\t\t\t\t\t$input.data(dataClass, options.className);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\r\n\t\t\t\t// Detect and use native browser support, if enabled in options\r\n\t\t\t\tif (\r\n\t\t\t\t\t(hasNativePlaceholder)\r\n\t\t\t\t\t&& (options.useNative.call(this, $input))\r\n\t\t\t\t\t&& (($input.attr(\"tagName\") || \"\") !== \"TEXTAREA\")\r\n\t\t\t\t) {\r\n\t\t\t\t\t// className is not set because current placeholder standard doesn't\r\n\t\t\t\t\t// have a separate class name property for placeholders (watermarks).\r\n\t\t\t\t\tif (hasText) {\r\n\t\t\t\t\t\t$input.attr(\"placeholder\", text);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Only set data flag for non-native watermarks\r\n\t\t\t\t\t// [purposely commented-out] -> $input.data(dataFlag, 1);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t$input.data(dataText, hasText? text : \"\");\r\n\t\t\t\t$input.data(dataClass, options.className);\r\n\t\t\t\t$input.data(dataFlag, 1); // Flag indicates watermark was initialized\r\n\t\t\t\t\r\n\t\t\t\t// Special processing for password type\r\n\t\t\t\tif (($input.attr(\"type\") || \"\") === \"password\") {\r\n\t\t\t\t\tvar $wrap = $input.wrap(\"<span>\").parent(),\r\n\t\t\t\t\t\t$wm = $($wrap.html().replace(/type=[\"']?password[\"']?/i, 'type=\"text\"'));\r\n\t\t\t\t\t\r\n\t\t\t\t\t$wm.data(dataText, $input.data(dataText));\r\n\t\t\t\t\t$wm.data(dataClass, $input.data(dataClass));\r\n\t\t\t\t\t$wm.data(dataFlag, 1);\r\n\t\t\t\t\t$wm.attr(\"maxLength\", text.length);\r\n\t\t\t\t\t\r\n\t\t\t\t\t$wm.focus(\r\n\t\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\t\t$.watermark._hide($wm, true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t).bind(\"dragenter\",\r\n\t\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\t\t$.watermark._hide($wm);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t).bind(\"dragend\",\r\n\t\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\t\twindow.setTimeout(function () { $wm.blur(); }, 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$input.blur(\r\n\t\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\t\t$.watermark._show($input);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t).bind(\"dragleave\",\r\n\t\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\t\t$.watermark._show($input);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\t\r\n\t\t\t\t\t$wm.data(dataPassword, $input);\r\n\t\t\t\t\t$input.data(dataPassword, $wm);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t\r\n\t\t\t\t\t$input.focus(\r\n\t\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\t\t$input.data(dataFocus, 1);\r\n\t\t\t\t\t\t\t$.watermark._hide($input, true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t).blur(\r\n\t\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\t\t$input.data(dataFocus, 0);\r\n\t\t\t\t\t\t\t$.watermark._show($input);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t).bind(\"dragenter\",\r\n\t\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\t\t$.watermark._hide($input);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t).bind(\"dragleave\",\r\n\t\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\t\t$.watermark._show($input);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t).bind(\"dragend\",\r\n\t\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\t\twindow.setTimeout(function () { $.watermark._show($input); }, 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t).bind(\"drop\",\r\n\t\t\t\t\t\t// Firefox makes this lovely function necessary because the dropped text\r\n\t\t\t\t\t\t// is merged with the watermark before the drop event is called.\r\n\t\t\t\t\t\tfunction (evt) {\r\n\t\t\t\t\t\t\tvar elem = $input[0],\r\n\t\t\t\t\t\t\t\tdropText = evt.originalEvent.dataTransfer.getData(\"Text\");\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif ((elem.value || \"\").replace(rreturn, \"\").replace(dropText, \"\") === $input.data(dataText)) {\r\n\t\t\t\t\t\t\t\telem.value = dropText;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t$input.focus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// In order to reliably clear all watermarks before form submission,\r\n\t\t\t\t// we need to replace the form's submit function with our own\r\n\t\t\t\t// function.  Otherwise watermarks won't be cleared when the form\r\n\t\t\t\t// is submitted programmatically.\r\n\t\t\t\tif (this.form) {\r\n\t\t\t\t\tvar form = this.form,\r\n\t\t\t\t\t\t$form = $(form);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!$form.data(dataFormSubmit)) {\r\n\t\t\t\t\t\t$form.submit($.watermark.hideAll);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// form.submit exists for all browsers except Google Chrome\r\n\t\t\t\t\t\t// (see \"else\" below for explanation)\r\n\t\t\t\t\t\tif (form.submit) {\r\n\t\t\t\t\t\t\t$form.data(dataFormSubmit, form.submit);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tform.submit = (function (f, $f) {\r\n\t\t\t\t\t\t\t\treturn function () {\r\n\t\t\t\t\t\t\t\t\tvar nativeSubmit = $f.data(dataFormSubmit);\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t$.watermark.hideAll();\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tif (nativeSubmit.apply) {\r\n\t\t\t\t\t\t\t\t\t\tnativeSubmit.apply(f, Array.prototype.slice.call(arguments));\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\tnativeSubmit();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t})(form, $form);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t$form.data(dataFormSubmit, 1);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// This strangeness is due to the fact that Google Chrome's\r\n\t\t\t\t\t\t\t// form.submit function is not visible to JavaScript (identifies\r\n\t\t\t\t\t\t\t// as \"undefined\").  I had to invent a solution here because hours\r\n\t\t\t\t\t\t\t// of Googling (ironically) for an answer did not turn up anything\r\n\t\t\t\t\t\t\t// useful.  Within my own form.submit function I delete the form's\r\n\t\t\t\t\t\t\t// submit function, and then call the non-existent function --\r\n\t\t\t\t\t\t\t// which, in the world of Google Chrome, still exists.\r\n\t\t\t\t\t\t\tform.submit = (function (f) {\r\n\t\t\t\t\t\t\t\treturn function () {\r\n\t\t\t\t\t\t\t\t\t$.watermark.hideAll();\r\n\t\t\t\t\t\t\t\t\tdelete f.submit;\r\n\t\t\t\t\t\t\t\t\tf.submit();\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t})(form);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t$.watermark._show($input);\r\n\t\t}\r\n\t);\r\n};\r\n\r\n// The code included within the following if structure is guaranteed to only run once,\r\n// even if the watermark script file is included multiple times in the page.\r\nif ($.watermark.runOnce) {\r\n\t$.watermark.runOnce = false;\r\n\r\n\t$.extend($.expr[\":\"], {\r\n\r\n\t\t// Extends jQuery with a custom selector - \":data(...)\"\r\n\t\t// :data(<name>)  Includes elements that have a specific name defined in the jQuery data\r\n\t\t// collection. (Only the existence of the name is checked; the value is ignored.)\r\n\t\t// A more sophisticated version of the :data() custom selector originally part of this plugin\r\n\t\t// was removed for compatibility with jQuery UI. The original code can be found in the SVN\r\n\t\t// source listing in the file, \"jquery.data.js\".\r\n\t\tdata: function( elem, i, match ) {\r\n\t\t\treturn !!$.data( elem, match[ 3 ] );\r\n\t\t}\r\n\t});\r\n\r\n\t// Overloads the jQuery .val() function to return the underlying input value on\r\n\t// watermarked input elements.  When .val() is being used to set values, this\r\n\t// function ensures watermarks are properly set/removed after the values are set.\r\n\t// Uses self-executing function to override the default jQuery function.\r\n\t(function (valOld) {\r\n\r\n\t\t$.fn.val = function () {\r\n\t\t\t\r\n\t\t\t// Best practice: return immediately if empty matched set\r\n\t\t\tif ( !this.length ) {\r\n\t\t\t\treturn arguments.length? this : undefined;\r\n\t\t\t}\r\n\r\n\t\t\t// If no args, then we're getting the value of the first element;\r\n\t\t\t// otherwise we're setting values for all elements in matched set\r\n\t\t\tif ( !arguments.length ) {\r\n\r\n\t\t\t\t// If element is watermarked, get the underlying value;\r\n\t\t\t\t// otherwise use native jQuery .val()\r\n\t\t\t\tif ( this.data(dataFlag) ) {\r\n\t\t\t\t\tvar v = (this[0].value || \"\").replace(rreturn, \"\");\r\n\t\t\t\t\treturn (v === (this.data(dataText) || \"\"))? \"\" : v;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\treturn valOld.apply( this, arguments );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvalOld.apply( this, arguments );\r\n\t\t\t\t$.watermark.show(this);\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t})($.fn.val);\r\n\t\r\n\t// Hijack any functions found in the triggerFns list\r\n\tif (triggerFns.length) {\r\n\r\n\t\t// Wait until DOM is ready before searching\r\n\t\t$(function () {\r\n\t\t\tvar i, name, fn;\r\n\t\t\r\n\t\t\tfor (i=triggerFns.length-1; i>=0; i--) {\r\n\t\t\t\tname = triggerFns[i];\r\n\t\t\t\tfn = window[name];\r\n\t\t\t\t\r\n\t\t\t\tif (typeof(fn) === \"function\") {\r\n\t\t\t\t\twindow[name] = (function (origFn) {\r\n\t\t\t\t\t\treturn function () {\r\n\t\t\t\t\t\t\t$.watermark.hideAll();\r\n\t\t\t\t\t\t\treturn origFn.apply(null, Array.prototype.slice.call(arguments));\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(fn);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t$(window).bind(\"beforeunload\", function () {\r\n\t\tif ($.watermark.options.hideBeforeUnload) {\r\n\t\t\t$.watermark.hideAll();\r\n\t\t}\r\n\t});\r\n}\r\n\r\n})(jQuery, window);\r\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/includes/jquery.watermark.js?");

/***/ }),

/***/ "./src/main/webapp/js/jquery.FormNavigate.js":
/*!***************************************************!*\
  !*** ./src/main/webapp/js/jquery.FormNavigate.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(jQuery) {/**\n * jQuery.FormNavigate.js\n * jQuery Form onChange Navigate Confirmation plugin\n *\n * Copyright (c) 2009 Law Ding Yong\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/mit-license.php\n *\n * See the file license.txt for copying permission.\n */\n\n/**\n * Documentation :\n * ==================\n *\n * How to Use:\n * $(\"YourForm\").FormNavigate(options);\n *  -- \"YourForm\" as Your Form ID $(\"#form\") or any method to grab your form\n *  -- options: can be either a string (representing the confirmation message the plugin will display), or an object with the following fields\n *         message:    confirmation messaged displayed to the user (default: 'your changes have not been saved')\n *\n *         customEvents:     A space-separated list of additional events that, when triggered within the form, will cause the plugin to consider the form \"dirty\".\n *                     The plugin will always monitor keyup and change events. (no default)\n *\n *         cleanOnSubmit:   set state to 'clean' on form submit, allowing the navigation. Note that the state remains clean even if the submit\n *                            event is cancelled (e.g. by form validation proces).  (default: true)\n *\n *\n *  -- FormNavigate methods:  methods available after you've initialized formNavigate\n *\n *         $(\"YourForm\").FormNavigate(\"status\"):  returns \"clean\", \"dirty\", or \"not initialized\"\n *         $(\"YourForm\").FormNavigate(\"clean\"):  forces the status to \"clean\"\n *\n *\n *\n * This plugin handles onchange of input type of text, textarea, password, radio, checkbox, select and file to toggle on\n\n and off of window.onbeforeunload event.\n * Users are able to configure the custom onBeforeUnload message.\n */\n(function ($) {\n    var DATA_FIELD = \"formNavigate\";\n\n    $.fn.FormNavigate = function (options) {\n        \"use strict\";\n\n        //return state of first item in selection\n        if (options === \"status\") {\n            if (typeof this.data(DATA_FIELD) === \"undefined\") {\n                return \"not initialized\";\n            }\n            return this.data(DATA_FIELD) ? \"clean\" : \"dirty\";\n\n            //force the form clean\n        } else if (options === \"clean\") {\n            return this.each(function () {\n                $(this).data(DATA_FIELD, true);\n            });\n        }  else if (options === \"dirty\") {\n            return this.each(function () {\n                $(this).data(DATA_FIELD, false);\n            });\n        }\n\n        var _options = {customEvents: null, message: \"Your changes have not been saved.\", cleanOnSubmit: true};\n        if (typeof options === \"object\") {\n            $.extend(_options, options);\n        }\n\n        this.each(function () {\n            var $this = $(this);\n            $this.data(DATA_FIELD, true);\n            $(window).bind(\"beforeunload\", function (event) {\n                if ($this.data(DATA_FIELD)) {\n                    event.cancelBubble = true;\n                } else {\n                    return _options.message;\n                }\n            });\n\n            var _eventHandler = function (evt) {\n                $this.data(DATA_FIELD, false);\n            };\n\n            $this.one(\"keyup change\", _eventHandler);\n            if (_options.customEvents) {\n                $this.one(_options.customEvents, _eventHandler);\n            }\n\n            if (_options.cleanOnSubmit) {\n                $this.find(' input[type=\"submit\"], button[type=\"submit\"], .submitButton').click(function () {\n                    $this.data(DATA_FIELD, true);\n                });\n            }\n\n        });\n        return this;\n    };\n    $.fn.FormNavigate.DATA_FIELD = DATA_FIELD;\n})(jQuery);\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/jquery.FormNavigate.js?");

/***/ }),

/***/ "./src/main/webapp/js/latLongUtil-1.0.js":
/*!***********************************************!*\
  !*** ./src/main/webapp/js/latLongUtil-1.0.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  */\n/*  Latitude/longitude spherical geodesy formulae & scripts (c) Chris Veness 2002-2010            */\n/*   - www.movable-type.co.uk/scripts/latlong.html                                                */\n/*                                                                                                */\n/*  Sample usage:                                                                                 */\n/*    var p1 = new LatLon(51.5136, -0.0983);                                                      */\n/*    var p2 = new LatLon(51.4778, -0.0015);                                                      */\n/*    var dist = p1.distanceTo(p2);          // in km                                             */\n/*    var brng = p1.bearingTo(p2);           // in degrees clockwise from north                   */\n/*    ... etc                                                                                     */\n/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  */\n\n/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  */\n/*  Note that minimal error checking is performed in this example code!                           */\n/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  */\n//FIXME: retain attribution (cc-by) and adopt as first-class module\n\n/**\n * Creates a point on the earth's surface at the supplied latitude / longitude\n *\n * @constructor\n * @param {Number} lat: latitude in numeric degrees\n * @param {Number} lon: longitude in numeric degrees\n * @param {Number} [rad=6371]: radius of earth if different value is required from standard 6,371km\n */\nfunction LatLon(lat, lon, rad) {\n  if (typeof rad == 'undefined') rad = 6371;  // earth's mean radius in km\n  this._lat = lat;\n  this._lon = lon;\n  this._radius = rad;\n}\n\n\n/**\n * Returns the distance from this point to the supplied point, in km \n * (using Haversine formula)\n *\n * from: Haversine formula - R. W. Sinnott, \"Virtues of the Haversine\",\n *       Sky and Telescope, vol 68, no 2, 1984\n *\n * @param   {LatLon} point: Latitude/longitude of destination point\n * @param   {Number} [precision=4]: no of significant digits to use for returned value\n * @returns {Number} Distance in km between this point and destination point\n */\nLatLon.prototype.distanceTo = function(point, precision) {\n  // default 4 sig figs reflects typical 0.3% accuracy of spherical model\n  if (typeof precision == 'undefined') precision = 4;  \n  \n  var R = this._radius;\n  var lat1 = this._lat.toRad(), lon1 = this._lon.toRad();\n  var lat2 = point._lat.toRad(), lon2 = point._lon.toRad();\n  var dLat = lat2 - lat1;\n  var dLon = lon2 - lon1;\n\n  var a = Math.sin(dLat/2) * Math.sin(dLat/2) +\n          Math.cos(lat1) * Math.cos(lat2) * \n          Math.sin(dLon/2) * Math.sin(dLon/2);\n  var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n  var d = R * c;\n  return d.toPrecisionFixed(precision);\n}\n\n\n/**\n * Returns the (initial) bearing from this point to the supplied point, in degrees\n *   see http://williams.best.vwh.net/avform.htm#Crs\n *\n * @param   {LatLon} point: Latitude/longitude of destination point\n * @returns {Number} Initial bearing in degrees from North\n */\nLatLon.prototype.bearingTo = function(point) {\n  var lat1 = this._lat.toRad(), lat2 = point._lat.toRad();\n  var dLon = (point._lon-this._lon).toRad();\n\n  var y = Math.sin(dLon) * Math.cos(lat2);\n  var x = Math.cos(lat1)*Math.sin(lat2) -\n          Math.sin(lat1)*Math.cos(lat2)*Math.cos(dLon);\n  var brng = Math.atan2(y, x);\n  \n  return (brng.toDeg()+360) % 360;\n}\n\n\n/**\n * Returns final bearing arriving at supplied destination point from this point; the final bearing \n * will differ from the initial bearing by varying degrees according to distance and latitude\n *\n * @param   {LatLon} point: Latitude/longitude of destination point\n * @returns {Number} Final bearing in degrees from North\n */\nLatLon.prototype.finalBearingTo = function(point) {\n  // get initial bearing from supplied point back to this point...\n  var lat1 = point._lat.toRad(), lat2 = this._lat.toRad();\n  var dLon = (this._lon-point._lon).toRad();\n\n  var y = Math.sin(dLon) * Math.cos(lat2);\n  var x = Math.cos(lat1)*Math.sin(lat2) -\n          Math.sin(lat1)*Math.cos(lat2)*Math.cos(dLon);\n  var brng = Math.atan2(y, x);\n          \n  // ... & reverse it by adding 180°\n  return (brng.toDeg()+180) % 360;\n}\n\n\n/**\n * Returns the midpoint between this point and the supplied point.\n *   see http://mathforum.org/library/drmath/view/51822.html for derivation\n *\n * @param   {LatLon} point: Latitude/longitude of destination point\n * @returns {LatLon} Midpoint between this point and the supplied point\n */\nLatLon.prototype.midpointTo = function(point) {\n  lat1 = this._lat.toRad(), lon1 = this._lon.toRad();\n  lat2 = point._lat.toRad();\n  var dLon = (point._lon-this._lon).toRad();\n\n  var Bx = Math.cos(lat2) * Math.cos(dLon);\n  var By = Math.cos(lat2) * Math.sin(dLon);\n\n  lat3 = Math.atan2(Math.sin(lat1)+Math.sin(lat2),\n                    Math.sqrt( (Math.cos(lat1)+Bx)*(Math.cos(lat1)+Bx) + By*By) );\n  lon3 = lon1 + Math.atan2(By, Math.cos(lat1) + Bx);\n\n  return new LatLon(lat3.toDeg(), lon3.toDeg());\n}\n\n\n/**\n * Returns the destination point from this point having travelled the given distance (in km) on the \n * given initial bearing (bearing may vary before destination is reached)\n *\n *   see http://williams.best.vwh.net/avform.htm#LL\n *\n * @param   {Number} brng: Initial bearing in degrees\n * @param   {Number} dist: Distance in km\n * @returns {LatLon} Destination point\n */\nLatLon.prototype.destinationPoint = function(brng, dist) {\n  dist = dist/this._radius;  // convert dist to angular distance in radians\n  brng = brng.toRad();  // \n  var lat1 = this._lat.toRad(), lon1 = this._lon.toRad();\n\n  var lat2 = Math.asin( Math.sin(lat1)*Math.cos(dist) + \n                        Math.cos(lat1)*Math.sin(dist)*Math.cos(brng) );\n  var lon2 = lon1 + Math.atan2(Math.sin(brng)*Math.sin(dist)*Math.cos(lat1), \n                               Math.cos(dist)-Math.sin(lat1)*Math.sin(lat2));\n  lon2 = (lon2+3*Math.PI)%(2*Math.PI) - Math.PI;  // normalise to -180...+180\n\n  if (isNaN(lat2) || isNaN(lon2)) return null;\n  return new LatLon(lat2.toDeg(), lon2.toDeg());\n}\n\n\n/**\n * Returns the point of intersection of two paths defined by point and bearing\n *\n *   see http://williams.best.vwh.net/avform.htm#Intersection\n *\n * @param   {LatLon} p1: First point\n * @param   {Number} brng1: Initial bearing from first point\n * @param   {LatLon} p2: Second point\n * @param   {Number} brng2: Initial bearing from second point\n * @returns {LatLon} Destination point (null if no unique intersection defined)\n */\nLatLon.intersection = function(p1, brng1, p2, brng2) {\n  lat1 = p1._lat.toRad(), lon1 = p1._lon.toRad();\n  lat2 = p2._lat.toRad(), lon2 = p2._lon.toRad();\n  brng13 = brng1.toRad(), brng23 = brng2.toRad();\n  dLat = lat2-lat1, dLon = lon2-lon1;\n  \n  dist12 = 2*Math.asin( Math.sqrt( Math.sin(dLat/2)*Math.sin(dLat/2) + \n    Math.cos(lat1)*Math.cos(lat2)*Math.sin(dLon/2)*Math.sin(dLon/2) ) );\n  if (dist12 == 0) return null;\n  \n  // initial/final bearings between points\n  brngA = Math.acos( ( Math.sin(lat2) - Math.sin(lat1)*Math.cos(dist12) ) / \n    ( Math.sin(dist12)*Math.cos(lat1) ) );\n  if (isNaN(brngA)) brngA = 0;  // protect against rounding\n  brngB = Math.acos( ( Math.sin(lat1) - Math.sin(lat2)*Math.cos(dist12) ) / \n    ( Math.sin(dist12)*Math.cos(lat2) ) );\n  \n  if (Math.sin(lon2-lon1) > 0) {\n    brng12 = brngA;\n    brng21 = 2*Math.PI - brngB;\n  } else {\n    brng12 = 2*Math.PI - brngA;\n    brng21 = brngB;\n  }\n  \n  alpha1 = (brng13 - brng12 + Math.PI) % (2*Math.PI) - Math.PI;  // angle 2-1-3\n  alpha2 = (brng21 - brng23 + Math.PI) % (2*Math.PI) - Math.PI;  // angle 1-2-3\n  \n  if (Math.sin(alpha1)==0 && Math.sin(alpha2)==0) return null;  // infinite intersections\n  if (Math.sin(alpha1)*Math.sin(alpha2) < 0) return null;       // ambiguous intersection\n  \n  //alpha1 = Math.abs(alpha1);\n  //alpha2 = Math.abs(alpha2);\n  // ... Ed Williams takes abs of alpha1/alpha2, but seems to break calculation?\n  \n  alpha3 = Math.acos( -Math.cos(alpha1)*Math.cos(alpha2) + \n                       Math.sin(alpha1)*Math.sin(alpha2)*Math.cos(dist12) );\n  dist13 = Math.atan2( Math.sin(dist12)*Math.sin(alpha1)*Math.sin(alpha2), \n                       Math.cos(alpha2)+Math.cos(alpha1)*Math.cos(alpha3) )\n  lat3 = Math.asin( Math.sin(lat1)*Math.cos(dist13) + \n                    Math.cos(lat1)*Math.sin(dist13)*Math.cos(brng13) );\n  dLon13 = Math.atan2( Math.sin(brng13)*Math.sin(dist13)*Math.cos(lat1), \n                       Math.cos(dist13)-Math.sin(lat1)*Math.sin(lat3) );\n  lon3 = lon1+dLon13;\n  lon3 = (lon3+Math.PI) % (2*Math.PI) - Math.PI;  // normalise to -180..180º\n  \n  return new LatLon(lat3.toDeg(), lon3.toDeg());\n}\n\n\n/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  */\n\n/**\n * Returns the distance from this point to the supplied point, in km, travelling along a rhumb line\n *\n *   see http://williams.best.vwh.net/avform.htm#Rhumb\n *\n * @param   {LatLon} point: Latitude/longitude of destination point\n * @returns {Number} Distance in km between this point and destination point\n */\nLatLon.prototype.rhumbDistanceTo = function(point) {\n  var R = this._radius;\n  var lat1 = this._lat.toRad(), lat2 = point._lat.toRad();\n  var dLat = (point._lat-this._lat).toRad();\n  var dLon = Math.abs(point._lon-this._lon).toRad();\n  \n  var dPhi = Math.log(Math.tan(lat2/2+Math.PI/4)/Math.tan(lat1/2+Math.PI/4));\n  var q = (!isNaN(dLat/dPhi)) ? dLat/dPhi : Math.cos(lat1);  // E-W line gives dPhi=0\n  // if dLon over 180° take shorter rhumb across 180° meridian:\n  if (dLon > Math.PI) dLon = 2*Math.PI - dLon;\n  var dist = Math.sqrt(dLat*dLat + q*q*dLon*dLon) * R; \n  \n  return dist.toPrecisionFixed(4);  // 4 sig figs reflects typical 0.3% accuracy of spherical model\n}\n\n/**\n * Returns the bearing from this point to the supplied point along a rhumb line, in degrees\n *\n * @param   {LatLon} point: Latitude/longitude of destination point\n * @returns {Number} Bearing in degrees from North\n */\nLatLon.prototype.rhumbBearingTo = function(point) {\n  var lat1 = this._lat.toRad(), lat2 = point._lat.toRad();\n  var dLon = (point._lon-this._lon).toRad();\n  \n  var dPhi = Math.log(Math.tan(lat2/2+Math.PI/4)/Math.tan(lat1/2+Math.PI/4));\n  if (Math.abs(dLon) > Math.PI) dLon = dLon>0 ? -(2*Math.PI-dLon) : (2*Math.PI+dLon);\n  var brng = Math.atan2(dLon, dPhi);\n  \n  return (brng.toDeg()+360) % 360;\n}\n\n/**\n * Returns the destination point from this point having travelled the given distance (in km) on the \n * given bearing along a rhumb line\n *\n * @param   {Number} brng: Bearing in degrees from North\n * @param   {Number} dist: Distance in km\n * @returns {LatLon} Destination point\n */\nLatLon.prototype.rhumbDestinationPoint = function(brng, dist) {\n  var R = this._radius;\n  var d = parseFloat(dist)/R;  // d = angular distance covered on earth's surface\n  var lat1 = this._lat.toRad(), lon1 = this._lon.toRad();\n  brng = brng.toRad();\n\n  var lat2 = lat1 + d*Math.cos(brng);\n  var dLat = lat2-lat1;\n  var dPhi = Math.log(Math.tan(lat2/2+Math.PI/4)/Math.tan(lat1/2+Math.PI/4));\n  var q = (!isNaN(dLat/dPhi)) ? dLat/dPhi : Math.cos(lat1);  // E-W line gives dPhi=0\n  var dLon = d*Math.sin(brng)/q;\n  // check for some daft bugger going past the pole\n  if (Math.abs(lat2) > Math.PI/2) lat2 = lat2>0 ? Math.PI-lat2 : -(Math.PI-lat2);\n  lon2 = (lon1+dLon+3*Math.PI)%(2*Math.PI) - Math.PI;\n \n  return new LatLon(lat2.toDeg(), lon2.toDeg());\n}\n\n/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  */\n\n\n/**\n * Returns the latitude of this point; signed numeric degrees if no format, otherwise format & dp \n * as per Geo.toLat()\n *\n * @param   {String} [format]: Return value as 'd', 'dm', 'dms'\n * @param   {Number} [dp=0|2|4]: No of decimal places to display\n * @returns {Number|String} Numeric degrees if no format specified, otherwise deg/min/sec\n *\n * @requires Geo\n */\nLatLon.prototype.lat = function(format, dp) {\n  if (typeof format == 'undefined') return this._lat;\n  \n  return Geo.toLat(this._lat, format, dp);\n}\n\n/**\n * Returns the longitude of this point; signed numeric degrees if no format, otherwise format & dp \n * as per Geo.toLon()\n *\n * @param   {String} [format]: Return value as 'd', 'dm', 'dms'\n * @param   {Number} [dp=0|2|4]: No of decimal places to display\n * @returns {Number|String} Numeric degrees if no format specified, otherwise deg/min/sec\n *\n * @requires Geo\n */\nLatLon.prototype.lon = function(format, dp) {\n  if (typeof format == 'undefined') return this._lon;\n  \n  return Geo.toLon(this._lon, format, dp);\n}\n\n/**\n * Returns a string representation of this point; format and dp as per lat()/lon()\n *\n * @param   {String} [format]: Return value as 'd', 'dm', 'dms'\n * @param   {Number} [dp=0|2|4]: No of decimal places to display\n * @returns {String} Comma-separated latitude/longitude\n *\n * @requires Geo\n */\nLatLon.prototype.toString = function(format, dp) {\n  if (typeof format == 'undefined') format = 'dms';\n  \n  return Geo.toLat(this._lat, format, dp) + ', ' + Geo.toLon(this._lon, format, dp);\n}\n\n\n/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  */\n\n// extend Number object with methods for converting degrees/radians\n\n/** Convert numeric degrees to radians */\nif (typeof(String.prototype.toRad) === \"undefined\") {\n  Number.prototype.toRad = function() {\n    return this * Math.PI / 180;\n  }\n}\n\n/** Convert radians to numeric (signed) degrees */\nif (typeof(String.prototype.toDeg) === \"undefined\") {\n  Number.prototype.toDeg = function() {\n    return this * 180 / Math.PI;\n  }\n}\n\n/** \n * Format the significant digits of a number, using only fixed-point notation (no exponential)\n * \n * @param   {Number} precision: Number of significant digits to appear in the returned string\n * @returns {String} A string representation of number which contains precision significant digits\n */\nif (typeof(Number.prototype.toPrecisionFixed) === \"undefined\") {\n  Number.prototype.toPrecisionFixed = function(precision) {\n    var numb = this < 0 ? -this : this;  // can't take log of -ve number...\n    var sign = this < 0 ? '-' : '';\n    \n    if (numb == 0) { n = '0.'; while (precision--) n += '0'; return n };  // can't take log of zero\n  \n    var scale = Math.ceil(Math.log(numb)*Math.LOG10E);  // no of digits before decimal\n    var n = String(Math.round(numb * Math.pow(10, precision-scale)));\n    if (scale > 0) {  // add trailing zeros & insert decimal as required\n      l = scale - n.length;\n      while (l-- > 0) n = n + '0';\n      if (scale < n.length) n = n.slice(0,scale) + '.' + n.slice(scale);\n    } else {          // prefix decimal and leading zeros if required\n      while (scale++ < 0) n = '0' + n;\n      n = '0.' + n;\n    }\n    return sign + n;\n  }\n}\n\n\n/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  */\n/*  Geodesy representation conversion functions (c) Chris Veness 2002-2010                        */\n/*   - www.movable-type.co.uk/scripts/latlong.html                                                */\n/*                                                                                                */\n/*  Sample usage:                                                                                 */\n/*    var lat = Geo.parseDMS(' 51° 28′ 40.12″ N');                                                */\n/*    var lon = Geo.parseDMS('000° 00′ 05.31″ W');                                                */\n/*    var p1 = new LatLon(lat, lon);                                                              */\n/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  */\n\nvar Geo = {};  // Geo namespace, representing static class\n\n/**\n * Parses string representing degrees/minutes/seconds into numeric degrees\n *\n * This is very flexible on formats, allowing signed decimal degrees, or deg-min-sec optionally\n * suffixed by compass direction (NSEW). A variety of separators are accepted (eg 3º 37' 09\"W) \n * or fixed-width format without separators (eg 0033709W). Seconds and minutes may be omitted. \n * (Note minimal validation is done).\n *\n * @param   {String|Number} dmsStr: Degrees or deg/min/sec in variety of formats\n * @returns {Number} Degrees as decimal number\n * @throws  {TypeError} dmsStr is an object, perhaps DOM object without .value?\n */\nGeo.parseDMS = function(dmsStr) {\n  if (typeof deg == 'object') throw new TypeError('Geo.parseDMS - dmsStr is [DOM?] object');\n  \n  if (!isNaN(dmsStr)) return Number(dmsStr);  // ... signed decimal degrees without NSEW\n  \n  // strip off any sign or compass dir'n & split out separate d/m/s\n  var dms = $.trim(String(dmsStr)).replace(/^-/,'').replace(/[NSEW]$/i,'').split(/[^0-9.,]+/);\n  if (dms[dms.length-1]=='') dms.splice(dms.length-1);  // from trailing symbol\n  \n  if (dms == '') return NaN;\n  \n  // and convert to decimal degrees...\n  switch (dms.length) {\n    case 3:  // interpret 3-part result as d/m/s\n      var deg = dms[0]/1 + dms[1]/60 + dms[2]/3600; \n      break;\n    case 2:  // interpret 2-part result as d/m\n      var deg = dms[0]/1 + dms[1]/60; \n      break;\n    case 1:  // just d (possibly decimal) or non-separated dddmmss\n      var deg = dms[0];\n      // check for fixed-width unseparated format eg 0033709W\n      if (/[NS]/i.test(dmsStr)) deg = '0' + deg;  // - normalise N/S to 3-digit degrees\n      if (/[0-9]{7}/.test(deg)) deg = deg.slice(0,3)/1 + deg.slice(3,5)/60 + deg.slice(5)/3600; \n      break;\n    default:\n      return NaN;\n  }\n  if (/^-|[WS]$/i.test($.trim(dmsStr))) deg = -deg; // take '-', west and south as -ve\n  return Number(deg);\n}\n\n/**\n * Convert decimal degrees to deg/min/sec format\n *  - degree, prime, double-prime symbols are added, but sign is discarded, though no compass\n *    direction is added\n *\n * @private\n * @param   {Number} deg: Degrees\n * @param   {String} [format=dms]: Return value as 'd', 'dm', 'dms'\n * @param   {Number} [dp=0|2|4]: No of decimal places to use - default 0 for dms, 2 for dm, 4 for d\n * @returns {String} deg formatted as deg/min/secs according to specified format\n * @throws  {TypeError} deg is an object, perhaps DOM object without .value?\n */\nGeo.toDMS = function(deg, format, dp) {\n  if (typeof deg == 'object') throw new TypeError('Geo.toDMS - deg is [DOM?] object');\n  if (isNaN(deg)) return '';  // give up here if we can't make a number from deg\n  \n    // default values\n  if (typeof format == 'undefined') format = 'dms';\n  if (typeof dp == 'undefined') {\n    switch (format) {\n      case 'd': dp = 4; break;\n      case 'dm': dp = 2; break;\n      case 'dms': dp = 0; break;\n      default: format = 'dms'; dp = 0;  // be forgiving on invalid format\n    }\n  }\n  \n  deg = Math.abs(deg);  // (unsigned result ready for appending compass dir'n)\n  \n  switch (format) {\n    case 'd':\n      d = deg.toFixed(dp);     // round degrees\n      if (d<100) d = '0' + d;  // pad with leading zeros\n      if (d<10) d = '0' + d;\n      dms = d + '\\u00B0';      // add º symbol\n      break;\n    case 'dm':\n      var min = (deg*60).toFixed(dp);  // convert degrees to minutes & round\n      var d = Math.floor(min / 60);    // get component deg/min\n      var m = (min % 60).toFixed(dp);  // pad with trailing zeros\n      if (d<100) d = '0' + d;          // pad with leading zeros\n      if (d<10) d = '0' + d;\n      if (m<10) m = '0' + m;\n      dms = d + '\\u00B0' + m + '\\u2032';  // add º, ' symbols\n      break;\n    case 'dms':\n      var sec = (deg*3600).toFixed(dp);  // convert degrees to seconds & round\n      var d = Math.floor(sec / 3600);    // get component deg/min/sec\n      var m = Math.floor(sec/60) % 60;\n      var s = (sec % 60).toFixed(dp);    // pad with trailing zeros\n      if (d<100) d = '0' + d;            // pad with leading zeros\n      if (d<10) d = '0' + d;\n      if (m<10) m = '0' + m;\n      if (s<10) s = '0' + s;\n      dms = d + '\\u00B0' + m + '\\u2032' + s + '\\u2033';  // add º, ', \" symbols\n      break;\n  }\n  \n  return dms;\n}\n\n/**\n * Convert numeric degrees to deg/min/sec latitude (suffixed with N/S)\n *\n * @param   {Number} deg: Degrees\n * @param   {String} [format=dms]: Return value as 'd', 'dm', 'dms'\n * @param   {Number} [dp=0|2|4]: No of decimal places to use - default 0 for dms, 2 for dm, 4 for d\n * @returns {String} Deg/min/seconds\n */\nGeo.toLat = function(deg, format, dp) {\n  var lat = Geo.toDMS(deg, format, dp);\n  return lat=='' ? '' : lat.slice(1) + (deg<0 ? 'S' : 'N');  // knock off initial '0' for lat!\n}\n\n/**\n * Convert numeric degrees to deg/min/sec longitude (suffixed with E/W)\n *\n * @param   {Number} deg: Degrees\n * @param   {String} [format=dms]: Return value as 'd', 'dm', 'dms'\n * @param   {Number} [dp=0|2|4]: No of decimal places to use - default 0 for dms, 2 for dm, 4 for d\n * @returns {String} Deg/min/seconds\n */\nGeo.toLon = function(deg, format, dp) {\n  var lon = Geo.toDMS(deg, format, dp);\n  return lon=='' ? '' : lon + (deg<0 ? 'W' : 'E');\n}\n\n/**\n * Convert numeric degrees to deg/min/sec as a bearing (0º..360º)\n *\n * @param   {Number} deg: Degrees\n * @param   {String} [format=dms]: Return value as 'd', 'dm', 'dms'\n * @param   {Number} [dp=0|2|4]: No of decimal places to use - default 0 for dms, 2 for dm, 4 for d\n * @returns {String} Deg/min/seconds\n */\nGeo.toBrng = function(deg, format, dp) {\n  deg = (Number(deg)+360) % 360;  // normalise -ve values to 180º..360º\n  var brng =  Geo.toDMS(deg, format, dp);\n  return brng.replace('360', '0');  // just in case rounding took us up to 360º!\n};\n\nmodule.exports = {\n    Geo : Geo,\n    LatLon: LatLon\n}\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/latLongUtil-1.0.js?");

/***/ }),

/***/ "./src/main/webapp/js/maps/tdar.leaflet.js":
/*!*************************************************!*\
  !*** ./src/main/webapp/js/maps/tdar.leaflet.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {\nconst core = __webpack_require__(/*! ./../tdar.core */ \"./src/main/webapp/js/tdar.core.js\");\n\nconst L = __webpack_require__(/*! leaflet */ \"./node_modules/leaflet/dist/leaflet-src.js\");\n//const L = window.L;\n\n__webpack_require__(/*! leaflet-choropleth */ \"./node_modules/leaflet-choropleth/src/choropleth.js\");\n__webpack_require__(/*! leaflet-draw */ \"./node_modules/leaflet-draw/dist/leaflet.draw.js\");\n__webpack_require__(/*! leaflet-draw/dist/leaflet.draw.css */ \"./node_modules/leaflet-draw/dist/leaflet.draw.css\");\n__webpack_require__(/*! leaflet.markercluster */ \"./node_modules/leaflet.markercluster/dist/leaflet.markercluster.js\");\n__webpack_require__(/*! leaflet/dist/leaflet.css */ \"./node_modules/leaflet/dist/leaflet.css\");\n__webpack_require__(/*! leaflet.markercluster/dist/MarkerCluster.css */ \"./node_modules/leaflet.markercluster/dist/MarkerCluster.css\");\n__webpack_require__(/*! leaflet.markercluster/dist/MarkerCluster.Default.css */ \"./node_modules/leaflet.markercluster/dist/MarkerCluster.Default.css\");\n__webpack_require__(/*! leaflet-sleep */ \"./node_modules/leaflet-sleep/Leaflet.Sleep.js\");\n__webpack_require__(/*! leaflet-control-geocoder */ \"./node_modules/leaflet-control-geocoder/dist/Control.Geocoder.js\");\n__webpack_require__(/*! leaflet-control-geocoder/dist/Control.Geocoder.css */ \"./node_modules/leaflet-control-geocoder/dist/Control.Geocoder.css\");\nconst LatLon = __webpack_require__(/*! JS/latLongUtil-1.0 */ \"./src/main/webapp/js/latLongUtil-1.0.js\").LatLon;\nconst Geo = __webpack_require__(/*! JS/latLongUtil-1.0 */ \"./src/main/webapp/js/latLongUtil-1.0.js\").Geo;\n\n    L.drawLocal.draw.toolbar.buttons.rectangle = 'Create bounding box';\n    L.drawLocal.edit.toolbar.buttons.edit = 'Edit';\n    L.drawLocal.edit.toolbar.buttons.editDisabled = 'No box to edit';\n    L.drawLocal.edit.toolbar.buttons.remove = 'Delete';\n    L.drawLocal.edit.toolbar.buttons.removeDisabled = 'No boxes to delete';\n    L.Icon.Default.imagePath = core.assetsUri('/components/dist/images/');\n\n    var $body = $('body');\n\n    var _tileProviders = {\n        osm: {\n            url: \"http://{s}.tile.osm.org/{z}/{x}/{y}.png\",\n            attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        },\n\n        mapbox: {\n            url: \"https://{s}.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={apiKey}\",\n            attribution: 'Map data &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors, '\n            + '<a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, '\n            + 'Imagery © <a href=\"http://mapbox.com\">Mapbox</a>'\n        }\n\n    };\n\n    var _defaults = {\n        isGeoLocationToBeUsed: false,\n        center: {\n            lat: 0,\n            lng: 0\n        },\n        zoomLevel: 4,\n        leafletTileProvider: 'mapbox',\n        minZoom: 2,\n        maxZoom: 17,\n        id: 'abrin.n9j4f56m',\n        // config for leaflet.sleep\n        sleep: true,\n        sleepOpacity: 1,\n        // time(ms) for the map to fall asleep upon mouseout\n        sleepTime: 750,\n        // time(ms) until map wakes on mouseover\n        wakeTime: 750,\n        // defines whether or not the user is prompted oh how to wake map\n        sleepNote: false,\n        // should hovering wake the map? (clicking always will)\n        hoverToWake: true\n\n    };\n\n    var _rectangleDefaults = {\n        fitToBounds: true\n    };\n\n\n    /**\n     * Wire up an Evented object to every freaking event we can think of.  Log the name of the event when it fires.\n     * @param object eventedd object\n     * @param object tag  tag to help  differentiate event messages\n     */\n    function _logEventedClass(object, tag) {\n        var eventNames = [\n           'baselayerchange','overlayadd','overlayremove','layeradd','layerremove','zoomlevelschange','resize','unload','viewreset','load','zoomstart',\n            'movestart','zoom','move','zoomend','moveend','popupopen','popupclose','autopanstart','locationerror'\n        ];\n\n        if(!!object['on']) {\n            eventNames.forEach(function(s) {\n                object.on(s, function(evt) {\n                    console.log(\"event: %s\\t tag:\", evt.type, tag);\n                });\n            });\n        } else {\n            console.warn(\"logEventedClass: can't add events because object has no 'on' method\", tag)\n            return;\n\n        }\n\n\n    }\n\n\n    // -1 -- not initialized ; -2 -- bad rectangle ; 1 -- initialized ; 2 -- rectangle setup\n    //fixme: global _inialized unreliable if more than one map on page\n    //fixme: seems like you really want to track two things: 1) initialize status and 2) rectangle validity.\n    var _initialized = -1;\n\n    /**\n     * Initialize a map,  bind it to the specified element,  and return a promise of the map object.\n     * @param elem the init function binds the map to the specified element via  data-attribute named 'map'\n     * @returns {*} promise of the initialized, loaded map object.\n     * @private\n     */\n    function _initMap(elem) {\n        // create effective settings from defaults, then body data-attrs, then elem data-attrs.\n        var $elem = $(elem);\n        var _elemData = $elem.data();\n        // bootstrap stores a lot of data in BODY. We only want a subset\n        var _bdata = $('body').data();\n        var _bodyData = {leafletApiKey: _bdata.leafletApiKey, leafletTileProvider: _bdata.leafletTileProvider};\n        if (_bdata.centerlat && _bdata.centerlong) {\n            _bodyData.center =  {lat: _bdata.centerlat, lng: _bdata.centerlong}\n        };\n        var settings = $.extend({}, _defaults, _bodyData, _elemData);\n        var deferred = $.Deferred();\n\n\n        var map = new L.map(elem, settings);\n        // setView implicitly triggers 'load' event, so register the listener beforehand\n\n        //console.log('setting map obj on', $elem)\n\t\t$elem.data(\"map\",map);\n\n        var tp = _tileProviders[settings.leafletTileProvider];\n        var tile = L.tileLayer(tp.url, {\n            maxZoom: settings.maxZoom,\n            minZoom: settings.minZoom,\n            attribution: tp.attribution,\n            id: settings.id,\n            apiKey:settings.leafletApiKey\n        });\n\n\n        // _logEventedClass(map, 'map');\n        // _logEventedClass(tile, 'tile')\n        tile.once('load', function _mapLoaded(){\n            console.log(\"map loaded\");\n            deferred.resolve(map);\n        });\n        tile.addTo(map);\n        map.setView([settings.center.lat, settings.center.lng], settings.zoomLevel);\n        map.setMaxBounds(settings.maxBounds);\n        //console.log('adding tile to map');\n\n\n        //FIXME: WARN if DIV DOM HEIGHT IS EMPTY\n        _initialized = 0;\n\n        if (settings.geojson != undefined) {\n            var geoJson = $(settings.geojson);\n//            console.log(settings.geojson);\n            if (geoJson.length > 0) {\n                var gj = JSON.parse(geoJson.html());\n                console.log(\"parsed\");\n                var glayer = L.geoJson(gj);\n                console.log(\"loaded\");\n                glayer.addTo(map);\n                console.log(\"added\");\n\n                _fitTo(map, glayer);\n            }\n        }\n        if (settings.search) {\n            L.Control.geocoder({}).addTo(map);\n        }\n\n        return deferred.promise();\n    }\n\n    /**\n     * Initialize any 'results style' maps and return a list of promises equal in size to the number of maps.  Each promise resolves when leaflet\n     * completes loading.\n     *\n     * @returns {Array|*}\n     * @private\n     */\n    function _initResultsMaps() {\n        return $(\".leaflet-map-results\").map(function() {\n            var $el = $(this);\n            return _initMap(this).done(function(map){\n                console.log('_initResultsMaps');\n                var markers = new L.MarkerClusterGroup({maxClusterRadius:150, removeOutsideVisibleBounds:true, chunkedLoading: true});\n                $el.data(\"markers\", markers);\n                map.markers = markers;\n\n                var recDefaults = $.extend(_rectangleDefaults, {\n                    fillOpacity: 0.08,\n                    fitToBounds: true\n                });\n                _initFromDataAttr($el, map, recDefaults);\n                var hasBounds = false;\n                var allPoints = new Array();\n                var infiniteUrl = $el.data(\"infinite-url\");\n                if (infiniteUrl) {\n                    _dynamicUpdateMap($el, infiniteUrl,0);\n                    var zoom = L.control({\n                        position : 'topright'\n                    });\n\n                    zoom.onAdd = function(map) {\n                        var topRight = L.DomUtil.create('div', 'topright');\n                        var loading = L.DomUtil.create('div', 'mapLoading');\n                        loading.id=\"mapLoading\";\n                        var $loading = $(loading);\n                        $loading.append(\"<i class='icon-refresh'></i> Loading\");\n//                    $loading.hide();\n                        var resetBounds = L.DomUtil.create('div', 'mapResetBounds');\n                        resetBounds.id=\"mapResetBounds\";\n                        var $resetBounds = $(resetBounds);\n                        $resetBounds.append(\"<i class='icon-map-marker'></i> Fit map to all results\");\n                        $resetBounds.hide();\n\n                        $resetBounds.click(function() {\n                            map.fitBounds(map.markers.getBounds());\n                            $resetBounds.hide();\n                        });\n                        topRight.appendChild(resetBounds);\n                        topRight.appendChild(loading);\n                        return topRight;\n                    };\n                    zoom.addTo(map);\n\n                } else {\n                    $(\".resource-list.MAP .listItem\").each(function() {\n                        var $t = $(this);\n                        var title = $(\".resourceLink\", $t);\n                        var lat = $t.data(\"lat\");\n                        var lng = $t.data(\"long\");\n                        if (!isNaN(lat) && !isNaN(lng)) {\n                            hasBounds = true;\n                            var marker = L.marker(new L.LatLng(lat, lng), {title: title.text().trim()});\n                            marker.bindPopup(title.html() + \"<br><a href='\" + title.attr('href') + \"'>view</a>\");\n                            allPoints.push(marker);\n\n                        }\n                    });\n                    markers.clearLayers();\n                    markers.addLayers(allPoints);\n                    if (hasBounds) {\n                        _fitTo(map, markers);\n                    }\n                }\n                map.addLayer(markers);\n            });\n           // return deferred.promise();\n        });\n    }\n\n    function _dynamicUpdateMap($el, baseUrl, startRecord_) {\n        var startRecord = startRecord_;\n        if (!startRecord) {\n            startRecord = 0;\n        }\n        console.log(baseUrl + \" --> \" + startRecord);\n        $.ajax({\n        dataType: \"json\",\n        url: baseUrl + \"&startRecord=\"+startRecord,\n        success: function(data) {\n            console.log(data);\n            _update($el.data(\"map\"), $el.data(\"markers\"), data,startRecord, $el.is('[data-fit-bounds]', startRecord === 0));\n            var nextPage = data.properties.startRecord + data.properties.recordsPerPage;\n            var $loading = $(\"#mapLoading\");\n            if (data.properties && (nextPage) < data.properties.totalRecords) {\n                _dynamicUpdateMap($el, baseUrl, nextPage);\n                $loading.show();\n                $(\"#mapResetBounds\").show();\n            } else {\n                $loading.hide();\n            }\n        }\n        }).error(function(e) {\n            console.log(\"error loading json: \", e);\n        });\n\n    }\n\n\n    /**\n     * Update the map control associated w/ a specified dom element by appending markers contained in a specified data object\n     * @param map the leaflet map\n     * @param markers clustergroup (jtd: I think) of existing map markers\n     * @param data object containing list of leaflet feature objects (in data.features).  These features represent one \"page\" of data\n     * @param startRecord record number of the first record in the current page\n     * @param bFitBounds if true, this method tells the map to pan/zoom to fit updated set of markers\n     * @private\n     */\n    function _update(map, markers, data,startRecord, bFitBounds, animate) {\n        //translate datapoints to list of markers\n        var layers = data.features\n            .filter(function(feature){return feature.geometry.hasOwnProperty(\"type\");})\n            .map(function(feature){\n                var title = feature.properties.title;\n                var c = feature.geometry.coordinates;\n                var marker = L.marker(new L.LatLng(c[1], c[0]), {title: $.trim(title)});\n                marker.bindPopup(title + \"<br><a href='\" + feature.properties.detailUrl + \"'>view</a>\");\n                return marker;\n            });\n\n        // clear any existing layers if starting w/ first page of data\n        if (startRecord === 0) {\n            console.log(\"clear layers\");\n            markers.clearLayers();\n        }\n\n        // append the markers to the existing leaflet.cluster layer\n        markers.addLayers(layers);\n\n        // if we fit to bounds...\n        // fixme: if user-interaction happens we probably shouldn't call fit-bounds\n        if(bFitBounds && layers.length) {\n            var param = {};\n            if (animate) {\n                param = {animate:false};\n            }\n            map.fitBounds(markers.getBounds(),param);\n        }\n    }\n\n    function _fitTo(map, layer) {\n        map.fitBounds(layer.getBounds());\n        map.zoomOut(1);\n    }\n\n    /**\n     * init a \"view\" only map, binds to data-attribute minx, miny, maxx, maxy\n     *\n     * Return list of promises (one for each map on page).  Promise resolves when leaflet finishes loading the map.\n     */\n    function _initLeafletMaps() {\n        return $(\".leaflet-map\").map(\n            function() {\n                var $el = $(this);\n                return _initMap(this).done(function(map){\n                    console.log('_initLeafletMaps')\n                    _initFromDataAttr($el, map, _rectangleDefaults);\n                });\n            });\n    }\n\n\n    function _initFromDataAttr($el, map, rectangleSettings) {\n        var $minx = parseFloat($el.data(\"minx\"));\n        var $miny = parseFloat($el.data(\"miny\"));\n        var $maxx = parseFloat($el.data(\"maxx\"));\n        var $maxy = parseFloat($el.data(\"maxy\"));\n        _initRectangle(map, $minx, $miny, $maxx, $maxy, rectangleSettings);\n\n    }\n\n    /**\n     * create the rectangle based on the bounds\n     */\n    function _initRectangle(map, minx, miny, maxx, maxy, rectangleSettings) {\n\n        if (minx != undefined && miny != undefined && maxx != undefined && maxy != undefined && !isNaN(minx) && !isNaN(miny) && !isNaN(maxy) && !isNaN(maxx)) {\n            // LEAFLET HANDLES WRAPPING AROUND THE DATELINE SPECIALLY, , SO WE NEED TO TRANSLATE FOR IT\n            // http://www.macwright.org/2015/03/23/geojson-second-bite.html IS A GOOD EXPLANATION, BUT BASICALLY ADD 360\n            if (parseFloat(maxx) < parseFloat(minx)) {\n                maxx = parseFloat(maxx) +  360.0;\n            }\n            var poly = [[maxy, minx], [miny, maxx]];\n            console.log(poly);\n            var rectangle = L.rectangle(poly, rectangleSettings).addTo(map);\n            console.log(\"fitToBounds:\", rectangleSettings.fitToBounds);\n            console.log(\"fitToBounds (rec):\", rectangle.getBounds());\n            console.log(\"fitToBounds (map):\", map.getBounds());\n\n            if (rectangleSettings.fitToBounds) {\n                // Really frustrating race condition whereby map sometimes zoom's wrong, so we need to add a timeout to make this work\n                map.fitBounds(rectangle.getBounds());\n            }\n            _initialized = 2;\n            return rectangle;\n        } else if (minx == undefined && miny == undefined && maxx == undefined && maxy == undefined) {\n            // skipping, we're just not configured at all;\n            return;\n        }\n        _initialized = -2;\n        //console.log(\"check map init bounds [\" + minx + \",\" + miny + \"] [\" + maxx + \",\" + maxy + \"]\");\n    }\n\n    /**\n     * Updates a leaflet layer (removes/adds) based on the .minx, .miny, .maxx, .maxy vals\n     */\n    function _updateLayerFromFields($el, map, drawnItems, $mapDiv) {\n        var $minx = parseFloat($(\".minx\", $el).val());\n        var $miny = parseFloat($(\".miny\", $el).val());\n        var $maxx = parseFloat($(\".maxx\", $el).val());\n        var $maxy = parseFloat($(\".maxy\", $el).val());\n        // Initialise the FeatureGroup to store editable layers\n        var layers = drawnItems.getLayers();\n        // remove the old layer\n        if (layers.length > 0) {\n            drawnItems.removeLayer(layers[0]);\n        }\n\n        var rectangle = _initRectangle(map, $minx, $miny, $maxx, $maxy, _rectangleDefaults);\n\n        //if rectangle is invalid, remove all rectangles and re-enable rectangle create\n        if (typeof rectangle === \"undefined\") {\n            _enableRectangleCreate();\n            for (var i = 0; i > drawnItems.getLayers().length; i++) {\n                drawnItems.removeLayer(drawnItems.getLayer(i));\n            }\n        } else {\n            _disableRectangleCreate($mapDiv);\n            drawnItems.addLayer(rectangle);\n        }\n        return rectangle;\n    }\n\n    /**\n     * Init an editable map, it uses a set of classes to determine values .minx, .maxx, .miny, .maxy for actual values; .d_* for display values, and\n     * .locateCoordsButton for the locate button\n     *\n     * this will create the map just before the element specified\n     *\n     * Returns list of promises with size equal to number of maps on page.  Each promise resolves after leaflet loads and initializes the map.\n     */\n    function _initEditableMaps() {\n        return $(\".leaflet-map-editable\").map(function() {\n            var $el = $(this);\n            // we create a div just before the div and copy the styles from the container. This is so that we can bind to class seletion for the fields.\n            // Currently, this is a bit of overkill but it would enable multiple forms on the same page\n\n            // An 'editable' map container needs two child nodes.\n            // - The first child node is a container for the latlong box form fields. Designate this node with\n            //   the .latlong-fields css class\n            //\n            // - The second child node contains the actual leaflet map (e.g. the mapdiv). Designate this node with\n            //   the .mapdiv css class.\n            var div = $el.find('div.mapdiv')[0];\n            //var div = document.createElement(\"div\");\n            //$el.append(div);\n\n            // copy styles\n            div.setAttribute(\"style\", $el.attr(\"style\"));\n            $el.attr(\"style\", \"\");\n            var $mapDiv = $(div);\n\n            //merge  data attributes from parent container to the actual map container\n            $.extend($mapDiv.data(), $el.data());\n\n            if ($mapDiv.height() == 0) {\n                $mapDiv.height(400);\n            }\n            return _initMap(div).done(function(map){\n                console.log('_initEditableMaps');\n                var drawnItems = new L.FeatureGroup();\n\n                // bind ids\n                var $dmx = $(\".d_maxx\", $el);\n                var $dix = $(\".d_minx\", $el);\n                var $dmy = $(\".d_maxy\", $el);\n                var $diy = $(\".d_miny\", $el);\n\n                // handling text based formats too    Geo.parseDMS(\"51°33′39″N\" ); ...\n                $dmx.change(function() {\n                    $(\".maxx\", $el).val(Geo.parseDMS($dmx.val()));\n                });\n                $dmy.change(function() {\n                    $(\".maxy\", $el).val(Geo.parseDMS($dmy.val()));\n                });\n                $dix.change(function() {\n                    $(\".minx\", $el).val(Geo.parseDMS($dix.val()));\n                });\n                $diy.change(function() {\n                    $(\".miny\", $el).val(Geo.parseDMS($diy.val()));\n                });\n\n                // create a toolbar with just the rectangle and edit tool\n                var options = {\n                    position: 'topleft',\n                    draw: {\n                        polyline: false,\n                        polygon: false,\n                        circle: false, // Turns off this drawing tool\n                        rectangle: {\n                            shapeOptions: {\n                                clickable: true\n                            },\n                            repeatMode: false\n                        },\n                        marker: false\n                    },\n                    edit: {\n                        featureGroup: drawnItems,\n                        remove: true\n                    }\n                };\n\n                // Initialise the draw control and pass it the FeatureGroup of editable layers\n                var drawControl = new L.Control.Draw(options);\n                map.addControl(drawControl);\n                $(div).data('drawControl', drawControl);\n                _updateLayerFromFields($el, map, drawnItems, $mapDiv);\n                map.addLayer(drawnItems);\n\n                /**\n                 * Assumption of only one bounding box\n                 */\n                map.on('draw:created', function(e) {\n                    var type = e.layerType,\n                        layer = e.layer;\n                    drawnItems.addLayer(layer);\n                    var b = layer.getBounds();\n                    var bnds = _setValuesFromBounds($el, b);\n                    layer.setBounds(bnds);\n                    map.addLayer(layer);\n                    _disableRectangleCreate($mapDiv);\n                });\n\n                /**\n                 * Assumption of only one bounding box\n                 */\n                map.on('draw:edited', function(e) {\n                    var layers = e.layers;\n                    layers.eachLayer(function(layer) {\n                        var b = layer.getBounds();\n                        var bnds = _setValuesFromBounds($el, b);\n                        layer.setBounds(bnds);\n                    });\n                });\n\n                /**\n                 * Assumption of only one bounding box\n                 */\n                map.on('draw:deleted', function(e) {\n                    console.log(\"deleted fired\");\n                    var layers = e.layers;\n                    var size = 1;\n                    layers.eachLayer(function(layer) {\n                        drawnItems.removeLayer(layer);\n                        size--;\n                        // the change() watch deosn't always pay attention to these explicit calls\n                        $(\".minx\", $el).val('');\n                        $(\".miny\", $el).val('');\n                        $(\".maxx\", $el).val('');\n                        $(\".maxy\", $el).val('');\n                        $(\".d_minx\", $el).val('');\n                        $(\".d_miny\", $el).val('');\n                        $(\".d_maxx\", $el).val('');\n                        $(\".d_maxy\", $el).val('');\n                    });\n\n                    if (size == 0 ) {\n                        _enableRectangleCreate($mapDiv);\n                    }\n                });\n\n                //dirty the form if rectangle created, edited, or deleted\n                map.on('draw:created draw:edited draw:deleted', function(e){\n                    $mapDiv.closest('form').FormNavigate('dirty');\n                });\n\n\n                $(\".locateCoordsButton\", $el).click(function() {\n                    var rec = _updateLayerFromFields($el, map, drawnItems, $mapDiv);\n                });\n            });\n\n\n        });\n    }\n\n    function _enableRectangleCreate($el) {\n        var $drawRec = $(\".leaflet-draw-draw-rectangle\", $el);\n        $drawRec.fadeTo(1, 1);\n        $(\".disable-draw-rect\", $el).remove();\n    }\n\n\n    function _disableRectangleCreate($el) {\n        var $drawRec = $(\".leaflet-draw-draw-rectangle\", $el);\n        $drawRec.fadeTo(1, .5);\n        var disableCreateDiv = document.createElement(\"div\");\n        disableCreateDiv.setAttribute(\"style\", \"z-index:1000000\");\n        disableCreateDiv.setAttribute(\"class\", \"disable-draw-rect\");\n        var $dcd = $(disableCreateDiv);\n        var $dr = $(\".leaflet-draw-draw-rectangle\", $el);\n\n        $dcd.width($dr.width());\n        $dcd.height($dr.height());\n        $el.append($dcd);\n        $dcd.offset($dr.offset());\n    }\n\n    /**\n     * set the input values based on the bounding box\n     */\n    function _setValuesFromBounds($el, b) {\n        var bnds = b;\n        // correct for bounding box being greater than 1 full world rotation\n        if (Math.abs(b.getWest() - b.getEast()) > 360) {\n            bnds = L.latLngBounds(L.latLng(b.getSouth(), -179.999999), L.latLng(b.getNorth(), 180.0000));\n            //console.log(\"> 360:\" + b.toBBoxString() + \"  -->> \", bnds.toBBoxString());\n        }\n\n        // the change() watch deosn't always pay attention to these explicit calls\n        $(\".miny\", $el).val(bnds.getSouth());\n        $(\".maxy\", $el).val(bnds.getNorth());\n        $(\".d_miny\", $el).val(bnds.getSouth());\n\n        console.log(\"west: \" + bnds.getWest() + \" east:\" + bnds.getEast());\n        var x = bnds.getWest();\n        x = _correctForWorldWrap(x);\n        $(\".minx\", $el).val(x);\n        $(\".d_minx\", $el).val(x);\n        if (x < -180) {\n            x = parseFloat(x) + 360.0;\n\n            $(\".d_minx\", $el).val(x );\n            $(\".minx\", $el).val(x );\n        }\n\n        x = bnds.getEast();\n        x = _correctForWorldWrap(x);\n        $(\".maxx\", $el).val(x);\n        $(\".d_maxx\", $el).val(x);\n        if (x > 180) {\n            // LEAFLET HANDLES WRAPPING AROUND THE DATELINE SPECIALLY, , SO WE NEED TO TRANSLATE FOR IT\n            // http://www.macwright.org/2015/03/23/geojson-second-bite.html IS A GOOD EXPLANATION, BUT BASICALLY HERE, THE REVERSE AS ABOVE\n            //\n            x = parseFloat(x) - 360.0;\n            $(\".d_maxx\", $el).val(x);\n            $(\".maxx\", $el).val(x);\n        }\n        console.log(\"west(set): \" + $(\".d_minx\").val() + \" east(set):\" + $(\".d_maxx\").val());\n        $(\".d_maxy\", $el).val(bnds.getNorth());\n        return bnds;\n    }\n\n    /**\n     * Leaflet corrects for world wrapping by adding or subtracting 360... to get the valid Lat/Long we need to correct for this\n     */\n    function _correctForWorldWrap(x_) {\n        var x = x_;\n        while (x > 180) {\n            x -= 360;\n        }\n        while (x < -180) {\n            x += 360;\n        }\n        if (x != x_) {\n            console.log(\"   \" + x_ + \" --> \" + x);\n        }\n        return x;\n    }\n\n\n    function _isIntialized() {\n        return _initialized;\n    }\n\n\tfunction _getMaps() {\n        //note:  The author apologizes for the alternating meaning of the word \"map\" that follows.\n        return $('.leaflet-container').map(function(i, elem){return $(elem).data().map;});\n\t}\n\n    module.exports = {\n        initLeafletMaps: _initLeafletMaps,\n        initEditableLeafletMaps: _initEditableMaps,\n        initResultsMaps: _initResultsMaps,\n        initialized: _isIntialized,\n        defaults: _defaults,\n        dynamicUpdateMap: _dynamicUpdateMap,\n        getMaps : _getMaps,\n        update: _update,\n        main : function() {\n            _initLeafletMaps();\n            _initEditableMaps();\n            _initResultsMaps();\n        }\n    }\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/maps/tdar.leaflet.js?");

/***/ }),

/***/ "./src/main/webapp/js/maps/tdar.worldmap.js":
/*!**************************************************!*\
  !*** ./src/main/webapp/js/maps/tdar.worldmap.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($, c3) {const core = __webpack_require__(/*! ./../tdar.core */ \"./src/main/webapp/js/tdar.core.js\");\n//This will transitively include leaflet as defined in the Webpack configuration.\n//The current version of Leaflet that is in use will be registered as a global variable as `window.L`\n//Leaflet-cloropleth will append that namespace and add additional functions, but it won't return `L`, so \n//it needs to be defined as a separate variable. \n\nconst L = window.L;\n\n__webpack_require__(/*! leaflet-choropleth */ \"./node_modules/leaflet-choropleth/src/choropleth.js\"); \nconst c3graphsupport = __webpack_require__(/*! ./../tdar.c3graphsupport */ \"./src/main/webapp/js/tdar.c3graphsupport.js\");\n\n\n\n    var _PLURAL = \"_PLURAL\";    \n    var hlayer;\n    var geodata = {};\n    var map;\n    var _mode = \"normal\";\n    var $mapDiv;\n    var OUTLINE = \"#777777\";\n    var _DEFAULT_ZOOM_LEVEL = .8;\n    var _DEFAULT_CENTER = [ 44.505, -0.03 ];\n    var stateLayer = undefined;\n    var overlay = false;\n    var allData = new Array();\n    var clickId;\n    var locales;\n    var interactive = true;\n    // note no # (leaflet doesn't use jquery selectors)\n    var mapId = \"worldmap\";\n    var searchUri = \"\";\n    var myStyle = {\n        \"color\" : OUTLINE,\n        \"weight\" : 1,\n        \"fillOpacity\" : 1\n    }\n\n    var c3colors = [];\n    var max = 0;\n\n    // Intialize the Geodata based on the JSON\n    function _initializeGeoData(mapdata) {\n        console.log(mapdata);\n        var data = mapdata[\"geographic.ISO,resourceType\"];\n        if (data && data.length > 0) {\n            for (var i = 0; i < data.length; i++) {\n                geodata[data[i].value] = data[i].count;\n                if (data[i].value.length < 4) {\n                    var cnt = parseInt(data[i].count);\n                    if (cnt > max) {\n                        max = cnt;\n                    }\n                }\n            }\n        }\n    }\n\n    /**\n     * Look for embedded json in the specified container and return the parsed result. Embedded json should be tagged with a boolean attribute named\n     * 'data-mapdata'. If no embedded json found, method returns null.\n     * \n     * @param containerElem\n     * @private\n     */\n    function _getMapdata(containerElem) {\n        var json = $(containerElem).find('script[data-mapdata]').text() || 'null';\n        if (json == 'null') {\n            return undefined;\n        }\n        return JSON.parse(json);\n    }\n\n    function _getLocaleData(containerElem) {\n        var json = $(containerElem).find('script[data-locales]').text() || 'null';\n        if (json == 'null') {\n            return undefined;\n        }\n        return JSON.parse(json);\n    }\n\n    /**\n     * Default color range for the world map based on custom weighting function\n     */\n    var _worldRangeColor = {\n        scale : ['#FFF', '#FED976','#FEB24C','#FD8D3C', '#FC4E2A','#E31A1C','#BD0026']\n    };\n\n    /**\n     * defaults for choropleth plugin\n     */\n    var _defaultChoropleth = {\n        valueProperty : function(feature) {\n            \n            if (feature) {\n                if (geodata[feature.id]) {\n                    return geodata[feature.id];\n                }\n            }\n            return 0;\n        },\n        scale : [ \"#fff\", \"#4B514D\"],\n        mode : 'q',\n        style : {\n            color : '#ccc',\n            weight : 1,\n            fillOpacity : 0.8\n        },\n        onEachFeature : function(feature, layer) {\n            if (!interactive) {\n                return;\n            }\n            layer.title = \"test\";\n            layer.alt = \"test\";\n            layer.on({\n                click : _clickWorldMapLayer,\n                mouseover : _highlightFeature,\n                mouseout : _resetHighlight\n            });\n            if (layer.feature.id == 'USA') {\n                layer.setStyle({\n                    fillColor: '#800026'\n                });\n            }\n            \n        }\n    }\n\n    /**\n     * Init the world map passing in the DIV id\n     */\n    function _initWorldMap(mapId_, mode, extraGeoJson) {\n        if (mapId_ != undefined) {\n            mapId = mapId_;\n        }\n        if (document.getElementById(mapId) == undefined) {\n            return;\n        }\n        console.log(\"init:\" + mapId_);\n        $mapDiv = $(\"#\" + mapId);\n        var $parent = $mapDiv.parent();\n        var mapdata = _getMapdata($parent);\n        var c3_ = $(\"#c3colors\");\n        if (c3_.length > 0) {\n            c3colors = JSON.parse(c3_.html());\n        }\n        \n        _mode = mode;\n        if ($mapDiv.data(\"mode\") != undefined) {\n            _mode = $mapDiv.data(\"mode\");\n        }\n        var showZoom = true;\n        var canPan = true;\n        if (_mode == 'mini') {\n            showZoom = false;\n            _DEFAULT_ZOOM_LEVEL = -.4;\n            interactive = false;\n            canPan = false;\n            _DEFAULT_CENTER = [ 44.505, 40 ];\n        }\n\n        map = L.map(mapId, {\n            // config for leaflet.sleep\n            sleep : true,\n            // time(ms) for the map to fall asleep upon mouseout\n            sleepTime : 750,\n            // time(ms) until map wakes on mouseover\n            wakeTime : 750,\n            // defines whether or not the user is prompted oh how to wake map\n            sleepNote : false,\n            // should hovering wake the map? (clicking always will)\n            hoverToWake : true,\n            sleepOpacity : 1,\n            zoomControl: showZoom,\n            minZoom : -1,\n            dragging:canPan,\n            scrollWheelZoom:canPan,\n            touchZoom: canPan,\n            doubleClickZoom: canPan\n        });\n        var grades = [ 0, 1, 2, 5, 10, 20, 100, 1000 ];\n\n        _initializeGeoData(mapdata);\n        locales = _getLocaleData($parent);\n\n        if (_mode != 'mini') {\n            _setupLegend(map, grades, _getColor, max);\n        }\n        \n\n        _resetView();\n\n        // load map data\n        // FIXME: consider embedding data for faster rendering\n        var jqxhr = $.getJSON(core.uri(\"/js/maps/world.json\"));\n        jqxhr.done(function(data) {\n            _setupMapLayer(data, map);\n        });\n        jqxhr.fail(function(xhr) {\n            console.error(\"Failed to load world.json file. XHR result follows this line.\", xhr);\n        });\n        map.on('click', _resetView);\n        if (extraGeoJson != undefined && extraGeoJson.length > 0) {\n            var gj = JSON.parse($(\"\" + extraGeoJson).html());\n            var glayer = L.geoJson(gj, {\n                style: {\"className\": \"keywordHighlight\"}\n            });\n            if ($(\"#worldmap\").data('code') == 'USA') {\n                map.setZoom(1);\n                map.panTo([39.50,-98.35]);\n            } else {\n                map.fitBounds(glayer.getBounds());\n                map.zoomOut(1);\n            }\n            glayer.addTo(map);\n            glayer.bringToFront();\n            glayer.setZIndex(1000);\n        }\n        return map;\n    }\n\n    /**\n     * build out the legend based on the color function, grades, and the max size\n     */\n    function _setupLegend(map, grades, colorFunction, _max) {\n        var legend = L.control({\n            position : 'bottomright'\n        });\n\n        var zoom = L.control({\n            position : 'topright'\n        });\n        zoom.onAdd = function(map) {\n            var topRight = L.DomUtil.create('div', 'topright');\n            var zoomout = L.DomUtil.create('div', 'mapGraphZoomOut');\n            zoomout.id=\"mapGraphZoomOut\";\n            var $zoomout = $(zoomout).append(\"<i class='icon-zoom-out'></i> Zoom Out\");\n            var search = L.DomUtil.create('div', 'mapGraphSearch');\n            search.id=\"mapGraphSearch\";\n            var $search = $(search);\n            $search.append(\"<i class='icon-search'></i> Search\");\n            $search.click(function() {\n                window.location.href = c3graphsupport.getClickPath(searchUri);\n            });\n            $zoomout.click(function() {_resetView();});\n            topRight.appendChild(zoomout);\n            topRight.appendChild(search);\n            return topRight;\n        };\n        zoom.addTo(map);\n    \n        legend.onAdd = function(map) {\n\n            var div = L.DomUtil.create('div', 'info');\n            $(div).append(\"<div id='data'></div>\");\n            var legnd = L.DomUtil.create(\"div\", \" legend\");\n\n            // loop through our density intervals and generate a label with a colored square for each interval\n            legnd.innerHTML += \" <span>0</span> \";\n            for (var i = 0; i < grades.length; i++) {\n                legnd.innerHTML += '<i style=\"width:10px;height:10px;display:inline-block;background:' + colorFunction(grades[i] + 1) + '\">&nbsp;</i> ';\n            }\n            legnd.innerHTML += \" <span>\" + _formatNumber(_max) + \"</span> \";\n            $(div).append(legnd);\n            return div;\n        };\n\n        legend.addTo(map);\n    }\n\n    /**\n     * setup Leaflet.Choropleth\n     */\n    function _setupMapLayer(data, map, isStateLayer) {\n        var props = {};\n        if (!isStateLayer) {\n            $.extend(props, _defaultChoropleth, _worldRangeColor);\n        } else {\n            props = _defaultChoropleth;\n        }\n\n        var layer = L.choropleth(data, props);\n        L.DomEvent.on(layer, 'click', L.DomEvent.stopPropagation);\n        layer.addTo(map);\n        return layer;\n    }\n\n    /**\n     * Load the state JSON file and choropleth\n     */\n    function _loadStateData() {\n        var usStyle = {\n            strokeColor : \"#ff7800\",\n            weight : .5,\n            fillColor : \"#FEEFE\",\n            fillOpacity : 1\n        };\n        var jqxhr = $.getJSON(core.uri(\"/js/maps/USA.json\"));\n        jqxhr.done(function(data) {\n            stateLayer = _setupMapLayer(data, map, true);\n        });\n        \n    }\n\n    /**\n     * handle the Click event and load the local map if needed, alternately, and load the graph data\n     */\n    function _clickWorldMapLayer(event) {\n        if (!interactive) {\n            return;\n        }\n        var ly = event.target.feature.geometry.coordinates[0];\n        \n        var id = event.target.feature.id;\n        console.log(event.target.feature);\n        var $zoomout = $(\"#mapGraphZoomOut\");\n        var $search = $(\"#mapGraphSearch\");\n        var name = event.target.feature.properties.name;\n        if (id != undefined) {\n            if (id != 'RUS') {\n                $zoomout.show();\n            }\n            $search.show();\n            searchUri = _constructUri(undefined, id, name);\n        } else {\n            $zoomout.hide();\n            $search.hide();\n        }\n        \n        \n        \n        clickId = id;\n        if (id && id.indexOf('US') != 0) {\n            if (stateLayer != undefined) {\n                map.removeLayer(stateLayer);\n                stateLayer = undefined;\n            }\n        }\n\n        if (id == 'USA' && stateLayer == undefined) {\n            _loadStateData();\n        }\n\n        _drawDataGraph(name, id);\n\n        if (id != 'RUS') {\n            map.fitBounds(event.target.getBounds());\n            overlay = true;\n        }\n        if (event) {\n            L.DomEvent.preventDefault(event);\n        }\n\n        return false;\n    }\n\n    /**\n     * Draw the pie chart for the state or country\n     */\n    function _drawDataGraph(name, id) {\n//        console.log(\"draw data graph: \" + name + \" (\"+ id+ \")\");\n        var $div = $(\"#mapgraphdata\");\n        var $header = $(\"#mapGraphHeader\");\n        // style='height:\"+($mapDiv.height() - 50)+\"px'\n        if (name == undefined) {\n            $header.html(\"Worldwide\");\n        } else {\n            $header.html(name);\n        }\n\n        var mapdata = _getMapdata($mapDiv.parent());\n        var filter = [];\n        var data = [];\n//        var typeLabelMap = {};\n        var data = mapdata[\"geographic.ISO,resourceType\"];\n        // ID == Country/state id (USA / USAAZ)\n        if (id != undefined) {\n            // find the set of data associated with this id\n            filter = data.filter(function(d) {\n                return d.value == id\n            });\n\n            // go through the results and get the pivot values from the SOLR json\n            filter.forEach(function(row) {\n                row.pivot.forEach(function(pvalue) {\n                    if (parseInt(pvalue.count) && pvalue.count > 0 && pvalue.field == \"resourceType\") {\n                        var label = locales[pvalue.value + _PLURAL];\n                        if (parseInt(pvalue.count) == 1) {\n                            label = locales[pvalue.value];\n                        }\n                        data.push([label, pvalue.count ]);\n                    }\n                });\n            });\n        } else {\n            // initialization for \"worldwide\"\n            if (allData.length == 0) {\n                var tmp = {};\n                if (data && data.length > 0) {\n                    data.forEach(function(row) {\n                        // for every state\n                        if (row.value.length == 3) {\n                            row.pivot.forEach(function(pvalue) {\n                                // for every pivot value\n                                if (parseInt(pvalue.count) && pvalue.count > 0 && pvalue.field == \"resourceType\") {\n                                    var t = 0;\n                                    if (parseInt(tmp[pvalue.value])) {\n                                        t = parseInt(tmp[pvalue.value]);\n                                    }\n                                    tmp[pvalue.value] = t + parseInt(pvalue.count);\n                                }\n                            });\n                        }\n                    });\n    \n                    for ( var type in tmp) {\n                        if (tmp.hasOwnProperty(type)) {\n                            var val = tmp[type];\n                            var label = locales[type + _PLURAL];\n                            if (val == 1) {\n                                label = locales[type];\n                            }\n                            allData.push([ label, val ]);\n                        }\n                    }\n                }\n            }\n            data = allData;\n        }\n\n        var obj = {\n            bindto : '#mapgraphpie',\n            data : {\n                columns : data,\n                type : 'pie',\n                onclick : function(d, element) {\n                    var key = \"\";\n                    for (var i in locales) {\n                        if (d.id === locales[i]) {\n                            key = i;\n                        }\n                    }\n                    if (key.indexOf(_PLURAL) > 0) {\n                        key = key.substring(0,key.length - _PLURAL.length);\n                    }\n                    var uri = _constructUri(key, clickId, name);\n                    window.location.href = c3graphsupport.getClickPath(uri);\n                }\n            },\n            pie : {\n                label : {\n                    show : false\n                }\n            },\n            donut : {\n                label : {\n                    show : false\n                }\n            },\n            tooltip : {\n                format : {\n                    value : function(value, ratio, id, index) {\n                        return _formatNumber(value) + \" (\" + (ratio * 100.00).toFixed(2) + \"%)\";\n                    }\n                }\n            },\n            size : {\n                height : ($div.height() * 3 / 5)\n            }\n        };\n\n        // setup positioning based on mode\n        if ($div.data(\"mode\") == 'vertical') {\n            obj.legend = {\n                position : 'bottom',\n                inset : {\n                    anchor : 'top-left',\n                    x : 20,\n                    y : 0,\n                    step : 4\n                }\n            };\n            obj.size.height = '300px';\n        } else {\n            obj.legend = {\n                position : 'right',\n                inset : {\n                    anchor : 'top-left',\n                    x : 20,\n                    y : 0,\n                    step : 4\n                }\n            };\n        }\n\n        if (c3colors.length > 0) {\n            obj.color = {};\n            obj.color.pattern = c3colors;\n        }\n        setTimeout(100, c3.generate(obj));\n\n    }\n\n    function _constructUri(resourceType, id, name) {\n        \n        var uri = \"/geographic/\" + id +\"?\";\n        \n        if (id == undefined) {\n            uri = \"/search/results?\";\n        }\n        \n        if (resourceType) {\n            uri += \"resourceTypes=\" + resourceType;\n        }\n        return uri;\n    }\n    /**\n     * Zoom out\n     */\n    function _resetView() {\n//        console.log(\"reset called\");\n        map.setView( _DEFAULT_CENTER, _DEFAULT_ZOOM_LEVEL);\n        overlay = false;\n        var $zoomout = $(\"#mapGraphZoomOut\");\n        var $search = $(\"#mapGraphSearch\");\n        $zoomout.hide();\n        $search.hide();\n        clickId = undefined;\n        if (hlayer != undefined) {\n            hlayer.setStyle({\n                \"fillOpacity\" : 1\n            });\n        }\n        map.eachLayer(function(l) {\n            if (typeof l.redraw === \"function\") {\n                l.redraw();\n            }\n        });\n        if (stateLayer != undefined) {\n            map.removeLayer(stateLayer);\n            stateLayer = undefined;\n        }\n        _drawDataGraph();\n    }\n\n    \n    function _getDataValue(id) {\n        if (geodata[id] != undefined) {\n            return geodata[id];\n        }\n        \n        return 0;\n    }\n    /**\n     * handle mouse-over\n     */\n    function _highlightFeature(e) {\n        var layer = e.target;\n\n        var cnt = 0;\n        if (layer.feature.id != undefined) {\n            cnt =  _getDataValue(layer.feature.id);\n        }\n\n        $(\"#data\").html(layer.feature.properties.name + \": \" + _formatNumber(cnt));\n        if (overlay === true) {\n            return false;\n        }\n        layer.setStyle({\n            fillOpacity : 0.7\n        });\n    }\n\n    function _resetHighlight(e) {\n        if (overlay === true) {\n            return false;\n        }\n\n        var layer = e.target;\n        layer.setStyle({\n            fillOpacity : 1\n        });\n        // hlayer.resetStyle(layer);\n        $(\"#data\").html(\"\");\n    }\n\n    /**\n     * Custom color assignent;\n     */\n    function _getColor(d) {\n        d = parseInt(d);\n        if (d > 1000) {\n            return '#800026';\n        }\n        if (d > 100) {\n            return '#BD0026';\n        }\n        if (d > 20) {\n            return '#E31A1C';\n        }\n        if (d > 10) {\n            return '#FC4E2A';\n        }\n        if (d > 5) {\n            return '#FD8D3C';\n        }\n        if (d > 2) {\n            return '#FEB24C';\n        }\n        if (d > 1) {\n            return '#FED976';\n        }\n        return '#FFF';\n    }\n\n    /**\n     * Format number w/ comma grouping. If num is fractional, display fractional to two places.\n     * @param num\n     * @returns {string}\n     */\n    function _formatNumber(num) {\n        var numparts = Math.floor(num).toString().split('.');\n        var r = num % 1;\n        var str = numparts[0].split('').reverse().join('').replace(/(\\d{3})\\B/g, '$1,').split('').reverse().join('');\n        str += numparts[1] ? '.'  + numparts[1] : '';\n\n        if(r > 0) {\n            str += '.' + r.toFixed(2).replace('0.', '');\n        }\n\n\n        return str;\n    }\n\n    module.exports =  {\n        initWorldMap : _initWorldMap,\n        resetView : _resetView,\n        main: function() {\n            console.log(\"running main...\");\n            // if ($(\"#worldmap\").length > 0) {\n            \t_initWorldMap(\"worldmap\",\"horizontal\", \"\");\n            // }\n        }\n    }\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\"), __webpack_require__(/*! c3 */ \"./node_modules/c3/c3.js\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/maps/tdar.worldmap.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.advanced-search.js":
/*!****************************************************!*\
  !*** ./src/main/webapp/js/tdar.advanced-search.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(__webpack_provided_window_dot_jQuery, __webpack_provided_window_dot_$, $) {const common = __webpack_require__(/*! ./tdar.common */ \"./src/main/webapp/js/tdar.common.js\");\nconst repeatrow = __webpack_require__(/*! ./tdar.repeatrow */ \"./src/main/webapp/js/tdar.repeatrow.js\");\nconst autocomplete = __webpack_require__(/*! ./tdar.autocomplete */ \"./src/main/webapp/js/tdar.autocomplete.js\");\nconst core = __webpack_require__(/*! ./tdar.core */ \"./src/main/webapp/js/tdar.core.js\");\nconst datepicker = __webpack_require__(/*! ./tdar.datepicker */ \"./src/main/webapp/js/tdar.datepicker.js\");\n\n__webpack_provided_window_dot_$ = __webpack_provided_window_dot_jQuery = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\"); // was import $ from 'jquery';\n__webpack_require__(/*! ./../includes/jquery-ui-1.11.4.custom/jquery-ui */ \"./src/main/webapp/includes/jquery-ui-1.11.4.custom/jquery-ui.js\");\n\nfunction _disableCheckbox($box) {\n        $box.attr('disabled', true);\n        $box.parent().addClass(\"disabled\");\n    }\n\nfunction _enableCheckbox($box) {\n    $box.removeAttr('disabled');\n    $box.parent().removeClass(\"disabled\");\n}\n\n/**\n * Initialize the \"advanced search\" page (including form validation,  autocompletes, term UI, backbutton safety)\n */\nfunction _initAdvancedSearch() {\n    repeatrow.registerRepeatable(\".repeatLastRow\");\n    $(\"#sortField .resource\").removeAttr('disabled');\n    var $groups = $(\"#searchGroups\");\n\n    $groups.on(\"searchchange\", function(e){\n        var $int = $(\"#includedResourceTypesINTEGRATION\");\n        var $col = $(\"#includedResourceTypesSHARED_COLLECTION\"); \n        if ($(\"#searchGroups .term\").not(\".multiIndex\").length > 0) {\n            _disableCheckbox($int);\n            _disableCheckbox($col);\n            $(\"#sortField .resource\").removeAttr('disabled');\n        } else { \n            _enableCheckbox($int);\n            _enableCheckbox($col);\n            $(\"#sortField .resource\").attr('disabled', 'disabled');\n        } \n        });\n\n    $(\".searchType\",$groups).trigger(\"searchchange\");\n    // when user changes searchType: swap out the term ui snippet\n    $groups.on('change', '.searchType', function (evt) {\n        \"use strict\";\n\n        //console.log(\"change event on %s\", this.id);\n        var $select = $(this);\n        var searchType = $select.val();\n        var $controlGroup = $select.parent();\n\n        // get a copy of the template term controls\n        var row = $('div.' + searchType, '#template').clone();\n        // figure out which group, rownum we are in, and then update attribute\n        // values of the cloned row\n        var groupnum = $(this).closest(\".grouptable\").data(\"groupnum\");\n\n        var $searchType = $(\".searchType\",$controlGroup);\n        var name = $searchType.attr(\"name\");\n        name = name.replace(/groups\\[(\\d+)\\](.+)/,\"groups[\"+groupnum+\"]$2\");\n//            console.log($(\".searchType\",$controlGroup).attr(\"name\"),name);\n        $searchType.attr(\"name\",name);\n        var rownum = $(this).closest(\".grouptable\").children(\".termrow:visible\").index($(this).closest(\".termrow\"));\n        _updateAttributesForRow($(row), groupnum, rownum);\n\n        // remove whatever is currently inside of the term-container and replace with the new term\n        var $termContainer = $controlGroup.find('div.term-container');\n\n        var $term = $('.term', $termContainer);\n        var oldval = \"\";\n\n        // for changing between two term types that are simple text fields, we\n        // attempt to 'retain' the value by copying it from field we are about\n        // to destroy to the new field that will take it's place. both the old\n        // term div and the incoming term div need to have to the 'retain'\n        // class.\n        if ($term.hasClass('retain')) {\n            oldval = $(':text:first', $term).val();\n        }\n        $term.remove();\n\n        $termContainer.empty().append(row);\n\n        if ($(row).hasClass('retain')) {\n            $(':text:first', row).val(oldval);\n        }\n\n        _initializeSection(row);\n        $(this).trigger(\"searchchange\");\n    });\n\n    // after rows added, replace attribute values\n    $('.grouptable').on('repeatrowadded', function (evt, parentElement, row, idx) {\n        var $row = $(row);\n        // console.log('added row:' + $row + ' p2:' + idx);\n        var $repeatable = $(this);\n        var $select = $row.find('.searchType');\n        $select.val($select.find(\"option:first\").val()).trigger(\"change\");\n        $select.removeAttr(\"readonly\");\n        _updateAttributesForRow($row, $repeatable.data('groupnum'), idx);\n    });\n\n    // more handling of added/removed rows\n    // TODO: this needs to be refactored if we implement multiple groups (i\n    // think)\n    $('#searchGroups').on('repeatrowadded', '.grouptable', function (evt) {\n        var $groupDiv = $(this).closest('.searchgroup');\n        _showGroupingSelectorIfNecessary($groupDiv);\n    });\n    $('#searchGroups').on('repeatrowdeleted', '.grouptable', function (evt) {\n        var $groupDiv = $(this).closest('.searchgroup');\n        _showGroupingSelectorIfNecessary($groupDiv);\n        $(this).trigger(\"searchchange\");\n    });\n\n    // mimic combobox - show complete list when user clicks down-arrow\n    $('#searchGroups').on(\"click\", \".down-arrow\", function () {\n        $(this).siblings('.projectcombo, .collectioncombo').focus().autocomplete(\"search\", \"\");\n    });\n\n    // if coming here via the backbutton the submit button may be disabled, so\n    // we force it to be enabled\n    $('#searchButton').prop('disabled', false);\n\n    // perform load handlers on anything currently in the dom (e.g. stuff added\n    // by our backbutton hack, or from the server via 'refine your search' or\n    // INPUT action)\n    _initializeSection($('#searchGroups')[0]);\n}\n\n/**\n * Initialize advanced-search-specific  UI controls, and register event handlers within a container element.\n *\n * Useful for wiring up an entire form (e.g. after we reconstruct completed form DOM after back-button navigation),\n * or a single div (e.g. when user adds a new search term).\n *\n * @param containerElem\n * @private\n */\nfunction _initializeSection(containerElem) {\n    common.applyWatermarks(containerElem);\n\n    // HACK: registering datetype fields if any were created. We should just\n//        // make a smarter validator rule\n//        if ($('.coverageDateType', containerElem).length) {\n//            TDAR.common.prepareDateFields($('.coverageDateType', containerElem));\n//        }\n\n    // register any treeviews\n    $('.tdar-treeview', containerElem).treeview({\n        collapsed: true\n    });\n\n    // register any person autocomplete fields (don't cull nonusers, don't show\n    // the 'create person' option)\n    var $personAutoFields = $('.nameAutoComplete', containerElem);\n    if ($personAutoFields.length) {\n        autocomplete.applyPersonAutoComplete($personAutoFields, false, false);\n    }\n\n    // similar setup for institution autocompletes\n    var $institutionAutoFields = $('.institutionAutoComplete', containerElem);\n    if ($institutionAutoFields.length) {\n        autocomplete.applyInstitutionAutocomplete($institutionAutoFields, false);\n    }\n\n    var picker = $('.datepicker', containerElem).datepicker();\n    picker.on('changeDate', function(ev){\n        $(ev.target).datepicker('hide');\n    });\n\n    // collection, project combo boxes\n    autocomplete.applyResourceAutocomplete($('.projectcombo', containerElem), \"PROJECT\");\n    autocomplete.applyCollectionAutocomplete($('.collectioncombo', containerElem), {\n        minLength: 0\n    }, {});\n\n    $('#searchGroups').find('.searchgroup').each(function () {\n        _showGroupingSelectorIfNecessary($(this));\n    });\n}\n\n/**\n * Perform a stringformat on the specified element attribute value,  using a map to serve as\n * the search/replace values.\n * @param $elem  element\n * @param attr name of attribute value to format\n * @param map  jsobject with replacement mappings.\n * @private\n */\nfunction _replaceAttributeValues($elem, attr, map) {\n    if (typeof $elem.attr(attr) === 'undefined') {\n        return;\n    }\n    var newstr = $elem.attr(attr);\n    for (var key in map) {\n        newstr = newstr.split(key).join(map[key]);\n    }\n    $elem.attr(attr, newstr);\n}\n\n/**\n * Modify certain attributes within container element so to indicate they belong to the specified group, row number\n * (according to the attribute naming conventions that we use for elements in a 'repeatrow' section, e.g\n * \"<input type=hidden id=\"personRow_1_5\"> would be the id value for an element in group#2, row 6).\n *\n * @param $root container element\n * @param groupnum group number (at time of writing, only one search 'group' is supported, so this is always '0'\n * @param rownum  row number\n * @private\n */\nfunction _updateAttributesForRow($root, groupnum, rownum) {\n    // todo: *[id], *[name] instead\n    var map = {\n        \"{groupid}\": groupnum,\n        \"{termid}\": rownum};\n    $.each($root.find('*'), function (ignored, elem) {\n        // don't update all attributes, just id, name, for, etc.\n        $.each([ \"id\", \"name\", \"for\", \"autocompleteIdElement\", \"autocompleteParentElement\" ], function (ignored, attrName) {\n            _replaceAttributeValues($(elem), attrName, map);\n        });\n    });\n}\n\n/**\n * Show the \"match all / match any\" form field  if the form contains multiple search terms.  Otherwise hide it\n *\n * @param $groupDiv\n * @private\n */\nfunction _showGroupingSelectorIfNecessary($groupDiv) {\n    // if more than one term, show the grouping selector\n    var $visibleRows = $('.grouptable .repeat-row:visible', $groupDiv);\n    var $groupingControl = $groupDiv.find(\".groupingSelectDiv\");\n    if ($visibleRows.length > 1) {\n        $groupingControl.find('select').show();\n        $groupingControl.addClass(\"in\");\n    } else {\n        $groupingControl.removeClass(\"in\");\n        $groupingControl.find('select').hide();\n\n    }\n}\n\n/**\n * Serialize the current state of the search form DOM and write it to a hidden TEXTAREA in a different form.\n *\n * Useful when rendering the page when user navigates to the search form via a back-button navigation. We rely on\n * ubiquitous (but non-standard) browser behavior to recover this state and rebuild the DOM as it existed at\n * the moment the user submitted the search form.\n *\n * @private\n */\nfunction _serializeFormState() {\n    $(\"#searchGroups\").submit(function () {\n        var frm = this;\n        var $frm = $(this);\n\n        // modify attribute to reflect *current* value of property\n        _setAttributesToPropValue($('option', frm), \"selected\");\n        _setAttributesToPropValue($('input[type=checkbox]', frm), \"checked\");\n        // Note: in theory radio buttons and disabled items need similar\n        // treatment, but they aren't used in this form\n\n        $(\"input[type=text],input[type=hidden]\", frm).each(function (idx, inputElem) {\n            $(inputElem).attr(\"value\", inputElem.value);\n        });\n\n        //don't persist dom elements created by google map api\n        //console.log(\"clearing map information\")\n        $('#large-google-map').removeData();\n        $('#large-google-map').empty(\"div\");\n\n        $(\"#autosave\").val($frm.html());\n\n        //if doing resource search, clear collection search field so we aren't confused about which tab to display\n        $(\"#queryField\").val(\"\");\n    });\n}\n\n/**\n * Back-button hackery: set the attribute values of a form input element to match the current value of the same-named element property.\n *\n * This is done during serialization so that the 'select, checkbox, and radio inputs will render with the last\n * -selected value prior to when the user submitted the form.\n *\n * @param $formElements\n * @param booleanPropertyName\n * @private\n */\nfunction _setAttributesToPropValue($formElements, booleanPropertyName) {\n\n    // assumption: the property named ${booleanPropertyName} is a boolean\n    // assumption: the attribute named ${booleanPropertyName} is a string, and\n    // the only acceptable value (if exists) is\n    // ${booleanPropertyName}=\"${booleanPropertyName}\"\n    $formElements.each(function (idx, elem) {\n        var $elem = $(elem);\n        if ($elem.prop(booleanPropertyName)) {\n            $elem.attr(booleanPropertyName, booleanPropertyName);\n            //console.log(\"setting %s attribute for elem:%s\", booleanPropertyName, elem);\n        } else {\n            $elem.removeAttr(booleanPropertyName);\n            //console.log(\"removing %s attribute for elem:%s\", booleanPropertyName, elem);\n        }\n    });\n}\n\nfunction _initializeResultsPage() {\n    $(\"#recordsPerPage\").change(function () {\n        var url = window.location.search.replace(/([?&]+)recordsPerPage=([^&]+)/g, \"\");\n        //are we adding a querystring or merely appending a name/value pair, i.e. do we need a '?' or '&'?\n        var prefix = \"\";\n        if (url.indexOf(\"?\") != 0) {\n            prefix = \"?\";\n        }\n        \n        url = prefix + url + \"&recordsPerPage=\" + $('#recordsPerPage').val();\n        core.windowLocation(url);\n        \n    });\n\n    if ($(\".objectTypes li\").size() > 0) {\n        var count = 0;\n        if ($(\"#objectTypesSHARED_COLLECTION\").size() > 0 ) {\n            count++;\n        }\n        if ($(\"#objectTypesINTEGRATION\").size() > 0 ) {\n            count++;\n        }\n        \n        var remain = $(\".objectTypes li\").size() - count ;\n        //console.log(\"remain:\" + remain + \" count:\" + count);\n        if (remain > 0 && count > 0 || remain == 0 && count > 0) {\n            $(\"#sortField .resource\").attr('disabled','disabled');\n        }\n    }\n    \n    $(\"#sortField\").change(function () {\n        var url = window.location.search.replace(/([?&]+)sortField=([^&]+)/g, \"\");\n        //are we adding a querystring or merely appending a name/value pair, i.e. do we need a '?' or '&'?\n        var prefix = \"\";\n        if (url.indexOf(\"?\") != 0) {\n            prefix = \"?\";\n        }\n        url = prefix + url + \"&sortField=\" + $('#sortField').val();\n        core.windowLocation(url);\n    });\n\n}\n    \n\nmodule.exports = {\n        serializeFormState: _serializeFormState,\n        initAdvancedSearch: _initAdvancedSearch,\n        \"initializeResultsPage\" : _initializeResultsPage\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\"), __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\"), __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.advanced-search.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.auth.js":
/*!*****************************************!*\
  !*** ./src/main/webapp/js/tdar.auth.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {\n\n    var _initLogin = function () {\n        $('#loginForm').validate({\n            messages: {\n                loginUsername: {\n                    required: \"Please enter your username.\"\n                },\n                loginPassword: {\n                    required: \"Please enter your password.\"\n                }\n            },\n            errorClass: 'help-inline',\n            highlight: function (label) {\n                $(label).closest('.control-group').addClass('error');\n            },\n            success: function ($label) {\n                $label.closest('.control-group').removeClass('error').addClass('success');\n            }\n\n        });\n        $('#loginUsername').focus();\n    };\n\n    var _initRegister = function (timeout) {\n        setTimeout(function () {\n            alert(\"Your session has timed out, please reload the page.\");\n//            location.reload(true);\n        }, timeout);\n        $('#contributor-id').click(function () {\n            _switchContributorReasonDisplay($(this).is(':checked'));\n        });\n        var contributor = $(\"#contributor-id\").is(':checked');\n        _switchContributorReasonDisplay(contributor);\n\n        $('#firstName').focus();\n\n    };\n\n    var _switchContributorReasonDisplay = function (shouldDisplay) {\n        var opt = shouldDisplay ? 'show' : 'hide';\n        $('#contributorReasonTextArea').collapse(opt);\n        $('#contributorReasonId').attr(\"disabled\", !shouldDisplay);\n    };\n\n    \n    module.exports = {\n        \"initLogin\": _initLogin,\n        \"initRegister\": _initRegister\n    };\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.auth.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.authority-management.js":
/*!*********************************************************!*\
  !*** ./src/main/webapp/js/tdar.authority-management.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {/**\n * TDAR  authority-management library.  Used by the Authority-management (aka record-deduper) pages.\n * @type {{}}\n */\n\nconst core = __webpack_require__(/*! ./tdar.core */ \"./src/main/webapp/js/tdar.core.js\");\nconst datatable = __webpack_require__(/*! ./tdar.datatable */ \"./src/main/webapp/js/tdar.datatable.js\");\nconst common = __webpack_require__(/*! ./tdar.common */ \"./src/main/webapp/js/tdar.common.js\");\n\n    var searchControls;\n    var selEntityType;\n    var dataTable = null;\n\n    //map of datatable init options for each search type\n    var g_settingsMap = {\n        person: {\n            tableSelector: '#dupe_datatable',\n            sAjaxSource: core.uri() + 'api/lookup/person',\n            \"bLengthChange\": true,\n            \"bFilter\": true,\n            aoColumns: [\n                {sTitle: \"person id\", bUseRendered: false, mDataProp: \"id\", tdarSortOption: 'ID'},\n                {sTitle: \"registered\", mDataProp: \"registered\", tdarSortOption: 'ID', bSortable: false},\n                {sTitle: \"First\", mDataProp: \"firstName\", tdarSortOption: 'FIRST_NAME'},\n                {sTitle: \"Last\", mDataProp: \"lastName\", tdarSortOption: 'LAST_NAME'},\n                {sTitle: \"Email\", mDataProp: \"email\", tdarSortOption: 'CREATOR_EMAIL', bSortable: false}\n            ], //FIXME: make sortable\n            sPaginationType: \"bootstrap\",\n            sAjaxDataProp: 'people',\n            selectableRows: true,\n            requestCallback: _getPersonSearchData,\n            \"sDom\": \"<'row'<'span6'l><'pull-right span3'r>>t<'row'<'span4'i><'span5'p>>\"\n        },\n        institution: {\n            tableSelector: '#dupe_datatable',\n            sAjaxSource: core.uri() + 'api/lookup/institution',\n            \"bLengthChange\": true,\n            \"bFilter\": true,\n            aoColumns: [\n                {sTitle: \"id\", bUseRendered: false, mDataProp: \"id\", tdarSortOption: 'ID'},\n                {sTitle: \"Name\", mDataProp: \"name\", tdarSortOption: 'CREATOR_NAME'}\n            ],\n            \"sDom\": \"<'row'<'span6'l><'pull-right span3'r>>t<'row'<'span4'i><'span5'p>>\",  //no text filter!\n            sPaginationType: \"bootstrap\",\n            sAjaxDataProp: 'institutions',\n            selectableRows: true,\n            requestCallback: function (searchBoxContents) {\n                return {\n                    minLookupLength: 0,\n                    institution: $('#txtInstitution').val()\n                };\n            }\n//            sDom:'<\"datatabletop\"ilrp>t<>' //omit the search box\n        },\n        keyword: {\n            tableSelector: '#dupe_datatable',\n            sAjaxSource: core.uri() + 'api/lookup/keyword',\n            \"bLengthChange\": true,\n            \"bFilter\": true,\n            aoColumns: [\n                {sTitle: \"id\", bUseRendered: false, mDataProp: \"id\", tdarSortOption: 'ID'},\n                {sTitle: \"Label\", mDataProp: \"label\", tdarSortOption: 'LABEL'}\n            ],\n            sPaginationType: \"bootstrap\",\n            sAjaxDataProp: 'items',\n            selectableRows: true,\n            requestCallback: function (searchBoxContents) {\n                return {keywordType: _getKeywordType(selEntityType.val()),\n                    term: $('#txtKeyword').val()\n                };\n            },\n            \"sDom\": \"<'row'<'span6'l><'pull-right span3'r>>t<'row'<'span4'i><'span5'p>>\"\n        }\n    };\n\n    /**\n     * initialize a datatable that will display search results for the currently selected search type\n     * @private\n     */\n    var _registerDataTable = function() {\n        if (dataTable) {\n            dataTable.fnDestroy();\n            dataTable.empty();\n        }\n        var lookupType = selEntityType.data('lookupType');\n        var settings = g_settingsMap[lookupType];\n        settings.rowSelectionCallback = _renderSelectedDupes;\n        dataTable = datatable.registerLookupDataTable(settings);\n    }\n\n    /**\n     * show the correct search control based on the value of the 'entity type' dropdown\n     */\n    var _updateSearchControl = function() {\n        searchControls.hide();\n        selEntityType = $('#selEntityType');\n        var entityTypeVal = selEntityType.val();\n        if (entityTypeVal) {\n            if (entityTypeVal == 'PERSON') {\n                $(\"#divPersonSearchControl\").show();\n                selEntityType.data('lookupType', 'person');\n            } else if (entityTypeVal == 'INSTITUTION') {\n                $(\"#divInstitutionSearchControl\").show();\n                selEntityType.data('lookupType', 'institution');\n            } else {\n                $(\"#divKeywordSearchControl\").show();\n                selEntityType.data('lookupType', 'keyword');\n            }\n        }\n        $('#hdnEntityType').val(entityTypeVal);\n\n        if (entityTypeVal) {\n            _registerDataTable();\n            _clearDupeList();\n        }\n    }\n\n    //FIXME: this is a dumb, hackey way to get the keywordType to send the lookup controller.\n    /**\n     * return the keyword class name for the specified enumVal (used for \"lookupType\" when performing keyword lookup\n     * search.\n     *\n     * @param enumVal value of the \"search type\" select input\n     * @returns {string} lookupType value to include in keyword lookup request\n     * @private\n     */\n    var _getKeywordType = function(enumVal) {\n        return {\n            KEYWORD_CULTURE_KEYWORD: 'CultureKeyword',\n            KEYWORD_GEOGRAPHIC_KEYWORD: 'GeographicKeyword',\n            KEYWORD_INVESTIGATION_TYPE: 'InvestigationType',\n            KEYWORD_MATERIAL_KEYWORD: 'MaterialKeyword',\n            KEYWORD_OTHER_KEYWORD: 'OtherKeyword',\n            KEYWORD_SITE_NAME_KEYWORD: 'SiteNameKeyword',\n            KEYWORD_SITE_TYPE_KEYWORD: 'SiteTypeKeyword'\n        }[enumVal];\n    }\n\n    /**\n     * Convert name, value attributes in person search fields into a jsobject  (for use as \"data\" argument in $.ajax request)\n     * @returns {{minLookupLength: number}}\n     * @private\n     */\n    var _getPersonSearchData = function() {\n        var data = {minLookupLength: 0};\n        $.each($(':text', '#divPersonSearchControl'), function (ignored, txtElem) {\n            data[txtElem.name] = $(txtElem).val();\n        });\n        return data;\n    }\n\n    /**\n     * This is a row-selection callback for the datatable widget.  It displays a running list of selected rows\n     * in a separate UL under the table.  The callback parameters are unused - they exist merely to satisfy the\n     * datatable callback spec\n     * @param ignored1\n     * @param ignored2\n     * @param ignored3\n     * @private\n     */\n    var _renderSelectedDupes = function(ignored1, ignored2, ignored3) {\n        $('#frmDupes ul').remove();\n        var $ul = $(document.createElement('ul'));\n        var dupeCount = 0;\n\n        $.each(dataTable.data('selectedRows'), function (idx, data) {\n            dupeCount++;\n            //FIXME: need a better way to display summary label for selected item, or maybe we should just have the same table structure as datatable.\n            var label = data.name;\n            if (!label) {\n                label = data.label;\n            }\n            var $li = $('<li></li>').append('<input type=\"hidden\" name=\"selectedDupeIds\" value=\"' + idx + '\" />').append('<span>' + label + ' (id:' + idx + ')</span>');\n            $ul.append($li);\n            //console.log('renderdupes:item:' + idx + \":\" + data.name);\n        });\n        $('#frmDupes').append($ul);\n        $('#spanDupeCount').text(dupeCount);\n        $('#pDupeInfo').toggle(dupeCount > 0);\n    }\n\n    /**\n     * clear current list of selected dupelicates.\n     * @returns {boolean} false.  because.\n     */\n    var _clearDupeList = function() {\n        dataTable.data('selectedRows', {});\n        $('input[type=checkbox]', dataTable).prop('checked', false);\n        _renderSelectedDupes(null, null, null);\n        return false;\n    }\n\n    /**\n     * Initialize form controls, event listeners.\n     */\n    var _initAuthTable = function() {\n        var selEntityType = $(\"#selEntityType\");\n        if (selEntityType != undefined) {\n            searchControls = $('.searchControl');\n            selEntityType.change(_updateSearchControl).change();\n            common.applyWatermarks(document);\n            $('span.button').button().click(_clearDupeList);\n        }\n    }\n\n    module.exports =  {\n        clearDupeList: _clearDupeList,\n        updateSearchControl: _updateSearchControl,\n        initAuthTable: _initAuthTable\n    };\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.authority-management.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.autocomplete.js":
/*!*************************************************!*\
  !*** ./src/main/webapp/js/tdar.autocomplete.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {/**\n * Autocomplete Support\n */\n\nconst core = __webpack_require__(/*! ./tdar.core */ \"./src/main/webapp/js/tdar.core.js\");\nconst common = __webpack_require__(/*! ./tdar.common */ \"./src/main/webapp/js/tdar.common.js\");\n\n\n    //when a user creates a record manually instead of choosing a menu-item from the autocomplete dropdown, this module\n    //stores the record in the object cache.  If the user later fills out similar autocomplete fields,   we add\n    //these cached records to the autocomplete dropdown.  This allows the user to save some time in situations where\n    //a new value may appear several times on a form (e.g. a new person record  that should be listed as an 'author',\n    // 'editor', and 'contact'.\n    var _caches = {};\n\n    /**\n     * Autocomplete \"object cache\".  Some autocomplete fields allow for the adhoc creation of new values.  When the user\n     * creates new adhoc records they are stored in the object cache.   If the user performs subsequent autocomplete\n     * lookups, the results of the server lookup are combined with a search of the records of the object cache and\n     * any matching records in the cache are included in the autocomplete results list.  This makes data entry\n     * easier for situations where a user intends make repeated references to an adhoc record in a form.\n     *\n     *\n     * @param acOptions\n     *  url: the url used by the ajax lookup - used to filter which adhoc records are returned by a search\n     *  objectMapper:  function used to map an a set of form fields to record object\n     *\n     * @constructor\n     */\n    function ObjectCache(acOptions) {\n        this.acOptions = acOptions;\n        this.namespace = acOptions.url || \"root\";\n        this.parentMap = {};\n        this.objectMapper = acOptions.objectMapper || _objectFromAutocompleteParent;\n\n        //_caches[this.namespace] = this;\n    };\n\n    ObjectCache.prototype = {\n\n        //register the fields inside this parent as an 'extra record'. When caller invokes getValues(), this class\n        //will generate records based for all the registeredRecords\n        register: function (parentElem) {\n            var self = this, parentId = parentElem.id;\n            //prevent dupe registration\n            if ($(parentElem).hasClass(\"autocomplete-new-record\")) {\n                return;\n            }\n\n            $(parentElem).closest(\".repeat-row\").bind(\"repeatrowbeforedelete\", function (e) {\n                self.unregister(parentId);\n                _enable($(parentElem));\n            });\n\n            this.parentMap[parentId] = parentElem;\n\n            $(parentElem).addClass(\"autocomplete-new-record\");\n\n            //if user removes the row then unregister the associated record\n            $(parentElem).bind(\"remove\", function () {\n                self.unregister(parentId);\n            });\n        },\n\n        unregister: function (parentId) {\n            delete this.parentMap[parentId];\n        },\n\n        getValues: function () {\n            //var keys = Object.keys(this.parentMap).sort();\n            var values = [];\n            for (var parentId in this.parentMap) {\n                var elem = this.parentMap[parentId];\n                values.push(this.objectMapper(elem));\n            }\n            return values;\n        },\n\n        //by default search does nothing\n        search: function _noop(){return []}\n    };\n\n    /**\n     * return subset of getValues() for any partial matches of term in object[key].  If key not supplied,  search all fields in each object for a partial match\n     * @param term search term\n     * @param key name of the property to compare to the search term. if no key supplied, this function\n     *      evaluates all fields properties\n     * @returns {*} array of objects that have partial matches to the specified term and key\n     */\n    ObjectCache.basicSearch = function (term, key) {\n        var values = this.getValues();\n        var ret = $.grep(values, function (obj) {\n            var keys = Object.keys(obj);\n            if (key) {\n                keys = [key];\n            }\n            for (var i = 0; i < keys.length; i++) {\n                var val = obj[keys[i]];\n                if (val) {\n                    if (val.toLowerCase().indexOf(term) > -1) {\n                        return true;\n                    }\n                }\n            }\n        });\n        return ret;\n    };\n\n    /**\n     * grab cache for specified url or create one\n     * @param options options object used in objectCache constructor\n     * @returns {ObjectCache}\n     * @private\n     */\n    function _getCache(options) {\n        if (!_caches[options.url]) {\n            _caches[options.url] = new ObjectCache(options);\n        }\n        return _caches[options.url];\n    }\n\n    /**\n     * construct a jsobject to be used as the 'data' parameter used for the autocomplete ajax request\n     * @param element  any element contained by an \"autocomplete parent\"\n     * @returns {{}} jsobject\n     * @private\n     */\n    function _buildRequestData(element) {\n        var data = {};\n\n        //    console.log(\"autocompleteParentElement: \" + element.attr(\"autocompleteParentElement\"));\n        if (element.attr(\"autocompleteParentElement\")) {\n            $(\"[autocompleteName]\", element.attr(\"autocompleteParentElement\")).each(function (index, elem) {\n                var $elem = $(elem);\n                data[$elem.attr(\"autocompleteName\")] = $.trim($(elem).val());\n                //                            console.log(\"autocompleteName: \" + $val.attr(\"autocompleteName\") + \"==\" + $val.val());\n            });\n        }\n        return data;\n    }\n\n    /**\n     * translate item property values to form fiends contained in a autocompleteParentElement\n     * @param element any .ui-autocomplete-input field contained by the autocompleteParent element\n     * @param item the source object. the function copies the item property values to the input fields under the parent\n     * @private\n     */\n    function _applyDataElements(element, item) {\n        var $element = $(element);\n        if ($element.attr(\"autocompleteParentElement\") != undefined) {\n            $(\"[autocompleteName]\", $element.attr(\"autocompleteParentElement\")).each(function (index, val) {\n                var $val = $(val);\n                var newvalue = item[$val.attr(\"autocompleteName\")];\n                if (newvalue != undefined) {\n                    var valueToSet = newvalue;\n                    if (newvalue.constructor === String) {\n\n                    } else {\n                        if (newvalue['name'] != undefined) {\n                            valueToSet = newvalue['name'];\n                        }\n                        if (newvalue['label'] != undefined) {\n                            valueToSet = newvalue['label'];\n                        }\n                    }\n\n                    $val.val(valueToSet);\n                    //                         console.log(\"setting: \" + val.name +  \"[\"+$val.attr(\"autocompleteName\")+\"]\" + \":\" + valueToSet);\n                    $val.attr(\"autoVal\", valueToSet);\n                }\n            });\n            if ($element.attr(\"autocompleteName\") != undefined) {\n                item.value = $element.attr(\"autoVal\");\n            }\n        }\n\n        //if id element defined,  set it's value\n        if ($element.attr(\"autocompleteIdElement\")) {\n            var $idElement = $($element.attr(\"autocompleteIdElement\"));\n\n            if (item[\"id\"] != undefined) {\n                $idElement.val(item[\"id\"]);\n            }\n        } else {\n            //TODO:  confirm  $element.closest('.autocomplete-id-element') will work for all use cases.\n        }\n\n    }\n\n    /**\n     * Determines if the fields representing an autocomplete control should be interpreted as \"empty\". For example,\n     * if all of the fields in a person autocomplete fieldset have empty value attributes, this function would return true.\n     *\n     * @param element any child element contained by an autocomplete parent\n     * @param ignoredFields property names to exclude when evaluating which properties are non-blank\n     * @returns {boolean} true if the function determines the autcomplete control to be \"empty\"\n     */\n    function _evaluateAutocompleteRowAsEmpty(element, ignoredFields) {\n        var req = _buildRequestData($(element));\n        var total = 0;\n        var _ignoredFields = [];\n        if (ignoredFields != undefined) {\n            _ignoredFields = ignoredFields;\n        }\n\n        var $idElement = $($(element).attr(\"autocompleteIdElement\"));\n        var allowNew = $idElement.attr(\"allowNew\");\n\n        var nonempty = 0;\n        // for each item in the request\n        for (var p in req) {\n            total++;\n            if ($.inArray(p, _ignoredFields) == -1 && req[p] != undefined && req[p] != '') {\n                nonempty++;\n            }\n            if (p == \"id\") {\n                nonempty++;\n            }\n        }\n        //    console.log(\"req size:\" + total + \" nonEmpty:\" + nonempty + \" ignored:\" + ignored);\n        if (nonempty == 0) {\n            return true;\n        }\n\n        if (allowNew != undefined && allowNew == \"true\" && ($idElement.val() == \"\" || $idElement.val() == -1)) {\n            return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * if user tabs away from autocomplete field instead of selecting valid menu item,  register as new record\n     * @param objectCache objectCache that will hold the new record\n     * @param elem any child element contained by an autocomplete parent element\n     * @private\n     */\n    function _registerOnBlur(objectCache, elem) {\n        var parentid = $(elem).attr(\"autocompleteparentelement\");\n        var $parentElem = $(parentid);\n        var $hidden = $parentElem.find(\"input[type=hidden]\").first();\n\n        $parentElem.find(\".ui-autocomplete-input\").last().one(\"blur\", function () {\n            var hiddenVal = $hidden.val();\n            if ((hiddenVal === \"\" || hiddenVal === \"-1\") && this.value !== \"\") {\n                objectCache.register($parentElem.get());\n            }\n        });\n    }\n\n    /**\n     * disable all the child form elements of the specified element\n     * @param $parent\n     * @private\n     */\n    function _disable($parent) {\n        //fixme: commenting out for now. disable() must be called on actual autocomplete, not merely a parent of one.\n        ////$parent.find(\".ui-autocomplete-input\").autocomplete(\"disable\");\n        //$parent.find(\".ui-autocomplete-input\").each(function () {\n        //    $(this).data(\"autocomplete\").disabled = true;\n        //});\n    }\n\n    /**\n     * enable child elements underneath parent\n     * @param $parent\n     * @private\n     */\n    function _enable($parent) {\n        //$parent.autocomplete(\"enable\");\n    }\n\n    /**\n     * Register a selection of elements as autocomplete fields.\n     *\n     * @param $elements jquery selection of input fields to initialize as autocomplete fields.\n     * @param opts initialization options:\n     *          addCustomValuesToReturn: function(term){}  callback used to add additional items  to the end of the\n     *                                          ajax autocomplete results (default: add objectCach search results),\n     *          requestData: {} additional name/val request data to include in ajax request,\n     *          url:  url for ajax request,\n     *          showCreate: boolean.  if true,  allow user to create a new record by specifying value that cannot be\n     *                              found on the server.\n     *\n     *\n     */\n    function _applyGenericAutocomplete($elements, opts) {\n        var options = $.extend({\n\n            //callback function that returns list of extra items to include in dropdown: function(options, requestData)\n            addCustomValuesToReturn: function (term) {\n                return cache.search(term);\n            }\n        }, opts);\n\n        var cache = _getCache(options);\n\n        //set allowNew attribute for each element's corresponding 'id' element\n        $elements.each(function () {\n            if (options.showCreate) {\n                var $idElement = $($(this).attr(\"autocompleteIdElement\"));\n                $idElement.attr(\"allowNew\", \"true\");\n            }\n        });\n\n        //register the autocomplete for each element\n        var autoResult = $elements.autocomplete({\n            source: function (request, response) {\n                var $elem = $(this.element);\n\n                //is another ajax request in flight?\n                var oldResponseHolder = $elem.data('responseHolder');\n                if (oldResponseHolder) {\n                    //cancel the previous search\n                    //                        console.log(\"cancelling previous search\");\n                    oldResponseHolder.callback({});\n\n                    //swap out the no-op before the xhrhhtp.success callback calls it\n                    oldResponseHolder.callback = function () {\n                        //                            console.log(\"an ajax success callback just called a now-defunct response callback\");\n                    };\n                }\n\n                // add requestData that's passed from the options\n                var requestData = {};\n                // add requestData that's passed from the\n                // options\n                if (options.requestData != undefined) {\n                    $.extend(requestData, options.requestData);\n                }\n\n                // add the sortField\n                if (options.sortField != undefined) {\n                    requestData.sortField = options.sortField;\n                }\n\n                // hard-code map for term\n                if (request.term != undefined) {\n                    requestData.term = request.term;\n                }\n                // more generic map for any form based\n                // autocomplete elements\n                $.extend(requestData, _buildRequestData(this.element));\n\n                // final callback for using custom method\n                if (options.enhanceRequestData != undefined) {\n                    options.enhanceRequestData(requestData, request);\n                }\n\n                //add a closure to ajax request that wraps the response callback. This way we can swap it out for a no-op if a new source() request\n                //happens before the existing is complete.\n                var responseHolder = {};\n                responseHolder.callback = response;\n                $elem.data('responseHolder', responseHolder);\n\n                var ajaxRequest = {\n                    url: core.uri() + options.url,\n                    dataType: \"jsonp\",\n                    data: requestData,\n                    success: function (data) {\n                        if (!$elem.is(':focus')) {\n                            console.debug(\"input blurred before autocomplete results returned. returning no elements\");\n                            responseHolder.callback({});\n                            return;\n                        }\n\n                        // if there's a custom dataMap function, use that, otherwise not\n                        if (options.customDisplayMap == undefined) {\n                            options.customDisplayMap = function (item) {\n                                if (item.name != undefined && options.dataPath != 'person') {\n                                    // there is no need to escape this because we're rendering as plain text\n                                    item.label = item.name;\n                                }\n                                return item;\n                            };\n                        }\n\n                        //tdar lookup returns an object that wraps the results - the property with the results is specified by options.dataPath\n                        var dataItems = typeof options.dataPath === \"function\" ? options.dataPath(data) : data[options.dataPath];\n                        var values = $.map(dataItems, options.customDisplayMap);\n\n                        // enable custom data to be pushed onto values\n                        if (options.addCustomValuesToReturn) {\n                            var extraValues = options.addCustomValuesToReturn(request.term);\n                            // could be push, need to test\n                            if (extraValues) {\n                                values = values.concat(extraValues);\n                            }\n                        }\n                        // console.log(options.dataPath + \" autocomplete returned \" + values.length);\n\n\n                        // if one of the results matches the search term exactly,  omit the \"create new\" option.\n                        var exactMatch = false;\n                        $.each(values, function(idx, item) {\n                            exactMatch = item.name === $.trim(request.term);\n                            //if we find an exact match, return false to 'break' this loop.\n                            return !exactMatch;\n                        });\n\n                        if (options.showCreate && !exactMatch) {\n                            var createRow = _buildRequestData($elem);\n                            createRow.value = request.term;\n                            // allow for custom phrasing\n                            if (options.showCreatePhrase) {\n                                createRow.label = \" (\" + options.showCreatePhrase + \": \" + request.term + \")\";\n                            }\n                            createRow.id = -1;\n                            createRow.isNewItem = true;\n                            createRow.showCreate = true;\n                            values.push(createRow);\n                        }\n                        responseHolder.callback(values);\n                    },\n                    complete: function () {\n                        $elem.removeData('responseHolder');\n                    }\n                };\n                $.ajax(ajaxRequest);\n            },\n            minLength: options.minLength || 0,\n\n            change: function(event, ui) {\n                var $element = $(this);\n                // if the existing autocomplete value stored in the \"autoVal\" attribute does is not undefined and is not the same as the current\n                // evaluate it for being significant (important when trying to figure out if a minimum set of fields have been filled in\n                var autovalChanged = $element.attr(\"autoVal\") !== $element.val();\n                var rowIsEmpty = _evaluateAutocompleteRowAsEmpty(this, options.ignoreRequestOptionsWhenEvaluatingEmptyRow == undefined ? [] : options.ignoreRequestOptionsWhenEvaluatingEmptyRow);\n                if (autovalChanged | rowIsEmpty) {\n                    if ($element.attr(\"autocompleteIdElement\")) {\n                        var $idElement = $($element.attr(\"autocompleteIdElement\"));\n                        $idElement.val(\"\");\n                    }\n                }\n                return true;\n            },\n\n            select: function (event, ui) {\n                var $elem = $(event.target);\n                $elem.data('autocompleteSelectedItem', ui.item.value);\n                _applyDataElements(this, ui.item);\n\n                //cancel any pending searches once the user selects an item\n                var responseHolder = $elem.data('responseHolder');\n                if (responseHolder) {\n                    responseHolder.callback();\n                    responseHolder.callback = function () {\n                    };\n                }\n\n                //if user selects 'create new' option, add it to the new item cache and stop trying to find matches.\n                if (ui.item.isNewItem) {\n                    var $parent = $($elem.attr(\"autocompleteparentelement\"));\n                    //$parent.autocomplete(\"disable\");\n\n                }\n            },\n            open: function () {\n                $(this).removeClass(\"ui-corner-all\").addClass(\"ui-corner-top\");\n                if (options.customRender != undefined) {\n                    $(\"ul.ui-autocomplete li a\").each(function () {\n                        var htmlString = $(this).html().replace(/&lt;/g, '<');\n                        htmlString = htmlString.replace(/&gt;/g, '>');\n                        $(this).html(htmlString);\n                    });\n                }\n                if (options.customHeader != undefined) {\n                    $(\"ul.ui-autocomplete\").prepend(options.customHeader());\n                }\n                $(\"ul.ui-autocomplete\").css(\"width\", $(this).parent().width());\n            },\n            close: function () {\n                $(this).removeClass(\"ui-corner-top\").addClass(\"ui-corner-all\");\n            }\n        });\n        if (options.customRender != undefined) {\n            autoResult.each(function (idx, elem) {\n                // handle custom rendering of result\n                $(elem).autocomplete(\"instance\")._renderItem = options.customRender;\n            });\n        }\n\n        $elements.filter(\"[autocompleteparentelement]\").each(function () {\n            _registerOnBlur(cache, this);\n        });\n\n        //if autocomplete is in a repeatable, register if they clicked 'addnew' after filling out a transient record\n        var repeatables = [];\n        $elements.closest(\".repeatLastRow\").filter(function () {\n            if (repeatables.indexOf(this) > -1) {\n                return false;\n            }\n            repeatables.push(this);\n            return true;\n        });\n        $(repeatables).on(\"repeatrowadded\", function (e, parentElem, cloneElem, idxOfNewRow, originalElem) {\n            $(originalElem).find(\"[autocompleteparentelement]\").filter(\":visible\").each(function () {\n                var elem = this;\n                var parentid = $(elem).attr(\"autocompleteparentelement\");\n                var $parentElem = $(parentid);\n                var id = $parentElem.find(\"input[type=hidden]\").first().val();\n                if (id === \"-1\") {\n                    cache.register($parentElem[0]);\n                }\n            });\n        });\n\n    };\n\n    /**\n     * initialize selection of elements as autocomplete fields\n     *\n     * @param selector jquery selection of text inputs to become autocomplete fields\n     * @param lookupType type of keywords to be searched (e.g. material keywords, geographic keywords, etc)\n     * @param extraData additional name/value data\n     * @param newOption boolean true if users are allowed to create new keyword values\n     */\n    function _applyKeywordAutocomplete(selector, lookupType, extraData, newOption) {\n        var options = {};\n        options.url = \"api/lookup/\" + lookupType;\n        options.enhanceRequestData = function (requestData) {\n            $.extend(requestData, extraData);\n        };\n\n        options.dataPath = \"items\";\n        options.sortField = 'LABEL';\n        options.showCreate = newOption;\n        options.showCreatePhrase = \"Create a new keyword\";\n        options.minLength = 2;\n\n        var useCustomRender = true;\n        if (useCustomRender) {\n            options.customRender = function (ul, item) {\n                var star =\"\";\n                if (item.approved != undefined && item.approved == true) {\n                    star = \"<i class=\\\"icon-star\\\"></i> \";\n                }\n                var ocur = \"\";\n                if (item.occurrence != undefined && item.occurrence != 0) {\n                    ocur = \" (\" + item.occurrence + \")\";\n                }\n                var extra = \"<span class='pull-right'>\" + star + ocur + \" \" + \"&nbsp;&nbsp;</span>\";\n\n                return $(\"<li></li>\").data(\"item.autocomplete\", item).append(\"<a  title=\\\"\" + common.htmlDecode(item.label) + \"\\\">\" + common.htmlDoubleEncode(item.value) + extra + \" </a>\").appendTo(ul);\n            };\n//            options.customHeader = function() {\n//                return $(\"<li class='header-auto'>Term <span class='header-auto pull-right'>Suggested (# of ocur.)</span></li>\");\n//            }\n        };\n        _applyGenericAutocomplete($(selector), options);\n    }\n\n    /**\n     * initialize person autocomplete elements\n     *\n     * @param $elements jquery selection of elements to initialize as autocomplete fields\n     * @param usersOnly if true, limit results to registered tDAR users.\n     * @param showCreate if true, allow for the creation of new person records if the specified person\n     *              cannot be found on the server\n     */\n    function _applyPersonAutoComplete($elements, usersOnly, showCreate) {\n        var options = {\n            url: \"api/lookup/person\",\n            dataPath: \"people\",\n            retainInputValueOnSelect: true,\n            showCreate: showCreate,\n            minLength: 3,\n            customRender: function (ul, item) {\n                var obj = $.extend({}, item);\n                obj.addnew = (item.id == -1 && options.showCreate);\n                var tmpl = \"<li class='{addnew}'><a><div class='person-{id}'><span class='name'>{propername}</span> <span class='email'>{email}</span>\";\n                tmpl = tmpl + \"<span class='institution'><i>{institution}</i></span>{create}</div></a></li>\";\n\n                tmpl = tmpl.replace(\"{id}\",item.id);\n                if (item.properName != undefined) {\n                    tmpl = tmpl.replace(\"{propername}\",item.properName);\n                } else {\n                    tmpl = tmpl.replace(\"{propername}\",\"\");\n                }\n                if (item.email != undefined && item.email.trim() != '') {\n                    tmpl = tmpl.replace(\"{email}\",\" (\"+ item.email +\")\");\n                } else {\n                    tmpl = tmpl.replace(\"{email}\",\"\");\n                }\n\n                if (item.institution != undefined && item.institution.name != undefined) {\n                    tmpl = tmpl.replace(\"{institution}\", \", \" + item.institution.name);\n                } else {\n                    tmpl = tmpl.replace(\"{institution}\", \" \");\n                }\n                if (obj.addnew) {\n                    tmpl = tmpl.replace(\"{create}\",\"<b>Create a new person record</b>\");\n                    tmpl = tmpl.replace(\"{addnew}\",\"addnew\");\n                } else {\n                    tmpl = tmpl.replace(\"{addnew}\",\"\");\n                    tmpl = tmpl.replace(\"{create}\",\"\");\n                }\n                \n                var $snippet = $(tmpl);\n                $snippet.data(\"item.autocomplete\", item).appendTo(ul);\n                return $snippet;\n            },\n            requestData: {\n                registered: usersOnly\n            },\n            objectMapper: function (parentElem) {\n                var obj = _objectFromAutocompleteParent(parentElem)\n                obj.properName = obj.firstName + \" \" + obj.lastName;\n                return obj;\n            }\n        };\n\n        _applyGenericAutocomplete($elements, options);\n        _getCache(options).search = ObjectCache.basicSearch;\n    }\n\n    /**\n     * Initialize ResourceCollection autocomplete fields.\n     *\n     * @param $elements jquery selection of text inputs to initialize as autocomplete fields\n     * @param options additional initialization optionss (see applyGenericAutocomplete for more info)\n     * @param extraData additional name/val request data to include in ajax request\n     */\n    function _applyCollectionAutocomplete($elements, options, extraData) {\n        //FIXME: HACK: this is a bandaid.  need better way to not bind multiple autocompletes\n        if ($elements.data(\"autocompleteApplied\")) {\n            return;\n        }\n        $elements.data(\"autocompleteApplied\", true);\n        var _options = {};\n        if (typeof options === \"object\") {\n            _options = options;\n        }\n        var defaults = {};\n        if ($elements.attr(\"collectionType\") != undefined && $elements.attr(\"collectionType\") != '') {\n            extraData.type = $elements.attr(\"collectionType\");\n        }\n        options.enhanceRequestData = function (requestData) {\n            $.extend(requestData, extraData);\n        };\n\n        defaults.url = \"api/lookup/collection\";\n        defaults.dataPath = \"collections\";\n        defaults.sortField = 'TITLE';\n        defaults.showCreate = false;\n        if (defaults.showCreate) {\n            defaults.showCreatePhrase = \"Create a new collection\";\n        }\n        defaults.minLength = 2;\n        defaults.customRender = function (ul, item) {\n            var description = \"\";\n            if (item.description != undefined) {\n                description = item.description;\n            }\n            var link = \"\";\n            var idpart = \"\";\n            if (item.id != -1) {\n                idpart = \" (\"+item.id+\")\";\n            }\n            \n            var common = __webpack_require__(/*! ./tdar.common */ \"./src/main/webapp/js/tdar.common.js\");\n            return $(\"<li></li>\").data(\"item.autocomplete\", item).append(\"<a  title=\\\"\" + common.htmlDecode(description) + \"\\\">\" + common.htmlDoubleEncode(item.value) + link + \"</a>\" +idpart).appendTo(ul);\n        };\n\n        _applyGenericAutocomplete($elements, $.extend({}, defaults, _options));\n    }\n\n    /**\n     * autocomplete render callback used by applyResourceAutocomplete when displaying search results menu\n     * @param item\n     * @returns {*}\n     * @private\n     */\n    function _displayResourceAutocomplete(item) {\n        var label = \"\";\n        if (item.name) {\n            label = item.name;\n        }\n        if (item.title) {\n            label = item.title;\n        }\n        item.value = label + \" (\" + item.id + \") \";\n        return item;\n    }\n\n    /**\n     * initialize tDAR resource autocomplete fields\n     * @param $elements jquery selection of text fields to initialize as autocomplete fields\n     * @param type resource type (e.g. \"document\", \"coding-sheet\", \"image\")\n     */\n    function _applyResourceAutocomplete($elements, type) {\n        var options = {};\n        options.url = \"api/lookup/resource\";\n        options.dataPath = \"resources\";\n        options.sortField = 'TITLE';\n        options.enhanceRequestData = function (requestData) {\n            if (requestData[\"subCategoryId\"] != undefined && requestData[\"subCategoryId\"] != '' && requestData[\"subCategoryId\"] != -1) {\n                requestData[\"sortCategoryId\"] = requestData[\"subCategoryId\"];\n            }\n            requestData.resourceTypes = type;\n        };\n        options.ignoreRequestOptionsWhenEvaluatingEmptyRow = [ \"subCategoryId\", \"sortCategoryId\" ];\n        options.minLength = 0;\n        options.customDisplayMap = _displayResourceAutocomplete;\n        options.customRender = function (ul, item) {\n            var description = \"\";\n            if (item.description != undefined) {\n                description = item.description;\n            }\n            var link = \"\";\n            var common = __webpack_require__(/*! ./tdar.common */ \"./src/main/webapp/js/tdar.common.js\");\n            return $(\"<li></li>\").data(\"item.autocomplete\", item).append(\"<a  title=\\\"\" + common.htmlDecode(description) + \"\\\">\" + common.htmlDoubleEncode(item.value) + link + \"</a>\").appendTo(ul);\n        };\n\n        _applyGenericAutocomplete($elements, options);\n        $elements.autocomplete(\"option\", \"delay\", 600);\n    }\n\n    /**\n     * initalize institution autocomplete fields\n     *\n     * @param $elements jquery selection of text inputs to initialize as autocomplete fields\n     * @param newOption if true, allow user to create new records if specified value not found on server\n     */\n    function _applyInstitutionAutocomplete($elements, newOption) {\n\n        var options = {};\n        options.url = \"api/lookup/institution\";\n        options.dataPath = \"institutions\";\n        options.sortField = 'RELEVANCY';\n        options.enhanceRequestData = function (requestData) {\n            requestData.institution = requestData.term;\n        };\n        options.showCreate = newOption;\n        options.minLength = 2;\n        options.showCreatePhrase = \"Create new institution\";\n        _applyGenericAutocomplete($elements, options);\n    };\n\n    /**\n     * click handler - used to implement an autocomplete that has a \"show-all\" button, e.g. a combobox\n     * @private\n     */\n    function _autocompleteShowAll() {\n        $(this).siblings('input[type=text]').focus().autocomplete(\"search\", \"\");\n    }\n\n    /**\n     * initialize \"combobox\" style autocompletes.  These are similar to autocomplete fields,  however, they include\n     * a \"show all\" button beside the control that displays all possible values.  As a result, this is not ideal\n     * for lookups that return relatively small numbers of results (e.g. list of U.S. States).\n     *\n     * @param $elements jquery selection of elements to convert into comboboxes\n     * @param type resource type name (e.g \"document\", \"coding-sheet\".\n     */\n    function _applyComboboxAutocomplete($elements, type) {\n\n        //register autocomplete text box\n        _applyResourceAutocomplete($elements, type);\n\n        $elements.each(function () {\n            //the autocomplete text field\n            var $elem = $(this);\n\n            //register \"show-all\" click\n            var $controls = $(this).closest('.controls');\n            var $textInput = $controls.find(\"input[type=text]\");\n            var $button = $controls.find(\"button.show-all\");\n            $button.click(function () {\n                $textInput.focus().autocomplete(\"search\", \"\");\n            });\n\n            //override the default change-event listener\n            $elem.autocomplete(\"option\", \"change\", function(event){\n                //the most recent menu item that the user selected\n                var item = $elem.data('autocompleteSelectedItem');\n\n                //the hidden input that holds the ID for the associated record in tdar\n                var $idElem = $($elem.attr(\"autocompleteIdElement\"));\n\n                //if user deletes the contents of the text field, we also clear the ID field value\n                if($elem.val() === \"\") {\n                    $idElem.val(\"\");\n                }\n\n                //if the user manually changed the value (as opposed to using the autocomplete menu), clear the ID field value\n                if(item && $elem.val() !== item) {\n                    $idElem.val(\"\");\n                }\n            });\n\n            //prime the initial value of the 'previously selected' menu item\n            if($elem.val() !== \"\") {\n                $elem.data('autocompleteSelectedItem', $elem.val());\n            }\n        });\n    }\n\n    /**\n     * delegate listener that enables autocomplete for creator input fields when a user clicks in a crator field.\n     * @param id parent element to receive delegated events\n     * @param user if true, use applyPersonAutocomplete, otherwise use applyInstitutionAutocomplete\n     * @param showCreate show a \"create new\" option at the end of the list.\n     */\n    var _delegateCreator = function (id, user, showCreate) {\n        if (user == undefined || user == false) {\n            $(id).delegate(\".nameAutoComplete\", \"focusin\", function () {\n                        // TODO: these calls re-regester every row after a row is\n                        // created,\n                        // change so that only the new row is registered.\n                        _applyPersonAutoComplete($(\".nameAutoComplete\", id), false, showCreate);\n                    });\n            $(id).delegate(\".institutionAutoComplete\", \"focusin\", function () {\n                _applyInstitutionAutocomplete($(\".institution\", id), true);\n            });\n        } else {\n            $(id).delegate(\".userAutoComplete\", \"focusin\", function () {\n                _applyPersonAutoComplete($(\".userAutoComplete\", id), true, false);\n            });\n        }\n    };\n\n    /**\n     * delegate listener that enables autocomplete for annotationKey input fields when a user clicks in that\n     * field.\n     * @param id id of parent element to receive delegated events.\n     * @param prefix prefix of classname to use in selector when selecting input fields inside of the parent\n     * @param delim  lookupType to send in ajax request ot search provider\n     * @private\n     */\n    var _delegateAnnotationKey = function (id, prefix, delim) {\n        $(id).delegate(\".\" + prefix + \"AutoComplete\", \"focusin\", function () {\n            _applyGenericAutocomplete($(\".\" + prefix + \"AutoComplete\"), {\n                url: \"api/lookup/\" + delim,\n                dataPath: \"items\",\n                sortField: 'LABEL',\n                minLength: 2,\n                customDisplayMap: function(item)  {\n                    item.label = item.key;\n                    return item;\n                }\n            });\n        });\n    };\n\n    /**\n     * delegate listener that enables autocomplete for annotationKey input fields when a user clicks in that\n     * @param id id of parent element to receive delegated events.\n     * @param prefix prefix of classname to use in selector when selecting input fields inside of the parent\n     * @param type keyword type\n     * @private\n     */\n    var _delegateKeyword = function (id, prefix, type) {\n        $(id).delegate(\".keywordAutocomplete\", \"focusin\", function () {\n            // TODO: these calls re-register every row after a row is created,\n            // change so that only the new row is registered.\n            // console.log('focusin:' + this.id);\n            _applyKeywordAutocomplete(id + \" .keywordAutocomplete\", \"keyword\", {\n                keywordType: type\n            }, true);\n        });\n\n    };\n\n    /**\n     * return an object from any autocomplete input elements inside the specified parentElem elment. This function\n     * maps every .autocomplete-ui-input  into a property of the returned object.  The property name is based on the\n     * value of the \"autocompletename\" attribute of the input element (or the value of the 'name' attribute, if no\n     * autocompletename attribute specified.\n     *\n     * @param parentElem\n     */\n    function _objectFromAutocompleteParent(parentElem) {\n        var obj = {};\n        $(parentElem).find(\".ui-autocomplete-input\").each(function () {\n            var key = $(this).attr(\"autocompleteName\") || this.name;\n            obj[key] = this.value;\n        });\n        return obj;\n    }\n\n    module.exports = {\n        applyPersonAutoComplete: _applyPersonAutoComplete,\n        evaluateAutocompleteRowAsEmpty: _evaluateAutocompleteRowAsEmpty,\n        applyKeywordAutocomplete: _applyKeywordAutocomplete,\n        applyCollectionAutocomplete: _applyCollectionAutocomplete,\n        applyResourceAutocomplete: _applyResourceAutocomplete,\n        applyInstitutionAutocomplete: _applyInstitutionAutocomplete,\n        applyComboboxAutocomplete: _applyComboboxAutocomplete,\n        objectFromAutocompleteParent: _objectFromAutocompleteParent,\n        \"delegateCreator\": _delegateCreator,\n        \"delegateAnnotationKey\": _delegateAnnotationKey,\n        \"delegateKeyword\": _delegateKeyword,\n        \"buildRequestData\": _buildRequestData,\n        \"ObjectCache\": ObjectCache\n    };\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.autocomplete.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.bookmark.js":
/*!*********************************************!*\
  !*** ./src/main/webapp/js/tdar.bookmark.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {const core = __webpack_require__(/*! ./tdar.core */ \"./src/main/webapp/js/tdar.core.js\"); \nconst common = __webpack_require__(/*! ./tdar.common */ \"./src/main/webapp/js/tdar.common.js\");\n\nvar _init = function() {\n        if ($(\"body\").data(\"userid\") != undefined) {\n            _applyCollectionMenu();\n            $(\"body\").on(\"click\", \".bookmark-link\", _ajaxBookmark); //was TDAR.bookmark.ajaxBookmark\n        }\n    };\n    \n    var _applyCollectionMenu = function() {\n        $('.bookmark-menu .dropdown-toggle').click(function() {\n            var $menu = $(this);\n            if(!$menu.hasClass('open')) {\n                var $next = $menu.next(\"ul.dropdown-menu\");\n                $(\".dropdown-menu\").children(\".extra\").remove();\n                $next.append($(\"<li class='extra'><img src='\" + core.uri('images/ui-anim_basic_16x16.gif') + \"' class='waiting' /></li>\"));\n                $.getJSON( \"/api/collection/tree?type=LIST\", function( data ) {\n                    $(\".dropdown-menu\").children(\".extra\").remove();\n                    var items = _buildCollectionTree(data);\n                    $next.append(items);\n                    \n                    \n                });\n            }\n        });\n        \n    };\n\n    var _buildCollectionTree = function(data) {\n        var items = [];\n          $.each( data, function( key, val ) {\n            var children;\n            if (val.children) {\n             var _child = _buildCollectionTree(val.children);\n              children = $( \"<ul/>\", {\n                html: _child.join( \"\" )\n              })\n            }\n            var item = \"<li id='\" + val.id + \"' class='extra'><input type='radio' name='collectionId' value='\"+val.id+\"'> <a href='#'>\" + common.htmlEncode(core.ellipsify(val.name, 80))+ \"</a>\";\n            if (children != undefined) {\n            //http://stackoverflow.com/questions/9758587/twitter-bootstrap-multilevel-dropdown-menu\n            //https://vsn4ik.github.io/bootstrap-submenu/\n            }\n            item  += \"</li>\" \n            items.push( item);\n          });\n        return items;\n    }\n\n    \n\n    /**\n     * Click event handler used when user clicks on the \"bookmark\" icon beside a resource. If the resource is\n     * \"bookmarked\" it is  tagged as a potential integration source on the \"integrate\" page.  This function shows the\n     * correct state (clicking the button togges the state on/off)  and sends an ajax request to update\n     * the bookmark status on the server-side\n     * @returns {boolean}\n     * @private\n     */\n    var _ajaxBookmark = function() {\n        var $this = $(this);\n        var resourceId = $this.attr(\"resource-id\");\n        var state = $this.attr(\"bookmark-state\");\n        var $waitingElem = $(\"<img src='\" + core.uri('images/ui-anim_basic_16x16.gif') + \"' class='waiting' />\");\n        $this.prepend($waitingElem);\n        var $icon = $(\".bookmarkicon\", $this);\n        if ($icon == undefined || $icon.length == 0) {\n            $icon = $this.parents(\".bookmark-container\").find(\".bookmarkicon\");\n        }\n        $icon.hide();\n        //console.log(resourceId + \": \" + state);\n        var oldclass = \"icon-star-empty\";\n        var newtext = \"un-bookmark\";\n        var newstate = \"bookmarked\";\n        var action = \"bookmarkAjax\";\n        var newUrl = \"/resource/removeBookmark?resourceId=\" + resourceId;\n        var newclass = \"icon-star\";\n        \n        if (state == 'bookmarked') {\n            newtext = \"bookmark\";\n            newstate = \"bookmark\";\n            action = \"removeBookmarkAjax\";\n            oldclass = \"icon-star\";\n            newclass = \"icon-star-empty\";\n            newUrl = \"/resource/bookmark?resourceId=\" + resourceId;\n        }\n//        var newclass = \"tdar-icon-\" + newstate;\n\n        $.post(core.uri() + \"api/resource/\" + action + \"?resourceId=\" + resourceId, function (data) {\n                    if (data.success) {\n                        $(\".bookmark-label\", $this).text(newtext);\n                        $icon.removeClass(oldclass).addClass(newclass).show();\n                        $this.attr(\"bookmark-state\", newstate);\n                        $this.attr(\"href\", newUrl);\n                        $(\".waiting\", $this).remove();\n                        $this.find('.bookmark-label').text(newstate === 'bookmarked' ? 'Un-bookmark' : 'Bookmark');\n                    }\n                });\n\n        return false;\n    }\n\n    \n    \n    //expose public elements\n    module.exports = {\n        \"init\": _init,\n        \"ajaxBookmark\" : _ajaxBookmark,\n\n        //Main entrypoint - to be called by TDAR.main()\n        \"main\": _init\n    };\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.bookmark.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.bulk.js":
/*!*****************************************!*\
  !*** ./src/main/webapp/js/tdar.bulk.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {/**\n * TDAR.bulk.js\n */\n    //const TDAR = require(\"./tdar.master\");\n\n    var asyncUrl;\n    var gPercentDone = 0;\n    var TIMEOUT = 1000 / 2; //2fps is all we need.\n\n    var _init = function($div) {\n        asyncUrl = $div.data('asyncUrl');\n        //stop pinging for info when the process is done\n        gPercentDone = 0;\n\n        _updateProgressBar(0);\n        //fixme: for testing purposes, call fqn of updateProgress instead of _updateProgress\n        setTimeout(_updateProgress, TIMEOUT);\n        return {asyncUrl: asyncUrl, percentDone: gPercentDone, timeout: TIMEOUT};\n    };\n\n    var _updateProgressBar = function(valeur) {\n        $(\".progress-bar\").attr('aria-valuenow', valeur);\n        $(\".progress-bar\").html(valeur + \"%\");\n        $(\".progress-bar\").css(\"width\",valeur+'%');\n    }\n    \n    var _updateProgress = function () {\n//        console.log(\"updating progress...\");\n        if (gPercentDone >= 100) {\n            //console.log(\"progress at 100. no need to continue\");\n            return;\n        }\n\n        $.ajax({\n            url: asyncUrl,\n            dataType: 'json',\n            type: 'POST',\n            success: function (data) {\n                gPercentDone = data.percentComplete;\n                console.log(\"percent complete: %s\", data.percentComplete);\n                if (data.percentDone != 100) {\n                    _updateProgressBar(data.percentComplete);\n                    $(\"#buildStatus\").empty().append(data.message);\n                    setTimeout(_updateProgress, TIMEOUT);\n                } else {\n                    _updateProgressBar(100);\n                    $('#divUploadComplete').show();\n                    $(\"#buildStatus\").empty().append(\"Upload complete.\");\n                    $(\"#btnDashboard\").button();\n                }\n                if (data.errors != undefined && data.errors != \"\") {\n                    $(\"#asyncErrors\").show().find(\"#errorDetails\").html(\"<div class=''><ul>\" + data.errors + \"</ul></div>\");\n                }\n            },\n            error: function (xhr, txtStatus, errorThrown) {\n                gPercentDone = 101;\n                console.error(\"error: %s, %s\", txtStatus, errorThrown);\n                $('#unspecifiedError, #asyncErrors').show();\n            }\n        });\n\n        //console.log(\"registered ajax callback\");\n    };\n    //expose public elements\n    module.exports = {\n        \"updateProgress\": _updateProgress,\n        \"init\": _init\n    };\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.bulk.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.c3graph.js":
/*!********************************************!*\
  !*** ./src/main/webapp/js/tdar.c3graph.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {/**\n * TDAR.c3graph\n * \n * This library is designed to provide a pass-through translation between the c3 graphing library and tDAR. In general, all configuration is done through data\n * attributes on DIV elements\n * \n * look at _initJSON for detailed configuration options. But, in general, the most important data attributes are: data-table -- the ID of a table to use for the\n * data from the graph data-json -- the ID of an element that has an array of JSON data that can be used along with a set of keys to produce graphs from raw\n * json. (customized JSON options)\n * \n * data-rows -- the ID of an element that has JSON that should be used for row-based data data-columns -- the ID of an element that has the json that should be\n * used for column-based data\n * \n * \n */\n\nconst c3 = __webpack_require__(/*! c3 */ \"./node_modules/c3/c3.js\");\nconst c3graphsupport = __webpack_require__(/*! ./tdar.c3graphsupport */ \"./src/main/webapp/js/tdar.c3graphsupport.js\");\nconst common = __webpack_require__(/*! ./tdar.common */ \"./src/main/webapp/js/tdar.common.js\");\n__webpack_require__(/*! c3/c3.min.css */ \"./node_modules/c3/c3.min.css\");\n\nvar _getColors = function() {\n        var c3colors = $(\"#c3colors\");\n        var c3colorsobj = undefined;\n\n        if (c3colors.length > 0) {\n            c3colorsobj = JSON.parse(c3colors.html());\n        }\n        return c3colorsobj;\n    }\n\n    /**\n     * To create a bar-graph, look for a class of \"barChart\" on divs.\n     */\n    var _initBarChart = function() {\n        var c3colors = _getColors();\n        $(\".barChart\").each(function() {\n            var $parent = $(this);\n            var $table = $($parent.data(\"table\"));\n\n            var cdata = {\n                data : {\n                    x : 'label',\n                    type : 'bar',\n                    keys : {\n                        x : 'label',\n                        value : [ 'count' ]\n                    },\n                    tooltip : {\n                        show : false\n                    },\n                    labels : {\n                        show : true\n                    }\n                },\n                legend : {\n                    hide : true\n                },\n                tooltip : {\n                    show : false\n                },\n                axis : {\n                    x : {\n                        show : true,\n                        type : 'category'\n                    },\n                    y : {\n                        show : false\n                    }\n                },\n                bar : {\n                    width : {\n                        ratio : .8\n                    // this makes bar width 50% of length between ticks\n                    }\n                }\n            };\n            if ($parent.data('colorcategories') != undefined) {\n                if (c3colors != undefined && c3colors.length > 0) {\n                    cdata.data.color = function(c, d) {\n                        return c3colors[d.index];\n                    }\n                }\n            }\n\n            _initJson($parent, cdata);\n            // console.log(JSON.stringify(cdata));\n            var chart = c3.generate(cdata);\n        });\n    };\n\n    /**\n     * To create a bar-graph, look for a class of \"barChart\" on divs.\n     */\n    var _initGaugeChart = function() {\n        $(\".gaugeChart\").each(function() {\n            var $parent = $(this);\n            var _defaultColor = {\n                pattern : [ '#a09d5b', '#f6d86b', '#dc7612', '#bd3200' ], // the three color levels for the percentage values.\n                threshold : {\n                    // unit: 'value', // percentage is default\n                    // max: 200, // 100 is default\n                    values : [ 30, 60, 90, 100 ]\n                }\n            }\n            var cdata = {\n                data : {\n                    columns : [ [ 'Usage', $parent.data(\"val\") ] ],\n                    type : 'gauge'\n                },\n                gauge : {\n                    label : {\n                        format : function(value, ratio) {\n                            return value + \"%\";\n                        },\n                        show : false\n                    // to turn off the min/max labels.\n                    },\n                    units : ' %',\n                // width: 39 // for adjusting arc thickness\n                },\n                tooltip: {\n                    format: {\n                      value: function (value, ratio, id, index) { return value +\"%\"; }\n                    }\n                  },\n                color : _defaultColor,\n                size : {\n                    height : $parent.data(\"height\"),\n                    width : $parent.data(\"width\")\n                }\n            };\n\n            _initJson($parent, cdata);\n\n            if ($parent.data(\"overridecolors\") == true) {\n                cdata.color = _defaultColor;\n            }\n            // console.log(JSON.stringify(cdata));\n            var chart = c3.generate(cdata);\n        });\n    };\n\n    /**\n     * Create area chart\n     */\n    var _initAreaGraph = function() {\n        $(\".areaChart\").each(function() {\n            var $parent = $(this);\n            var $table = $($parent.data(\"table\"));\n\n            var cdata = {\n                data : {\n                    x : 'label',\n                    type : 'area',\n                    keys : {\n                        x : 'label',\n                        value : [ 'count' ]\n                    },\n                    labels : {\n                        show : true\n                    }\n                },\n                legend : {\n                    hide : true\n                },\n                tooltip : {\n                    show : false\n                },\n                axis : {\n                    x : {\n                        show : true,\n                        type : 'category'\n                    },\n                    y : {\n                        show : false\n                    }\n                },\n            };\n            _initJson($parent, cdata);\n            var chart = c3.generate(cdata);\n        });\n    };\n\n    var _initLineGraph = function() {\n        $(\".lineGraph\").each(function() {\n            var $parent = $(this);\n            var $table = $($parent.data(\"table\"));\n\n            var cdata = {\n                data : {\n                    x : 'label',\n                    type : 'line',\n                    keys : {\n                        x : 'label',\n                        value : [ 'count' ]\n                    },\n                },\n                point : {\n                    show : false\n                },\n                legend : {\n                    hide : false\n                },\n                tooltip : {\n                    show : true\n                },\n                axis : {\n                    x : {\n                        show : true,\n                        type : 'timeseries',\n                        tick : {\n                            format : '%Y-%m-%d',\n                            culling : {\n                                culling : true,\n                                max : 5\n                            }\n                        }\n                    },\n                    y : {\n                        show : true\n                    }\n                },\n            };\n\n            if ($table) {\n                var data = new Array();\n                for (var i = 0; i < $(\"th\", $table).length; i++) {\n                    data.push(new Array());\n                }\n\n                var rows = $(\"tr\", $table);\n                var max = rows.length - 1;\n                if ($(\"td\", rows[max]).length == 1) {\n                    max--;\n                }\n                for (var i = max; i >= 0; i--) {\n                    var row = $(\"td, th\", rows[i]);\n                    for (var j = 0; j < row.length; j++) {\n                        var d = $(row[j]).text().trim();\n                        var d_ = d.replace(/\\,/g, '');\n                        if (i == 0) {\n                            data[j].unshift(d);\n                        } else if (parseInt(d_) && j != 0) {\n                            data[j][max - i] = parseInt(d_);\n                        } else {\n                            data[j][max - i] = d;\n                        }\n                    }\n                }\n                cdata.data.columns = data;\n                cdata.data.x = 'Date';\n            }\n            _initJson($parent, cdata);\n            var chart = c3.generate(cdata);\n        });\n    };\n\n    var _initJson = function($parent, cdata) {\n        if ($parent.data('x')) {\n            cdata.data.x = $parent.data('x');\n        }\n        var id = \"#\" + $parent.attr(\"id\");\n        cdata.bindto = id;\n        var c3colors = _getColors();\n        if (c3colors) {\n            cdata.color = {};\n            cdata.color.pattern = c3colors;\n        }\n\n        var clickname = $parent.data(\"click\");\n        if ($.isFunction(window[clickname])) {\n            console.log(window[clickname]);\n            cdata.data.onclick = window[clickname];\n        }\n\n        if ($.isFunction(c3graphsupport[clickname])) {\n            cdata.data.onclick = c3graphsupport[clickname];\n        }\n        if ($parent.data(\"legend-position\") != undefined) {\n            if (cdata.legend == undefined) {\n                cdata.legend = {};\n            }\n            cdata.legend.position = $parent.data(\"legend-position\");\n        }\n\n        if ($parent.data(\"source\")) {\n            var source = JSON.parse($($parent.data(\"source\")).html());\n            cdata.data.json = source;\n            cdata.data.keys = {};\n            cdata.data.keys.x = $parent.data('x');\n            // cdata.data.names = {'label' : 'label'};\n            if ($parent.data('values')) {\n                cdata.data.keys.value = $parent.data('values').split(\",\");\n            }\n        }\n\n        if ($parent.data(\"legend\")) {\n            if ($parent.data(\"legend\") === 'true') {\n                cdata.legend.hide = true;\n            } else {\n                cdata.legend.hide = false;\n            }\n        }\n\n        if ($parent.data(\"xtype\")) {\n            cdata.axis.x.type = $parent.data(\"xtype\");\n        }\n\n        if ($parent.data(\"columns\")) {\n            var source = JSON.parse($($parent.data(\"columns\")).html());\n            cdata.data.columns = source;\n        }\n        if ($parent.data(\"yaxis\") && $parent.data(\"yaxis\") === 'log') {\n            if (cdata.axis == undefined) {\n                cdata.axis = {};\n            }\n            if (cdata.axis.y == undefined) {\n                cdata.axis.y = {};\n            }\n\n            cdata.axis.y.tick = {\n                format : function(d) {\n                    return Math.pow(10, d).toFixed(2);\n                }\n            };\n\n            var key = $parent.data(\"values\");\n            // take the JSON value and convert it to the Log(10) value\n            if (cdata.data.json && key) {\n                cdata.data.json.forEach(function(r) {\n                    r[key] = Math.log(r[key]) / Math.LN10;\n                });\n            }\n\n            if (cdata.data.labels == undefined) {\n                cdata.data.labels = {};\n            }\n\n            if (cdata.data.labels.format == undefined) {\n                cdata.data.labels.format = {};\n            }\n\n            cdata.data.labels.format[$parent.data('values')] = _reverseLog;\n            console.log(cdata.data.labels);\n        }\n\n    }\n\n    var _reverseLog = function(d, id) {\n        return Math.pow(10, d).toFixed(0);\n    };\n\n    var _initPieChart = function() {\n        $(\".pieChart\").each(function() {\n            var $parent = $(this);\n\n            var cdata = {\n                data : {\n                    type : 'pie',\n                },\n                tooltip : {\n                    format : {\n                        value : function(value, ratio, id, index) {\n                            return common.formatNumber(value) + \" (\" + (ratio * 100.00).toFixed(2) + \"%)\";\n                        }\n                    }\n                }\n            }\n            var data = new Array();\n            var $table = $($parent.data(\"table\"));\n            if ($table) {\n                var rows = $(\"tr\", $table);\n                var countCol = $parent.data(\"val\");\n                var ccInt = -1;\n                var labCol = $parent.data(\"label\");\n                var labInt = -1;\n                for (var i = 0; i < rows.length; i++) {\n                    var row = $(\"td, th\", rows[i]);\n\n                    if (i == 0) {\n                        for (var j = 0; j < row.length; j++) {\n                            var d = $(row[j]).text().trim();\n                            if (ccInt == -1 && d.valueOf() == countCol.valueOf()) {\n                                ccInt = j;\n                            }\n                            if (labInt == -1 && d.valueOf() == labCol.valueOf()) {\n                                labInt = j;\n                            }\n                        }\n                        continue;\n                    }\n                    var d = $(row[ccInt]).text().trim();\n                    var ld = $(row[labInt]).text().trim();\n                    var rd = new Array();\n                    rd[0] = ld;\n                    if (d != undefined) {\n                        d = d.replace(/\\,/g, '');\n                    }\n                    rd[1] = parseInt(d);\n                    data.push(rd);\n                }\n                cdata.data.columns = data;\n\n            }\n            ;\n            _initJson($parent, cdata);\n            var chart = c3.generate(cdata);\n        });\n    }\n\n    module.exports =  {\n        initPieChart : _initPieChart,\n        initLineGraph : _initLineGraph,\n        initBarChart : _initBarChart,\n        initAreaGraph : _initAreaGraph,\n        initGaugeChart : _initGaugeChart,\n        main : function() {\n            _initPieChart();\n            _initLineGraph();\n            _initBarChart;\n            _initAreaGraph();\n            _initGaugeChart();\n        }\n    }\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.c3graph.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.c3graphsupport.js":
/*!***************************************************!*\
  !*** ./src/main/webapp/js/tdar.c3graphsupport.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {/**\n * tdar.c3graphsupport\n */\n\nconst core = __webpack_require__(/*! ./tdar.core */ \"./src/main/webapp/js/tdar.core.js\");\n\n    var _resourceBarGraphClick = function(d, element) {\n        var $parent = $(\"#resourceBarGraph\");\n        var source = JSON.parse($($parent.data(\"source\")).html());\n        var uri = \"/search/results?resourceTypes=\" + source[d.x].key;\n        window.location.href = _getClickPath(uri);\n    }\n\n    /**\n     * gets the baseUri for clicking... needs to be 'overridable' because of the www.tdar.org calls\n     */\n    var _getClickPath = function(uri) {\n        var clickPath = $(\"#clickPath[href]\");\n        if (clickPath != undefined && clickPath.length > 0) {\n            uri = clickPath.attr('href') + uri;\n        } else {\n            uri = core.uri( uri );\n        }\n        return uri;\n    }\n        \n    var _dashboardResourcePieChartClick = function(d, element) {\n        var $parent = $(\"#resourceTypeChart\");\n        var source = JSON.parse($($parent.data(\"columns\")).html());\n        window.location.href = core.uri(\"/search/results?useSubmitterContext=true&types=RESOURCE&resourceTypes=\" + source[d.index][2]);\n    }\n\n    var _dashboardStatusPieChartClick = function(d, element) {\n        var $parent = $(\"#statusChart\");\n        var source = JSON.parse($($parent.data(\"columns\")).html());\n        window.location.href = core.uri( \"/search/results?useSubmitterContext=true&types=RESOURCE&status=\" + source[d.index][2]);\n    }\n    \n    module.exports =  {\n        resourceBarGraphClick : _resourceBarGraphClick,\n        dashboardStatusPieChartClick : _dashboardStatusPieChartClick,\n        dashboardResourcePieChartClick : _dashboardResourcePieChartClick,\n        getClickPath : _getClickPath\n    }\n    \n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.c3graphsupport.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.common.js":
/*!*******************************************!*\
  !*** ./src/main/webapp/js/tdar.common.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(jQuery, $) {/*\n * $Id$\n * \n * Common JS functions used in tDAR (with dependency on JQuery).  \n * Mostly have to do with adding new rows for multi-valued fields, etc.\n */\n\nconst core = __webpack_require__(/*! ./tdar.core.js */ \"./src/main/webapp/js/tdar.core.js\");\n//const common = require(\"./tdar._js\");\nconst tmpl = __webpack_require__(/*! blueimp-tmpl */ \"./node_modules/blueimp-tmpl/js/tmpl.js\");//require('script-loader!blueimp-tmpl/js/tmpl.js')\nconst repeatrow = __webpack_require__(/*! ./tdar.repeatrow */ \"./src/main/webapp/js/tdar.repeatrow.js\");\nconst autocomplete = __webpack_require__(/*! ./tdar.autocomplete */ \"./src/main/webapp/js/tdar.autocomplete.js\");\nconst contexthelp = __webpack_require__(/*! ./tdar.contexthelp */ \"./src/main/webapp/js/tdar.contexthelp.js\");\nconst inheritance = __webpack_require__(/*! ./tdar.inheritance */ \"./src/main/webapp/js/tdar.inheritance.js\");\n\n__webpack_require__(/*! imports-loader?this=>window!./../includes/modernizr-custom-2.6.2.min.js */ \"./node_modules/imports-loader/index.js?this=>window!./src/main/webapp/includes/modernizr-custom-2.6.2.min.js\");\n\n//Various jQuery plugins\n__webpack_require__(/*! ./../includes/jquery-ui-1.11.4.custom/jquery-ui */ \"./src/main/webapp/includes/jquery-ui-1.11.4.custom/jquery-ui.js\");\n__webpack_require__(/*! ./../includes/jquery.watermark.js */ \"./src/main/webapp/includes/jquery.watermark.js\");\n__webpack_require__(/*! ./../includes/jquery-treeview/jquery.treeview.js */ \"./src/main/webapp/includes/jquery-treeview/jquery.treeview.js\");\n__webpack_require__(/*! ../includes/jquery-treeview/jquery.treeview.css */ \"./src/main/webapp/includes/jquery-treeview/jquery.treeview.css\");\n__webpack_require__(/*! ./../includes/jquery.cookie.js */ \"./src/main/webapp/includes/jquery.cookie.js\");\n__webpack_require__(/*! ./jquery.FormNavigate */ \"./src/main/webapp/js/jquery.FormNavigate.js\");\n__webpack_require__(/*! ./../includes/jquery.textarearesizer.js */ \"./src/main/webapp/includes/jquery.textarearesizer.js\");\n__webpack_require__(/*! ./../includes/jquery.populate.js */ \"./src/main/webapp/includes/jquery.populate.js\");\n__webpack_require__(/*! ./../includes/jquery.tabby-0.12.js */ \"./src/main/webapp/includes/jquery.tabby-0.12.js\");\n__webpack_require__(/*! ./../includes/bootstrap-2.32/js/bootstrap.js */ \"./src/main/webapp/includes/bootstrap-2.32/js/bootstrap.js\")\n\n\njQuery.extend({\n    /**\n     * Compare two arrays. return true if A and B contain same elements\n     *\n     * @param arrayA\n     * @param arrayB\n     * @param ignoreOrder if true, ignore order of the array contents (optional: default true)\n     * @returns {boolean} true if equal, otherwise false.\n     */\n    compareArray: function (arrayA, arrayB, ignoreOrder) {\n        //FIXME: break this into two functions (no bool args!)\n        //FIXME: no need to extend jquery, just add to _\n        if (arrayA.length !== arrayB.length) {\n            return false;\n        }\n        // ignore order by default\n        if (typeof ignoreOrder === 'undefined') {\n            ignoreOrder = true;\n        }\n        var a = arrayA.concat(), b = arrayB.concat();\n        if (ignoreOrder) {\n            a.sort();\n            b.sort();\n        }\n        for (var i = 0, l = a.length; i < l; i++) {\n            if (a[i] != b[i]) {\n                return false;\n            }\n        }\n        return true;\n    }\n});\n\n/**\n * trying to move these functions out of global scope and apply strict parsing.\n */\n\n    var self = {};\n\n\n    /**\n     * Specify the target element for any adhoc child windows spawned from the current page.\n     *\n     * Some forms fields allow the user to create a new resource in a child window.  This function allows caller to\n     * specify the element on the parent window. When the user completes the child form,  the tdar will update\n     * the target form field with the ID/name of the resource that the user created in the child window.\n     *\n     * @param elem  context root\n     * @param selector  jqselector which contains the target (optional: default \"div\")\n     */\n    var _setAdhocTarget = function (elem, selector) {\n        var _selector = selector;\n        if (!_selector) {\n            selector = \"div\";\n        }\n        var adhocTarget = $(elem).closest(_selector);\n        $('body').data(\"adhocTarget\", adhocTarget);\n        //expose target for use by child window\n        _adhocTarget = adhocTarget;\n        //return false;\n    }\n\n    /**\n     * Populate a coding sheet / ontology field (aka the adhoctarget) with the id/name of the object created via the\n     * child page.\n     *\n     * Note: tdar cannot handle multiple, simultaneous adhoc child windows (though this is unlikely to happen)\n     *\n     * @param obj jsobject with id + title properties\n     *\n     */\n    var _populateTarget = function (obj) {\n        var $body = $(\"body\");\n        var adhocTarget = $body.data(\"adhocTarget\");\n        if (typeof(adhocTarget) == 'undefined') {\n            return;\n        }\n\n        $('input[type=hidden]', adhocTarget).val(obj.id);\n        $('input[type=text]', adhocTarget).val(obj.title);\n        $body.removeData(\"adhocTarget\");\n        _adhocTarget = null;\n    }\n\n    // FIXME: refactor.  needs better name and it looks brittle\n    /**\n     * Return a sort function that alphabetically sorts an object w/ specified property name.\n     * @param property  name of the property in an object to evaluate when comparing two objects.\n     * @param caseSensitive  true if the sort function should be case sensitive (optional: default false)\n     * @returns {Function} function for use with Array.sort()\n     * @private\n     */\n    var _dynamicSort = function (property, caseSensitive) {\n        return function (a, b) {\n            if (caseSensitive == undefined || caseSensitive == false) {\n                return (a[property].toLowerCase() < b[property].toLowerCase()) ? -1 : (a[property].toLowerCase() > b[property].toLowerCase()) ? 1 : 0;\n            } else {\n                return (a[property] < b[property]) ? -1 : (a[property] > b[property]) ? 1 : 0;\n            }\n        };\n    }\n\n    /**\n     * Not implemented  TDAR-3495\n     * @private\n     */\n    var _sortFilesAlphabetically = function () {\n        //FIXME:  implement this and migrate to fileupload\n    }\n\n    \n    /**\n     * Update display of copyright licenses section when the radio button selection changes\n     * @private\n     */\n    var _toggleLicense = function () {\n        $(\"#license_section input[type='radio']\").each(function (index) {\n                    // show or hide the row depending on whether the corresponding radio button is checked\n                    var $this = $(this);\n                    var license_type_name = $this.val();\n                    var license_details_reference = \"#license_details_\" + license_type_name;\n                    var license_details = $(license_details_reference);\n                    var $licenseText = $('#licenseText');\n                    if ($this.is(\":checked\")) {\n                        license_details.removeClass('hidden');\n                    } else {\n                        license_details.addClass('hidden');\n                    }\n                    if (!$licenseText.is(':hidden')) {\n                        $licenseText.addClass(\"required\");\n                    } else {\n                        $licenseText.removeClass(\"required\");\n                    }\n                });\n    }\n\n    /**\n     * Initialize an unordered list element (with .tdar-treeview class) so that it renders as a \"tree view\" control\n     */\n    var _applyTreeviews = function () {\n        //console.debug(\"applying tdar-treeviews v3\");\n        var $treeviews = $(\".tdar-treeview\");\n        $treeviews.treeview({\n            collapsed: true\n        });\n        // expand ancestors if any children are selected\n        $treeviews.find(\"input:checked\").parentsUntil(\".treeview\", \"li\").find(\"> .hitarea\").trigger(\"click\");\n    };\n\n    /**\n     * re-enable buttons disabled by submitButtonStartWait()\n     * @private\n     */\n    var _submitButtonStopWait = function () {\n        var $submitDivs = $('#editFormActions, #fakeSubmitDiv');\n        var $buttons = $submitDivs.find(\".submittableButtons\");\n        $buttons.prop(\"disabled\", false);\n\n        //fade in the wait icon\n        $submitDivs.find(\".waitingSpinner\").hide();\n    }\n\n    /**\n     * Suppress the browser's default behavior of submitting the current form when user presses RETURN while a text-input has focus.  User can still submit\n     * via keypress when focussed on a submit button.\n     *\n     * @param $form jQuery selection containing the form that will suppress keypress submissions.\n     */\n    var _suppressKeypressFormSubmissions = function($form) {\n        /* phantomjs does not suppport KeyEvents */\n        /* istanbul ignore next */\n        $form.find('input,select').keypress(function (event) {\n            if(event.keyCode === $.ui.keyCode.ENTER) {\n                event.preventDefault();\n                return false;\n            }\n        });\n    };\n\n    /**\n     * Perform initialization and setup for a typical elements and functionality of a tdar \"edit page\".  This does not\n     * include initialization tasks for specific edit pages with unique functionality.\n     *\n     * @param form the form to initialize\n     * @private\n     */\n    var _initEditPage = function (form, props) {\n\n        if (props == undefined) {\n            props = {};\n        }\n        //FIXME: other init stuff that is separate function for some reason \n        var $form = $(form);\n        //fun fact: because we have a form field named \"ID\",  form.id actually refers to this DOM element,  not the ID attribute of the form.\n        var formid = $form.attr(\"id\");\n        \n\n        //information needed re: existing file uploads - needed by TDAR.upload library\n\n        if (props.multipleUpload) {\n            //init fileupload\n            var id = $('input[name=id]').val();\n            if (props.ableToUpload && props.multipleUpload) {\n//                fileupload.registerUpload({\n//                    informationResourceId: id,\n//                    acceptFileTypes: props.acceptFileTypes,\n//                    formSelector: props.formSelector,\n//                    inputSelector: '#fileAsyncUpload',\n//                    fileuploadSelector: '#divFileUpload'\n//                });\n\n            }\n        }\n\n\n        //Multi-submit prevention disables submit button, so it will be disabled if we get here via back button. So we explicitly enable it.\n        _submitButtonStopWait();\n\n        $(\"#fakeSubmitButton\").click(function () {\n            $(\"#submitButton\").click();\n        });\n\n        $(\"#subnavbar .nav a\").click(function () {\n            $($(this).attr('href')).animate({\n                backgroundColor: \"#ffffee\"\n            }, 200).animate({\n                backgroundColor: \"transparent\"\n            }, 400);\n            return true;\n        });\n\n        //init repeatrows\n        repeatrow.registerRepeatable(\".repeatLastRow\");\n\n        //init person/institution buttons\n        $(\".creatorProxyTable\").on(\"click\", '.creator-toggle-button', function (event) {\n            var $this = $(this);\n            var $top = $this.closest(\".repeat-row\");\n            if ($top == undefined) {\n                $top = $this.closest(\".control-group\");\n            }\n            var $toggle = $(\".creator-toggle-button input:hidden\", $this);\n            if ($(event.target).hasClass(\"personButton\")) {\n                $(\".creatorPerson\", $top).removeClass(\"hidden\");\n                $(\".creatorInstitution\", $top).removeClass(\"hidden\").addClass(\"hidden\");\n                $toggle.val(\"PERSON\");\n            } else {\n                $(\".creatorPerson\", $top).removeClass(\"hidden\").addClass(\"hidden\");\n                $(\".creatorInstitution\", $top).removeClass(\"hidden\");\n                $toggle.val(\"INSTITUTION\");\n            }\n        });\n\n        //wire up autocompletes\n        autocomplete.delegateCreator(\"#authorshipTable\", false, true);\n        autocomplete.delegateCreator(\"#creditTable\", false, true);\n        autocomplete.delegateCreator(\"#divAccessRights\", true, false);\n        autocomplete.delegateCreator(\"#divSubmitter\", true, false);\n        autocomplete.delegateCreator(\"#copyrightHolderTable\", false, true);\n        autocomplete.delegateAnnotationKey(\"#resourceAnnotationsTable\", \"annotation\", \"annotationkey\");\n        autocomplete.delegateKeyword(\"#siteNameKeywordsRepeatable\", \"sitename\", \"SiteNameKeyword\");\n        autocomplete.delegateKeyword(\"#uncontrolledSiteTypeKeywordsRepeatable\", \"siteType\", \"SiteTypeKeyword\");\n        autocomplete.delegateKeyword(\"#uncontrolledCultureKeywordsRepeatable\", \"culture\", \"CultureKeyword\");\n        autocomplete.delegateKeyword(\"#uncontrolledMaterialKeywordsRepeatable\", \"material\", \"MaterialKeyword\");\n        autocomplete.delegateKeyword(\"#temporalKeywordsRepeatable\", \"temporal\", \"TemporalKeyword\");\n        autocomplete.delegateKeyword(\"#otherKeywordsRepeatable\", \"other\", \"OtherKeyword\");\n        autocomplete.delegateKeyword(\"#geographicKeywordsRepeatable\", \"geographic\", \"GeographicKeyword\");\n        autocomplete.applyInstitutionAutocomplete($('#txtResourceProviderInstitution'), true);\n        autocomplete.applyInstitutionAutocomplete($('#publisher'), true);\n        $('#resourceCollectionTable').on(\"focus\", \".collectionAutoComplete\", function () {\n            autocomplete.applyCollectionAutocomplete($(this), {showCreate: true, showCreatePhrase: \"Create a new collection\"}, {permission: \"ADD_TO_COLLECTION\"});\n        });\n\n        $('#sharesTable').on(\"focus\", \".collectionAutoComplete\", function () {\n        \tconsole.debug(\"Applying collection autocomplete to \",$(this));\n            autocomplete.applyCollectionAutocomplete($(this), {showCreate: true, showCreatePhrase: \"Create a new collection\"}, {permission: \"ADD_TO_COLLECTION\"});\n        });\n\n        // prevent \"enter\" from submitting\n        _suppressKeypressFormSubmissions($form);\n\n        //init sortables\n        //FIXME: sortables currently broken \n        $(\".alphasort\").click(_sortFilesAlphabetically);\n\n        //ahad: toggle license\n        $(\".licenseRadio\", $(\"#license_section\")).change(_toggleLicense);\n\n        //Refresh any scrollspies whenever document height changes.\n        $('[data-spy=\"scroll\"]').each(function () {\n            var $scrollspy = $(this);\n\n            $(document).bind(\"repeatrowadded repeatrowdeleted heightchange\", function () {\n                //console.debug(\"resizing scrollspy\");\n                $scrollspy.scrollspy(\"refresh\");\n            });\n        });\n\n        contexthelp.initializeTooltipContent(form);\n        _applyWatermarks(form);\n\n        // prevent \"enter\" from submitting\n        $form.on('keypress', 'input,select', function (event) {\n            var elem = this;\n            if(event.keyCode != 13) {return true;}\n\n            //don't ignore ENTER key in a leaflet geocoder control\n            return $(elem).closest('.leaflet-control-geocoder').length > 0;\n        });\n\n        //prepwork prior to form submit (trimming fields)\n        $form.submit(function (f) {\n            try {\n                $.each($('.date, .number, .trim, .keywordAutocomplete'), function (idx, elem) {\n                    if ($(elem).val() !== undefined) {\n                        $(elem).val($.trim($(elem).val()));\n                    }\n                });\n            } catch (err) {\n                console.error(\"unable to trim:\" + err);\n            }\n\n            var $button = $('input[type=submit]', f);\n            $button.siblings(\".waitingSpinner\").show();\n\n            //warn user about leaving before saving\n            $(\"#jserror\").val(\"\");\n            return true;\n        });\n\n\n\n        Modernizr.addTest('cssresize', Modernizr.testAllProps('resize'));\n\n        //http://caniuse.com/#feat=css-resize\n        if (!Modernizr.cssresize) {\n            $('textarea.resizable:not(.processed)').TextAreaResizer();\n        }\n\n        _showAccessRightsLinkIfNeeded();\n        $('.fileProxyConfidential').change(_showAccessRightsLinkIfNeeded);\n\n        //FIXME: idea is nice, but default options produce more annoying UI than original browser treatment of 'title' attribute. also, bootstrap docs\n        //       tell you how to delegate to selectors but I couldn't figure it out.\n        //$(form).find('label[title]').tooltip();\n\n        if ($('#explicitCoordinatesDiv').length > 0) {\n            $('#explicitCoordinatesDiv').toggle($('#viewCoordinatesCheckbox')[0].checked);\n\n        }\n        $(\".latLong\").each(function (index, value) {\n            $(this).hide();\n            //copy value of hidden original to the visible text input\n            var id = $(this).attr('id');\n            $('#d_' + id).val($('#' + id).val());\n        });\n\n        $(\"#jserror\").val(\"SAVE\");\n\n        // delete/clear .repeat-row element and fire event\n        $('#copyrightHolderTable').on(\"click\", \".row-clear\", function (e) {\n            var rowElem = $(this).parents(\".repeat-row\")[0];\n            repeatrow.deleteRow(rowElem);\n        });\n\n        _applyTreeviews();\n\n        //show project preview button when appropriate\n        $('#projectId').change(function () {\n            var $select = $(this);\n            var $row = $select.closest('.controls-row');\n            $('.view-project', $row).remove();\n            if ($select.val().length > 0 && $select.val() !== \"-1\") {\n                var href = core.uri('project/' + $select.val());\n                var $button = '<a class=\"view-project btn btn-small\" target=\"_project\" href=\"' + href + '\">View project in new window</a>';\n                $row.append($button);\n            }\n        }).change();\n\n        //Display status messages during ajax requests.\n        _registerAjaxStatusContainer();\n\n\n        if (props.includeInheritance) {\n            inheritance.applyInheritance(props.formSelector);\n        }\n\n\n        $(\"#fileUploadField\").each(function(){\n            var $fileUploadField = $(this);\n            var _updateReminderVisibility = function() {\n                if ($fileUploadField.val().length) {\n                    $(\"#reminder\").hide();\n                }\n            };\n            $fileUploadField.change(_updateReminderVisibility);\n            _updateReminderVisibility();\n        });\n\n        inheritance.registerClearSectionButtons(form);\n        _initFormNavigate(form);\n    };\n\n    \n    /**\n    * setup basic form navigate warning\n    */\n    var _initFormNavigate = function(form) {\n        // I should be \"last\", to avoid accidentally marking the form dirty before the user has done anything.\n        $(form).not('.disableFormNavigate').FormNavigate({\n            message: \"Leaving the page will cause any unsaved data to be lost!\",\n            customEvents: \"repeatrowdeleted fileuploadstarted\",\n            cleanOnSubmit: false\n        });\n    }\n    \n    \n    /**\n     * Perform initialization tasks for a typical tdar \"view\" page. Elements and functionality that are unique to a\n     * specific page are not addressed by this funtion.\n     */\n    var _initializeView = function () {\n        //console.debug('initialize view');\n        var $divSearchContext = $(\"#divSearchContext\");\n\n        if ($divSearchContext.length === 1) {\n            $(\".searchbox\").focus(function () {\n                $divSearchContext.addClass(\"active\");\n            }).blur(function () {\n                //$divSearchContext.removeClass(\"active\");\n            });\n        }\n    };\n    \n    /**\n     * For the permissions view, it attaches the collections auto completes. \n     */\n    var _initRightsPage = function(){\n        $('#sharesTable').on(\"focus\", \".collectionAutoComplete\", function () {\n        \tconsole.debug(\"Applying collection autocomplete to \",$(this));\n            autocomplete.applyCollectionAutocomplete($(this), {showCreate: true, showCreatePhrase: \"Create a new collection\"}, {permission: \"ADD_TO_SHARE\"});\n        });\n    }\n    \n\n    /**\n     * Custom  ajax filter (enable by calling $.ajaxPrefilter(_customAjaxPrefilter). JQuery executes this prefilter\n     * prior to any ajax call.\n     *\n     * @param options  options for the current request (including jquery defaults)\n     * @param originalOptions options passed to $.ajax()  by the caller, without defaults.\n     * @param $xhr  jquery xmlHttpRequest object\n     * @private\n     */\n    var _statusContainerAjaxPrefilter = function(options, originalOptions, $xhr) {\n        var hdlTimeout = 0;\n        var $container, $message, $label;\n        var defaults = {\n            enabled: true,                      // Show status messages for this request\n            selector:       '#ajaxIndicator',\n            fadeInDelay:    'fast',\n            fadeOutDelay:   1 * 1000,\n            timeout:        20 * 1000,          // Hide message after specified timeout -  does not cancel the ajax request (0 for no timeout)\n            label:          \"Loading\",\n            waitMessage:    \"...\",\n            doneMessage:    \"...complete\",\n            failMessage:    \"...failed\",\n            timeoutMessage: \"request timed out\"\n        };\n\n        var settings = $.extend({}, defaults, options);\n        if(settings.enabled) {\n            $container = $(settings.selector);\n            $label = $container.find(\"strong\");\n            $message = $container.find(\"span\");\n            $label.text(settings.label);\n\n            //Initial message\n            $message.text(settings.waitMessage);\n            $container.fadeIn(settings.fadeInDelay);\n\n            //success message\n            $xhr.done(function(){\n                $message.text(settings.doneMessage);\n            });\n\n            //error message\n            $xhr.fail(function() {\n                $message.text(settings.failMessage);\n            });\n\n            //Fade out after success/failure\n            $xhr.always(function(){\n                $container.fadeOut(settings.fadeOutDelay);\n                clearTimeout(hdlTimeout);\n            });\n\n            //Fade out after timeout, if specified.\n            if(settings.timeout) {\n                hdlTimeout = setTimeout(function () {\n                    $container.fadeOut(settings.fadeOutDelay);\n                }, settings.timeout);\n            }\n        }\n    };\n\n    /**\n     * Register event listener that displays generic wait message for ajax requests. If the ajaxOptions property\n     * of the event contain a \"waitmessage\" property, display that messages, otherwise the function displays \"Loading\"\n     * while the request is in flight, and \"Done\" after the request is complete.\n     */\n    var _registerAjaxStatusContainer = function () {\n        $.ajaxPrefilter(_statusContainerAjaxPrefilter);\n    };\n\n    /**\n     * Return html-encoded copy of provided string\n     * @param value string to encode\n     * @returns {*} html-encoded copy of the provided string (e.g. htmleEncode('you & me') == \"&amp;\")\n     */\n    var _htmlEncode = function (value) {\n        if (value == undefined || value == '') {\n            return \"\";\n        }\n        return $('<div/>').text(value).html();\n        // older vesrion\n        //      if (typeof value === \"undefined\" || str === '') return \"\";\n        //            return $('<div></div>').text(str).html();\n    }\n\n    /**\n     * Return string that has been html-encoded twice\n     * @param value string to encode\n     * @returns {*} double-encoded copy of string (e.g. htmlDoubleEncode('you & me') == \"you &amp;amp; me\")\n     * @private\n     */\n    var _htmlDoubleEncode = function (value) {\n        return _htmlEncode(_htmlEncode(value));\n    }\n\n    /**\n     * Based on specified window size, return a string label a responsive \"profile\" title.\n     * @param width size(px) of a window\n     * @returns {string} best-fit profile title for specified width\n     * @private\n     */\n    var _determineResponsiveClass = function (width) {\n        return width > 1200 ? 'responsive-large-desktop' : width > 979 ? 'responsive-desktop' : width > 767 ? 'responsive-tablet' : width > 500 ? 'responsive-phone' : width > 1 ? 'responsive-phone-portrait' : '';\n    }\n\n    /**\n     *  apply watermark input tags in context with watermark attribute.   'context' can be any valid\n     *  argument to jQuery(selector[, context])\n     * @param context\n     * @private\n     */\n    var _applyWatermarks = function (context) {\n        if (!Modernizr.input.placeholder) {\n            $(\"input[placeholder]\", context).each(function () {\n                //todo: see if its any faster to do direct call to attr, e.g. this.attributes[\"watermark\"].value\n                $(this).watermark($(this).attr(\"placeholder\"));\n            });\n        }\n    }\n\n    /**\n     * Show the access rights reminder if any files are marked as confidential or if\n     * the resource is embargoed\n     * @private\n     */\n    var _showAccessRightsLinkIfNeeded = function () {\n        if ($(\".fileProxyConfidential\").filter(function (index) {\n            return $(this).val() != \"PUBLIC\";\n        }).length > 0) {\n            $('#divConfidentialAccessReminder').removeClass(\"hidden\");\n        } else {\n            $('#divConfidentialAccessReminder').addClass(\"hidden\");\n        }\n    }\n\n    /**\n     * return a decoded string of  the specified html-encoded text\n     * @param value html-encoded string\n     * @returns {string} decoded version of argument\n     */\n    var _htmlDecode = function (value) {\n        if (value == undefined || value == '') {\n            return \"\";\n        }\n        return $('<div/>').html(value).text();\n    }\n\n    // http://stackoverflow.com/questions/1038746/equivalent-of-string-format-in-jquery\n    /**\n     * Simple string format function.\n     * @param {string} format string. e.g.\n     * @param {...string} replacements.\n     * @returns {*} string containing replacements (if provided).  for example,\n     *              sprintf(\"{0} {0} {0} your {1}, gently down the stream\", \"row\", \"boat\");\n     */\n    var _sprintf = function () {\n        var s = arguments[0];\n        for (var i = 0; i < arguments.length - 1; i++) {\n            var reg = new RegExp(\"\\\\{\" + i + \"\\\\}\", \"gm\");\n            s = s.replace(reg, arguments[i + 1]);\n        }\n        return s;\n    }\n\n    /**\n     * After certain amount of time,  display a dialog indicating that the users session has expired, then direct\n     * the window to the login page.\n     */\n    var _sessionTimeoutWarning = function () {\n        // I RUN ONCE A MINUTE\n        // sessionTimeout in seconds\n        var $doc =  $(document);\n        var sessionTimeout = $doc.data(\"sessionTimeout\");\n        var currentTime = $doc.data(\"currentTime\");\n        if (parseInt(currentTime)) {\n            currentTime += 60;\n            $doc.data(\"currentTime\",currentTime);\n            var remainingTime = sessionTimeout - currentTime;\n            if (remainingTime % 300 == 0) {\n                console.log(\"remaining time in session:\" + remainingTime);\n            }\n            if (remainingTime == 300) {\n                var dialog = $('<div id=timeoutDialog></div>').html(\"<B>Warning!</B><br/>Your session will timeout in 5 minutes, please save the document you're currently working on\").dialog({\n                            modal: true,\n                            title: \"Session Timeout Warning\",\n                            closeText: \"Ok\",\n                            buttons: {\n                                \"Ok\": function () {\n                                    $(this).dialog(\"close\");\n                                }\n                            }\n                        });\n            }\n            if ($(\"#timeoutDialog\").length != 0 && remainingTime <= 0) {\n                $(\"#timeoutDialog\").html(\"<B>WARNING!</B><BR>Your Session has timed out, any pending changes will not be saved\");\n            } else {\n                setTimeout(_sessionTimeoutWarning, 60000);\n            }\n        }\n    }\n\n    /**\n     * specific initialization for the edit page for \"document\" resources\n     */\n    var _setupDocumentEditForm = function () {\n        $(\".doctype input[type=radio]\").click(function () {\n            _switchDocType(this);\n        });\n        _switchDocType($(\".doctype input[type=radio]:checked\"));\n    }\n\n    //FIXME: refactor/dedupe switchType (TDAR-3989)\n    /**\n     * Toggle the display of certain elements based on the value of a specified radio button.\n     *\n     * This function shows .typeToggle elements that also have css class which matches the radio's value, and hides all other .typeToggle elements.\n     *\n     * @param radio element/selector\n     * @param container element/selector. Context for .typeToggle search.\n     */\n    var _switchType = function (radio, container) {\n    \tconsole.debug(\"Called _switchType\");\n        var val = $(radio).val();\n        var type = (typeof val !== 'undefined') ? val.toLowerCase() : \"SWITCHTYPEDEFAULT\";\n        type = \".\" + type;\n\n        //console.debug('switchType:start:' + type);\n        var $container = $(container);\n        $container.find(\".typeToggle\").hide();\n        $container.find(type).show();\n    }\n\n    //FIXME: can switchType and switchDocType be refactored? at very least they need better names (TDAR-3989)\n    /**\n     * Similar to switchType, but this (i think)) swaps out labels and descriptions for inputs that are re-used by\n     * multiple document types.\n     *\n     * @param el doctype select element\n     * @private\n     */\n    var _switchDocType = function (el) {\n        var doctype = $(el).val().toLowerCase();\n\n        //console.debug('switchType:start:' + doctype);\n        var $citeInfo = $(\"#citationInformation\");\n        $(\".doctypeToggle\", $citeInfo).hide();\n        $($(\".\" + doctype), $citeInfo).show();\n\n        _switchLabel($(\"#publisher-hints\"), doctype);\n        _switchLabel($(\"#publisherLocation-hints\"), doctype);\n        \n        _clearHiddenFields();\n    }\n    \n    \n    /**\n     * When the document type is changed, the hidden fields backing it need to clear, otherwise they get saved. \n     * \n     */\n    var _clearHiddenFields = function(){\n    \t$(\".doctypeToggle:hidden input\").each(function(){\n    \t\tvar el = $(this);\n    \t\tif($(this).attr(\"type\")==\"radio\"){\n    \t\t\t$(this).attr(\"checked\",false);\n    \t\t}\n    \t\telse{\n    \t\t\t$(this).val(\"\");\n    \t\t}\n\t\t}\n    \t);\n    }\n    \n\n    /**\n     * specific setup for initializing \"supporting resoure\" edit forms.\n     * @param totalNumberOfFiles total number of flies that can be associated with the resource\n     * @param rtype resource type name\n     * @private\n     */\n    var _setupSupportingResourceForm = function (totalNumberOfFiles, rtype) {\n        // the ontology textarea or file upload field is required whenever it is\n        // visible AND\n        // no ontology rules are already present from a previous upload\n\n        _refreshInputDisplay();\n    }\n\n    /**\n     * emit \"file downloaded\" google analytics event\n     * @param url\n     * @param tdarId\n     * @private\n     */\n    var _registerDownload = function (url, tdarId) {\n        if (tdarId) {\n            ga(\"send\" , \"event\", \"download\", \"download\",  url, tdarId);\n        } else {\n            ga(\"send\", \"event\", \"download\", \"download\", url);\n        }\n    };\n\n    /**\n     * emit \"file downloaded\" google analytics event\n     * @param url\n     * @param tdarId\n     * @private\n     */\n    var _registerShare = function (service, url, tdarId) {\n        if (tdarId) {\n            ga(\"send\", \"event\", service, \"shared\", url, tdarId);\n        } else {\n            ga(\"send\", \"event\", service, \"shared\", url);\n        }\n    };\n\n    /**\n     * emit \"outbound link clicked\" event.\n     * @param elem\n     * @private\n     */\n    var _outboundLink = function (elem) {\n        ga(\"send\", \"event\", \"outboundLink\", \"clicked\", elem.href);\n    }\n\n    /**\n     * for use in edit-column-metadata:  event handler for subcategoroy change event.\n     * @param categoryIdSelect\n     * @param subCategoryIdSelect\n     * @private\n     */\n    var _changeSubcategory = function (categoryIdSelect, subCategoryIdSelect) {\n        var $categoryIdSelect = $(categoryIdSelect);\n        var $subCategoryIdSelect = $(subCategoryIdSelect);\n        $subCategoryIdSelect.empty();\n        $categoryIdSelect.siblings(\".waitingSpinner\").show();\n        $.get(core.uri() + \"api/resource/column-metadata-subcategories\", {\n            \"categoryVariableId\": $categoryIdSelect.val()\n        }, function (data, textStatus) {\n            var result = \"\";\n            for (var i = 0; i < data.length; i++) {\n                if (parseInt(data[i]['id']) > -1) {\n                    result += \"<option value=\\\"\" + data[i]['id'] + \"\\\">\" + data[i]['label'] + \"</option>\\n\";\n                }\n            }\n\n            $categoryIdSelect.siblings(\".waitingSpinner\").hide();\n            $subCategoryIdSelect.html(result);\n        });\n    }\n\n    /**\n     * Used by ontology and coding-sheet edit pages; show relevant fields based on users choice of \"manual text entry\"\n     * or \"file upload\"\n     */\n    var _refreshInputDisplay = function () {\n        var selectedInputMethod = $('#inputMethodId').val();\n        var showUploadDiv = (selectedInputMethod == 'file');\n        $('#uploadFileDiv').toggle(showUploadDiv);\n        $('#textInputDiv').toggle(!showUploadDiv);\n    }\n\n    /**\n     * document edit page: expand those nodes where children are selected\n     * @param field\n     * @param type\n     * @private\n     */\n    function _switchLabel(field, type) {\n        var $field =  $(field);\n        var $fieldId = \"#\" + $(field).attr(\"id\");\n        var label =  $fieldId + '-label';\n        var $label = $(label);\n        var $labelByName = $(\"label\",$fieldId);\n        if (($label == undefined || $label.length == 0) && ($labelByName != undefined && $labelByName.length != 0)) {\n            $label = $labelByName;\n        }\n        \n        if ($field.attr(type) != undefined && $label != undefined) {\n            $label.text($field.attr(type));\n        }\n    }\n\n    //FIXME: this doesn't need to be it's own function.\n    /**\n     * event handler that toggles manual coordinate entry\n     * @param elem\n     * @private\n     */\n    function _coordinatesCheckboxClicked(elem) {\n        $('#explicitCoordinatesDiv').toggle(elem.checked);\n    }\n\n    /**\n     * Render list of user's collections as a treeview.\n     * @private\n     */\n    var _collectionTreeview = function () {\n        $(\".collection-treeview\").find(\".hidden\").removeClass(\"hidden\").end().treeview({collapsed:true});\n    }\n\n    /**\n     * Format number w/ comma grouping. If num is fractional, display fractional to two places.\n     * @param num\n     * @returns {string}\n     */\n    function _formatNumber(num) {\n        var numparts = Math.floor(num).toString().split('.');\n        var r = num % 1;\n        var str = numparts[0].split('').reverse().join('').replace(/(\\d{3})\\B/g, '$1,').split('').reverse().join('');\n        str += numparts[1] ? '.'  + numparts[1] : '';\n\n        if(r > 0) {\n            str += '.' + r.toFixed(2).replace('0.', '');\n        }\n\n\n        return str;\n    }\n\n\n    /**\n     * return string that describes size of specified bytes in easier syntax\n     * @param bytes  size in bytes\n     * @param si true if description should be in SI units (e.g. kilobyte, megabyte) vs. IEC (e.g. kibibyte, mebibyte)\n     * @returns {string} size as human readable equivalent of specified bytecount\n     */\n    function _humanFileSize(bytes) {\n        var thresh = 1000;\n        if (bytes < thresh) {\n            return bytes + ' B';\n        }\n        //jtd: IEC names would be less ambiguous, but JEDEC names are more consistent with what we show elsewhere on the site\n        //var units = si ? ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'] : ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB'];\n        var units = ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n        var u = -1;\n        do {\n            bytes /= thresh;\n            ++u;\n        } while (bytes >= thresh);\n        return bytes.toFixed(1) + ' ' + units[u];\n    };\n\n\n    /**\n     * Initialize bootstrap galleries that have .image-carousel class.  Bootstrap Gallery typically \n     * doesn't require initialization, but we do extra stuff such as lazy-loading of thumbnails for \n     * big lists, and binding of analytics events.\n     * @private\n     */ \n    function _initImageGallery() {\n        //init bootstrap image gallery (if found)\n        $(\".image-carousel\").each(function(idx, divGallery) {\n            //for big galleries, defer the loading of thumbnails that can't be seen yet\n            $(divGallery).find(\".thumbnailLink[data-src]\").each(function(idx, elem){\n                elem.src = $(elem).data(\"src\");\n            });\n        })\n\n        $(\".thumbnailLink\").click(function () {\n            var $this = $(this);\n            $(\"#bigImage\").attr('src', $this.data('url'));\n            var rights = \"\";\n            if ($this.data(\"access-rights\")) {\n                rights = \"This file is <em>\" + $this.data(\"access-rights\") + \"</em>, but you have rights to see it\";\n            }\n            $(\"#confidentialLabel\").html(rights);\n            $(\"#downloadText\").html($this.attr('alt'));\n            $(\".thumbnail-border-selected\").removeClass(\"thumbnail-border-selected\");\n            $this.parent().addClass(\"thumbnail-border-selected\");\n        });\n    }\n\n\n    // TODO: _checkWindowSize is a costly event handler - determine if it's still necessary after upgrading to Bootstrap v3 (TDAR-3295).\n    /**\n     * Assigns css classes to the body tag based on the current width.  These sizes match the bootstrap responsive grid sizes.\n     *\n     *\n     */\n    function _checkWindowSize() {\n        var width = $(window).width()\n        var new_class = _determineResponsiveClass(width);\n        $(document.body).removeClass('responsive-large-desktop responsive-desktop responsive-tablet responsive-phone responsive-phone-portrait').addClass(new_class);\n    }\n\n    /**\n     * Main entrypoint - TDAR.main() will call this function on every pageload.\n     * @private\n     */\n    function _init() {\n        $(function() {\n            $(window).resize(_checkWindowSize).resize();\n            _sessionTimeoutWarning();\n        });\n    }\n\n\n    module.exports = {\n        \"initEditPage\": _initEditPage,\n        \"initRightsPage\" : _initRightsPage,\n        \"applyTreeviews\": _applyTreeviews,\n        \"initializeView\": _initializeView,\n        \"determineResponsiveClass\": _determineResponsiveClass,\n        \"populateTarget\": _populateTarget,\n        \"setAdhocTarget\": _setAdhocTarget,\n        \"changeSubcategory\": _changeSubcategory,\n        \"registerDownload\": _registerDownload,\n        \"registerShare\": _registerShare,\n        \"outboundLink\": _outboundLink,\n        \"setupSupportingResourceForm\": _setupSupportingResourceForm,\n        \"switchType\": _switchType,\n        \"setupDocumentEditForm\": _setupDocumentEditForm,\n        \"sessionTimeoutWarning\": _sessionTimeoutWarning,\n        \"sprintf\": _sprintf,\n        \"htmlDecode\": _htmlDecode,\n        \"htmlEncode\": _htmlEncode,\n        \"htmlDoubleEncode\": _htmlDoubleEncode,\n        \"applyWatermarks\": _applyWatermarks,\n        \"coordinatesCheckboxClicked\": _coordinatesCheckboxClicked,\n        \"refreshInputDisplay\": _refreshInputDisplay,\n        \"maxJavascriptValidationMessages\": 25,\n        \"collectionTreeview\": _collectionTreeview,\n        \"humanFileSize\": _humanFileSize,\n        \"initImageGallery\": _initImageGallery,\n        \"formatNumber\": _formatNumber,\n        \"registerAjaxStatusContainer\": _registerAjaxStatusContainer,\n        \"suppressKeypressFormSubmissions\": _suppressKeypressFormSubmissions,\n        \"initFormNavigate\": _initFormNavigate,\n        \"main\": _init\n    };\n\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\"), __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.common.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.contexthelp.js":
/*!************************************************!*\
  !*** ./src/main/webapp/js/tdar.contexthelp.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {\n    /**\n     * Display contextual help UI for the specified target element.  When displaying help-text, the service will\n     * attempt to display the help-text near the target element without occluding the target element.\n     *\n     * While it can be any element, the expectation is that the target element represents a form field or a form\n     * section. If the user- agent has enough screen space, the context-help appears in the right gutter beside the\n     * target element.  If there is not enough horizontal space,  the context-help will appear as a \"pop-up\"  text box\n     * above the target element -- occluding the elements that appear before the target.\n     *\n     * The content of the helptext is determined by the value of the target element's \"data-tooltipcontent\" attribute.\n     * The value of the attribute can either be the help text to display, or  can specify element id prefixed by\n     * hash e.g.\"#mytooltipdiv\".  If an element ID, this this method will copy the html of the specified elemnent\n     * into the context help UI.  Similarly,the target element can specify a label for the context help by supplying a\n     * 'data-tiplabel' attribute.\n     *\n     * @param targetElem the form field or div described by the help text.\n     */\n    function setToolTipContents(targetElem) {\n        var $targetElem = $(targetElem);\n        var fieldOff = $targetElem.offset();\n        var label;\n        var content;\n\n        // tooltip content can either be in 'data-tooltipcontent' attribute or in a\n        if ($targetElem.data('tooltipcontent')) {\n            content = $targetElem.data('tooltipcontent');\n            // tooltip label can either be in atttribute, otherwise will be set to\n            // the first h2\n            label = $targetElem.data('tiplabel') || \"\";\n            if (label) {\n                label = \"<h2>\" + label + \"</h2>\";\n            }\n            if (content[0] === \"#\") {\n                content = $(content).html();\n            }\n        } else {\n            console.error(\"unable to bind tooltip - no tooltip element or tooltipcontent found\");\n        }\n        var $notice = $(\"#notice:visible\");\n        if ($notice.length > 0) {\n            var noteOff = $notice.offset();\n            $notice.offset({\n                left: noteOff.left,\n                top: fieldOff.top\n            });\n\n            $notice.html(label + \"<div id='noticecontent'>\" + content + \"</div>\");\n            //hack: if h2 in content, move it out.\n            $notice.prepend($('#noticecontent h2').first().remove());\n            $targetElem.popover(\"destroy\");\n        } else {\n            $targetElem.popover({\n                placement: 'top',\n                trigger: 'hover',\n                html: true,\n                'title': label,\n                'content': content\n            });\n        }\n    }\n\n    /**\n     * initialize context-help functionality.\n     *\n     * @param form\n     */\n    function initializeTooltipContent(form) {\n        if (typeof form === \"undefined\") {\n            return;\n        }\n        $(form).on(\"mouseenter focusin\", \"[data-tooltipcontent]\", function () {\n            setToolTipContents(this);\n        });\n    }\n\n    module.exports = {\n        initializeTooltipContent: initializeTooltipContent\n    };\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.contexthelp.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.core.js":
/*!*****************************************!*\
  !*** ./src/main/webapp/js/tdar.core.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(jQuery, $) {\n\n\n// define global TDAR object if not defined already\nvar TDAR = window['TDAR'] || {};\nwindow.TDAR = TDAR;\nif (TDAR['vuejs'] == undefined) {\n\tTDAR['vuejs'] = {};\n}\n\n/**\n * Returns the namespace specified and creates it if it doesn't exist (e.g.\n * \"TDAR.maps.controls\", \"TDAR.stringutils\") (see YUI \"module pattern\",\n * http://yuiblog.com/blog/2007/06/12/module-pattern/) for more information\n */\nvar namespace = function() {\n\tvar a = arguments, o = null, i, j, d;\n\tfor (i = 0; i < a.length; i = i + 1) {\n\t\td = (\"\" + a[i]).split(\".\");\n\t\to = TDAR;\n\n\t\t// TDAR is implied, so it is ignored if it is included\n\t\tfor (j = (d[0] == \"TDAR\") ? 1 : 0; j < d.length; j = j + 1) {\n\t\t\to[d[j]] = o[d[j]] || {};\n\t\t\to = o[d[j]];\n\t\t}\n\t}\n\treturn o;\n};\n\nvar configureJiraCollector = function(ctx, username) {\n\tif (!username)\n\t\treturn;\n\n\tif (!ctx.ATL_JQ_PAGE_PROPS) {\n\t\tctx.ATL_JQ_PAGE_PROPS = {};\n\t}\n\t;\n\tif (ctx.ATL_JQ_PAGE_PROPS) {\n\t\tctx.ATL_JQ_PAGE_PROPS.fieldValues = {\n\t\t\tsummary : \"bug report from \" + username + \".\"\n\t\t};\n\t}\n};\n\n/**\n * Load a script asynchronously. If jQuery is available, this function returns a\n * promise object. If the caller provides a callback function, this function\n * will call it once after the client successfully loads the resource.\n * \n * @param url\n *            url containing the javascript file.\n * @param cb\n * @returns {*}\n */\nvar loadScript = function(url) {\n\tvar _url = url;\n\tvar head = document.getElementsByTagName(\"head\")[0];\n\tvar script = document.createElement(\"script\");\n\tvar deferred, promise;\n\t// console.debug(\"loading url: %s\", _url);\n\tif (typeof jQuery === \"function\") {\n\t\tdeferred = $.Deferred()\n\t\tpromise = deferred.promise();\n\n\t\tscript.onload = function() {\n\t\t\tdeferred.resolve();\n\t\t\t// console.debug(\"successfully loaded:%s\", _url);\n\t\t};\n\n\t\tscript.onerror = function(err) {\n\t\t\tdeferred.rejectWith(err);\n\t\t\t// console.log(\"failed to load url:%s error:%s\", _url, err);\n\t\t};\n\t}\n\tscript.src = _url;\n\thead.appendChild(script);\n\treturn promise;\n};\n\n/**\n * Scan the DOM for SCRIPT nodes of type \"application/json\", parse their\n * content, and return a map of the parsed objects (keyed by script.id). Useful\n * for ingesting inlined data from server.\n * \n * @returns {{}}\n * @private\n */\nvar loadDocumentData = function _loadDocumentData() {\n\tvar dataElements = $('[type=\"application/json\"][id]').toArray();\n\tvar map = {};\n\tdataElements.forEach(function(elem) {\n\t\tvar key = elem.id;\n\t\tvar val = JSON.parse(elem.innerHTML);\n\t\tmap[key] = val;\n\t});\n\treturn map;\n};\n\n// define TDAR.uri(). Note, if deploying app in other than root context, you\n// must set <base href=\"${request.contextPath}\">\nvar uri = function(path) {\n\tif (!window.location.origin) {\n\t\twindow.location.origin = window.location.protocol + \"//\"\n\t\t\t\t+ window.location.hostname\n\t\t\t\t+ (window.location.port ? ':' + window.location.port : '');\n\t}\n\tvar base = window.location.origin;\n\tvar baseElems = document.getElementsByTagName('base');\n\tif (baseElems.length) {\n\t\tif (baseElems[0].href != undefined) {\n\t\t\tbase = baseElems[0].href;\n\t\t}\n\t}\n\tvar uri = base;\n\tif (uri.lastIndexOf(\"/\") != uri.length - 1) {\n\t\turi += \"/\";\n\t}\n\tif (uri.lastIndexOf(\"/\") == uri.length - 1 && path != undefined\n\t\t\t&& path.indexOf(\"/\") == 0) {\n\t\turi = uri.substring(0, uri.lastIndexOf(\"/\"));\n\t}\n\n\tif (path) {\n\t\turi += path;\n\t}\n\treturn uri;\n};\n\nvar assetsUri = function(path) {\n\tif (!window.location.origin) {\n\t\twindow.location.origin = window.location.protocol + \"//\"\n\t\t\t\t+ window.location.hostname\n\t\t\t\t+ (window.location.port ? ':' + window.location.port : '');\n\t}\n\tvar base = window.location.origin;\n\tvar baseElems = document.getElementsByTagName('base');\n\tif (baseElems.length) {\n\t\tbase = baseElems[0].assetsHref;\n\t}\n\tvar uri = base;\n\n\tif (base == undefined) {\n\t\treturn TDAR.uri(path);\n\t}\n\n\tif (uri.lastIndexOf(\"/\") != uri.length - 1) {\n\t\turi += \"/\";\n\t}\n\tif (uri.lastIndexOf(\"/\") == uri.length - 1 && path != undefined\n\t\t\t&& path.indexOf(\"/\") == 0) {\n\t\turi = uri.substring(0, uri.lastIndexOf(\"/\"));\n\t}\n\n\tif (path) {\n\t\turi += path;\n\t}\n\treturn uri;\n};\n\n/* istanbul ignore next */\n/**\n * Wrapper for window.location setter\n * \n * @param url\n */\nvar windowLocation = function(url) {\n\twindow.location = url;\n};\n\n\n/**\n * Returns a copy of a string, terminated by ellipsis if input string exceeds max length\n * @param str input string\n * @param maxlength maximum length of the copy string.\n * @param useWordBoundary should we ellipsify in the middle of a word?\n * @returns {*} copy of string no longer than maxlength.\n */\nvar _ellipsify = function(text, n, useWordBoundary) {\n        /* from: http://stackoverflow.com/questions/1199352/smart-way-to-shorten-long-strings-with-javascript */\n        var toLong = text.length > n, s_ = toLong ? text.substr(0, n - 1) : text;\n        s_ = useWordBoundary && toLong ? s_.substr(0, s_.lastIndexOf(' ')) : s_;\n        return  toLong ? s_ + '...' : s_;\n}\n\n/**\n * Execute any main() functions found in the API\n */\n var main = function() {\n     let TDAR = window.TDAR;\n\t// FIXME: I don't fully work, because some things are 3 levels down in the\n\t// object tree tdar.vue.upload (e.g.)\n\tfor ( var key in TDAR) {\n\t\tif (typeof TDAR[key] !== 'object') {\n\t\t\tcontinue\n\t\t}\n\t\tif (typeof (TDAR[key]['main']) !== 'function') {\n\t\t\tcontinue\n\t\t}\n\t\tvar pkg = TDAR[key];\n\t\tconsole.log('executing main in package:' + key);\n\t\tpkg.main();\n\t}\n};\n\n/**\n * Define dummy console + log methods if not defined by browser.\n */\nif (!window.console) {\n\tconsole = {};\n}\n\nvar _noop = function() {\n\t\n};\n\nconsole.log = console.log || _noop;\nconsole.info = console.info || console.log;\nconsole.error = console.error || console.log;\nconsole.warn = console.warn || console.log;\nconsole.debug = console.debug || console.log;\nconsole.table = console.table || console.log;\n\nmodule.exports = {\n\tmain: main,\n\tconfigureJiraCollector:configureJiraCollector,\n\tloadScript: loadScript,\n\tloadDocumentData: loadDocumentData,\n\turi : uri,\n\tassetsUri : assetsUri,\n\twindowLocation: windowLocation,\n\tnamespace: namespace,\n\tellipsify: _ellipsify\n}\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\"), __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.core.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.d3tree.js":
/*!*******************************************!*\
  !*** ./src/main/webapp/js/tdar.d3tree.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {const d3 = __webpack_require__(/*! d3 */ \"./node_modules/d3/d3.js\");\n\n    // var d3 = window.d3 ? window.d3 : typeof require !== 'undefined' ? require(\"d3\") : undefined;\n    // basically a way to get the path to an object\n\n    function searchTree(obj, search, path) {\n        var found = [];\n        allNodes.forEach(function(n) {\n            if (n.displayName.toLowerCase().indexOf(search) > -1) { // if search is found return, add the object to the path and return it\n                found.push(n);\n            }\n        });\n        return found;\n    }\n\n\n    /** \"package private\" variables - used by functions in this module but not publically accessible **/\n    // FIXME: Use of variables in package scope is good for default and \"const\" values, but avoid choices that limit extensibility.  See example comments below.\n    var div, root, tree, svg, diagonal;\n\n    // FIXME: Example:  \"duration\" is fine since it essentially serves same purpose as a constant.\n    var duration = 750;\n\n    // FIXME: Example: \"allNodes\" is problematic because it implicitly assumes only one D3 graph on entire page.\n    var allNodes = [];\n\n    // FIXME: instead of referencing DOM elements by ID (e.g. \"#d3\", \"#ontId\"), consider passing them in as arguments to the init() function.\n    function _init() {\n        diagonal = d3.svg.diagonal().projection(function(d) {\n            return [ d.y, d.x ];\n        });\n\n        $(\"#searchclear\").click(function() {\n            $(\"#search\").val(\"\");\n            _clearSearch();\n            $(\"#searchclear\").hide();\n        });\n        $(\"#searchclear\").hide();\n\n        root = JSON.parse($(\"#ontId\").text());\n\n        if (!root || !root.children) {\n            return;\n        }\n        div = d3.select(\"#d3\").append(\"div\") // declare the tooltip div\n        .attr(\"class\", \"tooltip\").style(\"opacity\", 0);\n\n        var margin = {\n            top : 20,\n            right : 120,\n            bottom : 20,\n            left : 120\n        }, width = $(\"#d3\").width() - margin.right - margin.left, height = $(\"#d3\").height() - margin.top - margin.bottom;\n\n        var i = 0;\n\n        tree = d3.layout.tree().size([ height, width ]);\n\n        svg = d3.select(\"#d3\").append(\"svg\").attr(\"width\", width + margin.right + margin.left).attr(\"height\", height + margin.top + margin.bottom).attr(\n                \"class\", \"overlay\").call(zoomListener).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n        root.x0 = height / 2;\n        root.y0 = 0;\n        _initParents(root);\n        root.children.forEach(_collapse);\n        _update(root);\n\n        // attach search box listener\n        $(\"#search\").on(\"keyup\", function(e) {\n            var key = e.which;\n\n            var search = _trim(e.target.value.toLowerCase());\n            if (search != undefined && search != '') {\n                $(\"#searchclear\").show();\n            } else {\n                $(\"#searchclear\").hide();\n                return false;\n            }\n            console.log(search);\n            _clearSearch();\n            if (search == '') {\n                return false;\n            }\n            if (search.length > 2) {\n                _doSearch(search);\n            }\n\n            return true;\n        })\n    }\n\n    function _doSearch(search) {\n        _clearSearch();\n        root.children.forEach(_collapse);\n        _update(root);\n        var paths_ = searchTree(root, search, []);\n        if (typeof (paths_) !== \"undefined\") {\n            _openPaths(paths_);\n        }\n    }\n    function _trim(string) {\n        var str = $.trim(string);\n        if (str) {\n            return str.replace(/([\\n|\\r])/g, '');\n        }\n        return \"\";\n    }\n\n    function _initParents(c) {\n        allNodes.push(c);\n        if (c.children) {\n            c.children.forEach(function(d) {\n                d.parent = c;\n                _initParents(d);\n            });\n        }\n        ;\n    }\n\n    // recursively collapse children\n    function _collapse(d) {\n        if (d.children) {\n            d._children = d.children;\n            d._children.forEach(_collapse);\n            d.children = null;\n        }\n\n    }\n\n    // Toggle children on click.\n    function _click(d) {\n        if (d.children) {\n            d._children = d.children;\n            d.children = null;\n        } else {\n            d.children = d._children;\n            d._children = null;\n        }\n        _update(d);\n    }\n\n    function _openPaths(paths) {\n        for (var i = 0; i < paths.length; i++) {\n            var n = paths[i];\n            if (n.parent) {// i.e. not root\n                n.class = 'found';\n                if (n.parent) {\n                    _openParent(n);\n                }\n                _update(n);\n            }\n        }\n    }\n\n    function _openParent(child) {\n        var np = child.parent;\n        if (np._children) { // if children are hidden: open them, otherwise: don't do anything\n            np.children = np._children;\n            np.class = 'found';\n            np._children = null;\n            _openParent(np);\n        }\n\n    }\n\n    function _nodeFillClass(d) {\n        if (d.class === 'found') {\n            return \"found\";\n        } else if (d._children && d._children.length > 0) {\n            return \"children\"\n        }\n        return \"\";\n    }\n\n    function _update(source) {\n        // Compute the new tree layout.\n        var nodes = tree.nodes(root).reverse(), links = tree.links(nodes);\n\n        // Normalize for fixed-depth.\n        nodes.forEach(function(d) {\n            d.y = d.depth * 180;\n        });\n\n        // Update the nodesâ€¦\n        var node = svg.selectAll(\"g.node\").data(nodes, function(d) {\n            return d.id || (d.id = ++i);\n        });\n\n        // Enter any new nodes at the parent's previous position.\n        var nodeEnter = node.enter().append(\"g\").attr(\"class\", \"node\").attr(\"transform\", function(d) {\n            return \"translate(\" + source.y0 + \",\" + source.x0 + \")\";\n        }).on(\"click\", _click);\n\n        nodeEnter.append(\"circle\").attr(\"r\", 1e-6).attr(\"class\", _nodeFillClass);\n\n        nodeEnter.append(\"text\").attr(\"x\", function(d) {\n            return d.children || d._children ? -10 : 10;\n        }).attr(\"dy\", \".35em\").attr(\"text-anchor\", function(d) {\n            return d.children || d._children ? \"end\" : \"start\";\n        }).text(function(d) {\n            return d.displayName;\n        }).attr(\"class\", function(d) {\n            if (d.class === 'found') {\n                return \"found\";\n            }\n            return \"\";\n        }).style(\"fill-opacity\", 1e-6).on(\"click\", function(d) {\n            if (d.iri == undefined) {\n                return false;\n            }\n            ;\n            var loc = window.location.href;\n            if (loc.substring(loc.length - 1) == \"/\") {\n                loc = loc.substring(0, loc.length - 2);\n            }\n            loc = loc.substring(0, loc.lastIndexOf(\"/\"));\n            window.location = loc + \"/node/\" + d.slug;\n        });\n\n        // Transition nodes to their new position.\n        var nodeUpdate = node.transition().duration(duration).attr(\"transform\", function(d) {\n            return \"translate(\" + d.y + \",\" + d.x + \")\";\n        });\n\n        nodeUpdate.select(\"circle\").attr(\"r\", 4.5).attr(\"class\", _nodeFillClass);\n\n        nodeUpdate.select(\"text\").attr(\"class\", function(d) {\n            if (d.class === 'found') {\n                return \"found\";\n            }\n            return \"\";\n        }).style(\"fill-opacity\", 1);\n\n        // Transition exiting nodes to the parent's new position.\n        var nodeExit = node.exit().transition().duration(duration).attr(\"transform\", function(d) {\n            return \"translate(\" + source.y + \",\" + source.x + \")\";\n        }).remove();\n\n        nodeExit.select(\"circle\").attr(\"r\", 1e-6);\n\n        nodeExit.select(\"text\").style(\"fill-opacity\", 1e-6);\n\n        // Update the linksâ€¦\n        var link = svg.selectAll(\"path.link\").data(links, function(d) {\n            return d.target.id;\n        });\n\n        // Enter any new links at the parent's previous position.\n        link.enter().insert(\"path\", \"g\").attr(\"d\", function(d) {\n            var o = {\n                x : source.x0,\n                y : source.y0\n            };\n            return diagonal({\n                source : o,\n                target : o\n            });\n        }).attr(\"class\", function(d) {\n            if (d.target.class === \"found\") {\n                return \"foundLink\";\n            }\n            return \"link\";\n        });\n\n        // Transition links to their new position.\n        link.transition().duration(duration).attr(\"d\", diagonal).attr(\"class\", function(d) {\n            if (d.target.class === \"found\") {\n                return \"foundLink\";\n            }\n            return \"link\";\n        });\n\n        // Transition exiting nodes to the parent's new position.\n        link.exit().transition().duration(duration).attr(\"d\", function(d) {\n            var o = {\n                x : source.x,\n                y : source.y\n            };\n            return diagonal({\n                source : o,\n                target : o\n            });\n        }).attr(\"class\", function(d) {\n            if (d.target.class === \"found\") {\n                return \"foundLink\";\n            }\n            return \"link\";\n        }).remove();\n\n        // Stash the old positions for transition.\n        nodes.forEach(function(d) {\n            d.x0 = d.x;\n            d.y0 = d.y;\n        });\n    }\n\n    function _clearSearch() {\n        // unhighlight nodes and paths by removing the 'found' and 'foundLink' class\n        $(\"path[class='foundLink']\").attr(\"class\", \"link\");\n        d3.selectAll(\"circle[class='found']\").classed(\"found\", false);\n\n        //untag nodes previously marked as \"found\"\n        allNodes.forEach(function(n) {\n            n.class = \"\";\n        });\n    }\n\n    // Define the zoom function for the zoomable tree\n    // http://bl.ocks.org/phil-pedruco/7051552\n    function _zoom() {\n        svg.attr(\"transform\", \"translate(\" + d3.event.translate + \")\");\n    }\n\n    // define the zoomListener which calls the zoom function on the \"zoom\" event constrained within the scaleExtents\n    var zoomListener = d3.behavior.zoom().scaleExtent([ 1.3, 1.3 ]).on(\"zoom\", _zoom);\n\n    module.exports = {\n        \"init\" : _init,\n        \"clearSearch\": _clearSearch,\n        \"allNodes\": allNodes\n    };\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.d3tree.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.dataset-metadata.js":
/*!*****************************************************!*\
  !*** ./src/main/webapp/js/tdar.dataset-metadata.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {const common = __webpack_require__(/*! ./tdar.common */ \"./src/main/webapp/js/tdar.common.js\");\nconst contexthelp = __webpack_require__(/*! ./tdar.contexthelp */ \"./src/main/webapp/js/tdar.contexthelp.js\");\nconst autocomplete = __webpack_require__(/*! ./tdar.autocomplete */ \"./src/main/webapp/js/tdar.autocomplete.js\");\n\n\n/**\n     * this function manages the display of the checkboxes next to a column field when someone changes one of the values, it changes the color if mapped properly\n     * to something\n     */\n    function _registerCheckboxInfo() {\n        console.log(\"registerCheckboxInfo called\", arguments[0], arguments[1]);\n        var $target = $($(this).parents(\".datatablecolumn\").first());\n        var val = $('.columnEncoding:checked', $target).val();\n        var square = $target.find(\"span.columnSquare\");\n        var ontologyInfo = $target.find(\"div.ontologyInfo\");\n        var codingInfo = $target.find(\"div.codingInfo\");\n        var measurementInfo = $target.find(\"div.measurementInfo\");\n\n        if (val == 'COUNT' || val == 'MEASUREMENT' || val == 'FILENAME') {\n            ontologyInfo.hide();\n        } else {\n            ontologyInfo.show();\n        }\n\n        if (val != 'CODED_VALUE') {\n            codingInfo.hide();\n        } else {\n            codingInfo.show();\n            ontologyInfo.hide();\n        }\n\n        if (val == \"MEASUREMENT\") {\n            measurementInfo.show();\n        } else {\n            measurementInfo.hide();\n        }\n\n        // Decorate the 'column square' element in this section of the form to indicate the type of column and it's\n        // level of \"completeness\". We start out by removing all decorations from the indicator, and (potentially)\n        // add them back as we analyze this section.\n        //square.removeClass();\n\n        //workaround for jquery-ui removeClass() bug #9015 (http://bugs.jqueryui.com/ticket/9015)\n        square.removeAttr(\"class\");\n\n        square.addClass(\"columnSquare\");\n\n        var ontolog = $target.find(\"input.ontologyfield:visible\").first().val();\n        var dataType = $target.find(\"input.dataType\").first().val();\n        var codig = $target.find(\"input.codingsheetfield:visible\").first();\n        var codingSheetId = $('.codingsheetidfield', $target).val();\n        var unit = $target.find(\"select.measurementUnit:visible\").first();\n\n        if (dataType == undefined || dataType.indexOf('INT') == -1 && dataType.indexOf('DOUBLE') == -1) {\n            $(\".columnEncoding[value='MEASUREMENT']\", $target).prop('disabled', true);\n            $(\".columnEncoding[value='COUNT']\", $target).prop('disabled', true);\n        }\n\n        var valid = false;\n        var uncoded = false;\n        if (val == 'COUNT') {\n            square.addClass(\"count\");\n            valid = true;\n        } else if (val == 'MEASUREMENT') {\n            if (unit != undefined && unit.val() != '') {\n                square.addClass(\"measurement\");\n                valid = true;\n            }\n        } else if (val == 'CODED_VALUE') {\n            // console.log(codingSheetId + \" \" + isNaN(parseInt(codingSheetId)));\n            if (!isNaN(parseInt(codingSheetId))) {\n                square.addClass(\"coded\");\n                valid = true;\n            }\n        } else if (val == 'UNCODED_VALUE' || val == 'FILENAME') {\n            square.addClass(\"uncoded\");\n            uncoded = true;\n            valid = true;\n        }\n\n        if (ontolog != undefined && ontolog != '') {\n            square.addClass(\"integration\");\n        }\n\n        if (!valid) {\n            square.addClass(\"invalid\");\n        }\n\n        var subcat = $target.find(\".categorySelect\").first();\n        var txt = $target.find(\"textarea.resizable\").first();\n        if (subcat != undefined && subcat.val() > 0 && txt != undefined && txt.val().length > 0) {\n            square.addClass(\"complete\");\n        }\n\n        if (pageInitialized) {\n            // ... then it's safe to update the summary table (otherwise, the summary table would be updated n times\n            // as the page loads)\n            _updateSummaryTable();\n        }\n    }\n\n    /**\n     * used to bind to a select element to jump to a specific part of the page\n     */\n    function _gotoColumn($el) {\n        var idVal = $el.val();\n        document.getElementById(idVal).scrollIntoView();\n    }\n\n    var pageInitialized = false;\n\n    /**\n     * Init the data-table-column metadata page to setup the status table and data validation\n     */\n    function _init(formId) {\n\n        var $form = $(formId);\n        common.suppressKeypressFormSubmissions($form);\n\n        //Use a plugin if browser doesn't support resizeable textareas\n        //http://caniuse.com/#feat=css-resize\n        if (!Modernizr.cssresize) {\n            $('textarea.resizable:not(.processed)').TextAreaResizer();\n        }\n\n        // set up ajax calls, no caching\n        $.ajaxSetup({\n            cache: false\n        });\n\n        common.applyWatermarks(document);\n\n        $('#table_select').change(function () {\n            window.location = '?dataTableId=' + $(this).val();\n        });\n\n        $form.delegate(\":input\", \"blur change\", _registerCheckboxInfo);\n\n        contexthelp.initializeTooltipContent(\"#edit-metadata-form\");\n\n        console.debug('binding autocompletes');\n\n        // bugfix: deferred registration didn't properly register expando button. If this is too slow, but delegate inside of _applyComboboxAutocomplete\n        autocomplete.applyComboboxAutocomplete($('input.codingsheetfield', $form), \"CODING_SHEET\");\n        autocomplete.applyComboboxAutocomplete($('input.ontologyfield', $form), \"ONTOLOGY\");\n\n        console.debug('intitializing columns');\n        // determine when to show coding-sheet, ontology selection based on column encoding value\n        // almost all of the startup time is spent here\n        $('input.ontologyfield').change(_registerCheckboxInfo).change();\n        pageInitialized = true;\n        _updateSummaryTable();\n        // clear all hidden ontology/coding sheet hidden fields to avoid polluting the controller\n        $form.submit(function () {\n            $('input', $('.ontologyInfo:hidden')).val('');\n            $('input', $('.codingInfo:hidden')).val('');\n        });\n\n        $(\"#fakeSubmitButton\").click(function () {\n            $(\"#submitButton\").click();\n        });\n\n        var $window = $(window);\n\n        $(\"#chooseColumn\").change(function (e) {\n            _gotoColumn($(this));\n        });\n        \n        $form.FormNavigate();\n    }\n\n    function _pagination(idPrefix) {\n        var $id = $(\"#recordsPerPage\" + idPrefix); \n        $id.change(function () {\n            var url = window.location.search.replace(/([?&]+)recordsPerPage=([^&]+)/g, \"\");\n            //are we adding a querystring or merely appending a name/value pair, i.e. do we need a '?' or '&'?\n            var prefix = \"\";\n            if (url.indexOf(\"?\") != 0) {\n                prefix = \"?\";\n            }\n            url = prefix + url + \"&recordsPerPage=\" + $id.val();\n            window.location = url;\n        });\n    }\n    \n    /**\n     * Updates the SummaryTable based on column validation\n     */\n    function _updateSummaryTable() {\n        var $summary = $(\"#summaryTable\");\n        $(\".integration_label\", $summary).html($(\"div.datatablecolumn .columnSquare.integration\").length);\n        $(\".coded_label\", $summary).html($(\"div.datatablecolumn .columnSquare.coded\").length);\n        $(\".uncoded_label\", $summary).html($(\"div.datatablecolumn .columnSquare.uncoded\").length);\n        $(\".error_label\", $summary).html($(\"div.datatablecolumn .columnSquare.invalid\").length);\n        $(\".count_label\", $summary).html($(\"div.datatablecolumn .columnSquare.count\").length);\n        $(\".measurement_label\", $summary).html($(\"div.datatablecolumn .columnSquare.measurement\").length);\n    }\n\n    // expose public elements\n    module.exports = {\n        \"init\": _init,\n        \"gotoColumn\": _gotoColumn,\n        \"updateSummaryTable\": _updateSummaryTable,\n        \"registerCheckboxInfo\": _registerCheckboxInfo,\n        \"initPagination\": _pagination\n    };\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.dataset-metadata.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.datatable.js":
/*!**********************************************!*\
  !*** ./src/main/webapp/js/tdar.datatable.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($, jQuery) {\nconst core = __webpack_require__(/*! ./tdar.core */ \"./src/main/webapp/js/tdar.core.js\");\nconst common = __webpack_require__(/*! ./tdar.common */ \"./src/main/webapp/js/tdar.common.js\");\n__webpack_require__(/*! ./../includes/jquery.datatables-1.9.4/media/js/jquery.dataTables.js */ \"./src/main/webapp/includes/jquery.datatables-1.9.4/media/js/jquery.dataTables.js\");\n__webpack_require__(/*! ./../includes/jquery.datatables.plugins-1.9.4/integration/bootstrap/2/dataTables.bootstrap.js */ \"./src/main/webapp/includes/jquery.datatables.plugins-1.9.4/integration/bootstrap/2/dataTables.bootstrap.js\");\n__webpack_require__(/*! ../includes/jquery.datatables-1.9.4/media/css/jquery.dataTables.css */ \"./src/main/webapp/includes/jquery.datatables-1.9.4/media/css/jquery.dataTables.css\");\n__webpack_require__(/*! ../includes/jquery.datatables.plugins-1.9.4/integration/bootstrap/2/dataTables.bootstrap.css */ \"./src/main/webapp/includes/jquery.datatables.plugins-1.9.4/integration/bootstrap/2/dataTables.bootstrap.css\");\n__webpack_require__(/*! ../includes/bindWithDelay.js */ \"./src/main/webapp/includes/bindWithDelay.js\");\ncore.namespace(\"datatable\");\n\n    /**\n     * Register a new dtatable control. By default, the datatable populates with resources editable by the user. Most of the initialization options required by\n     * the $.dataTable are handled by this function. However, you can override these functions by via the options argument in the constructor\n     * \n     * @param parms\n     *            options object - properties in the object will override the defaults used to create the datatable. see the DataTables.net documentation for\n     *            full list of option. Tdar-specific properties include: tableSelector: jquery selector which contains the table to initialize/convert into a\n     *            datatable requestCallback: callback executed prior to performing ajax request. if it returns an object, those property name/value pairs are\n     *            included in the ajax request, selectableRows: boolean indicating whether the rows of the data table are selectable, rowSelectionCallback:\n     *            callback executed whenever user selects a row , \"sAjaxSource\": '/lookup/resource': url to request rowdata\n     * \n     * @returns {*|jQuery|HTMLElement} reference to the datatable widget created by this element.\n     */\n    function _registerLookupDataTable(parms) {\n        _extendSorting();\n        // tableSelector, sAjaxSource, sAjaxDataProp, aoColumns, requestCallback, selectableRows\n        var doNothingCallback = function() {\n        };\n        var options = {\n        \tvueModel : null,\n            tableSelector : '#dataTable',\n            requestCallback : doNothingCallback,\n            selectableRows : false,\n            isAdmin: false,\n            \n            rowSelectionCallback : doNothingCallback,\n            \"sAjaxSource\" : core.uri( 'api/lookup/resource'),\n            \"sAjaxDataProp\" : 'resources',\n            \"bJQueryUI\" : false,\n            \"sScrollY\" : \"350px\",\n            \"sScrollX\" : \"100%\",\n            fnDrawCallback : function(settings) {\n                var $dt = this; //this-object is the current datatable object (assumption based on observation)\n                // if all checkboxes are checked, the 'select all' box should also be checked, and unchecked in all other situations\n                \n                var $toggle =  $('#cbCheckAllToggle');\n                \n                if ($(\":checkbox:not(:checked)\", $dataTable).length == 0) {\n                   $toggle.prop('checked', true);\n                } else {\n                    $toggle.prop('checked', false);\n                }\n                \n                // welcome a different message for the \"un-filter\" message if we have 0 records and the filter checkbox exists\n                // show the unfilter message if \"checked\"\n                var $fltr = $(\"#fltrTxt\");\n                var $cbx = $(\"#parentCollectionsIncluded\");\n                if ($dt.fnSettings()._iRecordsTotal < 1 && $cbx != undefined) {\n                    if ($cbx.is(':checked')) {\n                        $fltr.show();\n                    } else {\n                        $fltr.hide();\n                    }\n                } else {\n                    $fltr.hide();\n                }\n                $dt.trigger(\"data\", [$dt.fnSettings().aoData]);\n            }\n        };\n\n        $.extend(options, parms);\n        \n        var $dataTable = $(options.tableSelector);\n        \n        $dataTable.data(\"toAdd\", []);\n        $dataTable.data(\"toRemove\", []);\n        $dataTable.data(\"toAddManaged\",[]);\n        $dataTable.data(\"toAddUnmanaged\",[]);\n        $dataTable.data(\"toRemoveManaged\",[]);\n        $dataTable.data(\"toRemoveUnmanaged\",[]);\n\n        // here is where we will store the selected rows (if caller wants to track that stuff)\n        $dataTable.data('selectedRows', {});\n\n        var dataTableOptions = {\n            \"bScrollCollapse\" : true,\n            \"bProcessing\" : true,\n            \"bServerSide\" : true,\n            // \"sAjaxDataProp\": sAjaxDataProp,\n            // \"aoColumns\": aoColumns\n\n            // intercept the server request, and translate the parameters to server\n            // format. similarly, take the json returned by the jserver\n            // and translate to format expected by the client.\n            \"fnServerData\" : function _fnServerData(sSource, aoData, fnCallback) {\n\n                $.ajax({\n                    traditional : true, // please don't convert my arrays to php arrays. php is dumb.\n                    dataType : 'jsonp',\n                    url : sSource,\n                    xhrFields : {\n                        withCredentials : true\n                    },\n                    \n                    data : _convertRequest(aoData, options.aoColumns, options.requestCallback, $dataTable ),\n                    \n                    success : function(_data) {\n                        var addIds = $dataTable.data(\"toAdd\");\n                        var removeIds = $dataTable.data(\"toRemove\");\n                        \n                        //These are IDs of resources that are already in the collection. \n                        var managedResults = $dataTable.data(\"managedResults\");\n                        var unmanagedResults = $dataTable.data(\"unmanagedResults\");\n                        \n                        \n                        //assuming the above lists are mutually exclusive, the concatenation is a list of all checkboxes that should be toggled\n                        var toggleIds = addIds.concat(removeIds);\n\n                        // intercept data returned by server, translate to client format\n                        var recordInfo = {\n                            iTotalDisplayRecords : _data.totalRecords,\n                            iTotalRecords : _data.totalRecords\n                        };\n                        \n                        if (typeof _data.totalRecords === \"undefined\") {\n                            recordInfo = {\n                                iTotalDisplayRecords : _data.status.totalRecords,\n                                iTotalRecords : _data.status.totalRecords\n                            };\n                        }\n                        \n                        $.extend(_data, recordInfo);\n                        \n                        //update the list of resource id's that belong to the current resource collection\n                        \n                        $dataTable.data(\"selectedResults\",  _data.selectedResults);\n                        $dataTable.data(\"managedResults\", \t_data.unmanagedResourceResults);\n                        $dataTable.data(\"unmanagedResults\", _data.managedResourceResults);\n                        \n                        \n                        var addManagedIds = $dataTable.data(\"toAddManaged\");\n                        var addUnmanagedIds = $dataTable.data(\"toAddUnmanaged\");\n                        var removeManagedIds = $dataTable.data(\"toRemoveManaged\");\n                        var removeUnmanagedIds = $dataTable.data(\"toRemoveUnmanaged\");\n                        \n                        _data[\"toAddManaged\"]= addManagedIds;\n                        _data[\"toAddUnmanaged\"]=addUnmanagedIds;\n                        _data[\"toRemoveManaged\"]= removeManagedIds;\n                        _data[\"toRemoveUnmanaged\"]=removeUnmanagedIds;\n                        \n                        //similarly, add  isSelectedResult property to each result\n                        if((options.selectableRows || options.clickableRows) && _data.resources) {\n                            if(!_data.selectedResults) {\n                                _data.selectedResults = [];\n                            }\n                            \n                            if(!_data.unmanagedResourceResults){\n                            \t_data.unmanagedResourceResults = [];\n                            }\n                            if(!_data.managedResourceResults){\n                            \t_data.managedResourceResults = [];\n                            }                            \n                            \n                            $.each(_data.resources, function(idx, obj) {\n                                obj.isSelectedResult = _data.selectedResults.indexOf(obj.id) > -1;\n                                obj.isToggled = toggleIds.indexOf(obj.id) > -1;\n                                \t\n                                //determining the current selected status is tricky.  We need to reconcile the value from the server setting (isSelectedResult)\n                                //against any client-side changes made so far.\n                                obj.isCurrentlySelected = (obj.isSelectedResult !== obj.isToggled);\n                                \n                                //This will look to see if the object's id exists in the managed resource array. \n                                obj.isManagedResult   = _data.managedResourceResults.indexOf(obj.id) > -1;\n\n                                //This will look to see if the object's id exists in the unmanaged resource array.\n                                obj.isUnmanagedResult = _data.unmanagedResourceResults.indexOf(obj.id) > -1;\n                            });\n                        }\n                        fnCallback(_data);\n                    },\n                    error : function(jqXHR, textStatus, errorThrown) {\n                        console.error(\"ajax query failed:\" + errorThrown);\n                    }\n                });\n            }\n        };\n\n        \n        // if user wants selectable rows, render checkbox in the first column (which we assume is an ID field)\n       if (options.selectableRows) {\n            options.aoColumns[0].fnRender = fnRenderIdColumn;\n            options.aoColumns[0].bUseRendered = false;\n            \n            dataTableOptions[\"fnRowCallback\"] = function(nRow, obj, iDisplayIndex, iDisplayIndexFull) {\n                // determine whether the user selected this item already (if so check the box)\n                var $cb = $(nRow).find('input[type=checkbox]');\n                var id = $cb.val();\n                $(nRow).attr(\"id\",\"row-\"+id);\n                $cb.prop('checked', obj.isCurrentlySelected );\n                return nRow;\n            };\n\n            // register datatable checkbox changes. maintain a hashtable of all of the currently selected items.\n            // call the rowSelectionCallback whenever something changes\n            $dataTable.on('change', 'input[type=checkbox]' , function() {\n                var $elem = $(this); // here 'this' is checkbox\n                var id = $elem.val();\n                var objRowData = $dataTable.fnGetData($elem.parents('tr')[0]);\n                if ($elem.prop('checked')) {\n                    // get the json data associated w/ the selected row, put it in selectedRows\n                    $dataTable.data('selectedRows')[id] = objRowData;\n                    options.rowSelectionCallback(id, objRowData, true);\n                } else {\n                    delete $dataTable.data('selectedRows')[id]; // unchecked, so remove from the hashtable\n                    options.rowSelectionCallback(id, objRowData, false);\n                }\n\n            });\n        }\n        \n        //this can be done more elegatly, so the callback can be set in the options. \n        if (options.clickableRows){\n        \t\n        \tdataTableOptions[\"fnRowCallback\"] = function(nRow, obj, iDisplayIndex, iDisplayIndexFull) {\n                // determine whether the user selected this item already (if so check the box)\n                //var $button = $(nRow).find('button');\n                //var btnId = $button.prop('id');\n                //var btnName = btnId.substring(0, btnId.lastIndexOf(\"_\"));\n                var id = parseInt(obj.id);\n\n                $(nRow).attr(\"id\",\"row-\"+id);\n                return nRow;\n            };\n        \t\n            //The $dataTable is the jQuery object for the table. \n            //The click event listener is being bound to all the buttons in the table. \n            $dataTable.on('click', 'button' , function() {\n            \tconsole.log(\"Binding add/remove button event handlers\");\n            \tvar $elem = $(this); // 'this' is a button\n                var btnId = $elem.prop('id'); //Gets the button ID\n                var btnName = btnId.substring(0,btnId.lastIndexOf(\"_\")); //parse out the\n                var id = parseInt(btnId.substring(btnId.lastIndexOf(\"_\")+1));\n                var objRowData = $dataTable.fnGetData($elem.parents('tr')[0]); \n                \n                var mode = $elem.val(); //The value attribute has what the button is used for. \n        \n                \n                //The basic function of the a button click is to \n                // 1) Add the ID of the resource to the Table's data object\n                // 2) Invoke the callback method of the row (Add managed/unmanaged)\n                // 3) Disable the button so it cant be clicked.\n                \n                switch(mode){\n                \tcase \"addUnmanaged\":\n                \t\t_arrayAdd($dataTable.data('toAddUnmanaged'),id);\n                        options.rowSelectionCallback(id, objRowData, true, false);\n                        $elem.attr(\"disabled\", \"disabled\");\n                        break;\n                \tcase \"addManaged\":\n                \t\t_arrayAdd($dataTable.data('toAddManaged'),id);\n                        options.rowSelectionCallback(id, objRowData, true, true);\n                        $elem.attr(\"disabled\", \"disabled\");\n                        break;\n                \tcase \"addBoth\":\n                \t\t_arrayAdd($dataTable.data('toAddManaged'),id);\n                \t\t_arrayAdd($dataTable.data('toAddUnmanaged'),id);\n                        options.rowSelectionCallback(id, objRowData, true, true);\n                        options.rowSelectionCallback(id, objRowData, true, false);\n                        $elem.attr(\"disabled\", \"disabled\");\n                        break;\n                        \n                \tcase \"removeUnmanaged\":\n                \t\t_arrayAdd($dataTable.data('toRemoveUnmanaged'),id);\n                \t\toptions.rowSelectionCallback(id, objRowData, false, false);\n                \t\t$elem.attr(\"disabled\", \"disabled\");\n                \t\tbreak;\n                \tcase \"removeManaged\":\n                \t\t_arrayAdd($dataTable.data('toRemoveManaged'),id);\n                \t\toptions.rowSelectionCallback(id, objRowData, false, true);\n                \t\t$elem.attr(\"disabled\", \"disabled\");\n                \t\tbreak;\n                \tcase \"removeBoth\":\n                \t\t_arrayAdd($dataTable.data('toRemoveManaged'),id);\n                \t\t_arrayAdd($dataTable.data('toRemoveUnmanaged'),id);\n                \t\toptions.rowSelectionCallback(id, objRowData, false, false);\n                \t\toptions.rowSelectionCallback(id, objRowData, false, true);\n                \t\t$elem.attr(\"disabled\", \"disabled\");\n                \t\tbreak;\n                }\n            });\n        }\n        \n\n        // put any user-specified dataTable options that have been specified in the parms into the dataTableOptions\n        $.extend(options, dataTableOptions);\n\n        $dataTable.dataTable(options);\n        _scrollOnPagination();\n        return $dataTable;\n    }\n\n    /**\n     * Prepare request data to be sent to tdar lookup request. This function will derive the startpage, recordsPerPage, and sortField any additional data to be\n     * sent to server should be returned by requestCallback(sSearch) where sSearch is the search term entered in the datatable search box (if any).\n     * \n     * @param aoData\n     *            array of objects with \"name\" and \"value\" properties.\n     * @param aoColumns\n     * @param requestCallback\n     * @param $dataTable jquery selection containing the datatable\n     * @returns {{startRecord: (j.defaults.iDisplayStart|*|int), recordsPerPage: (j.defaults.iDisplayLength|*|int), sortField:\n     *          (string|g_settingsMap.person.tdarSortOption|g_settingsMap.institution.tdarSortOption|g_settingsMap.keyword.tdarSortOption|tdarSortOption)}}\n     * @private\n     */\n    function _convertRequest(aoData, aoColumns, requestCallback, $dataTable) {\n        var oData = {};\n        // first convert the request from array of key/val pairs to map<string,string>.\n        $.each(aoData, function() {\n            oData[this.name] = this.value;\n        });\n\n        // derive sort column from the field name and reversed status\n        var tdarSortOption = aoColumns[oData[\"iSortCol_0\"]].tdarSortOption;\n        var sSortReversed = {\n            desc : 'true'\n        }[oData[\"sSortDir_0\"]];\n        if (sSortReversed) {\n            tdarSortOption += '_REVERSE';\n        }\n        var translatedData = {\n            startRecord : oData.iDisplayStart,\n            recordsPerPage : oData.iDisplayLength,\n            sortField : tdarSortOption\n        };\n\n        $.extend(translatedData, requestCallback(oData.sSearch));\n\n        return translatedData;\n    }\n\n    /**\n     * callback that renders the \"id\" column of the datatable.\n     * \n     * @param oObj\n     * @returns {string}\n     */\n    function fnRenderIdColumn(oObj) {\n        // in spite of the name, aData is an object corresponding to the current row\n        var id = oObj.aData.id;\n        var attrId = \"cbEntityId_\" + id;\n        var resourceType = oObj.aData.resourceType;\n        // not all things are resourceTypes that are rendered like this\n        if (resourceType) {\n            resourceType = resourceType.toLowerCase();\n        }\n        // console.log(\"resource type:%s\", resourceType);\n        return ('<label class=\"datatable-cell-unstyled\">' +\n                '<input type=\"checkbox\" class=\"datatable-checkbox ' + resourceType + '\" id=\"' + attrId + '\" value=\"' + id + '\" >' + id\n                + '</label>');\n    }\n    \n    \n    /**\n     * callback that renders the \"managed\" column of the datatable.\n     * \n     * @param oObj\n     * @returns {string}\n     */\n    function fnRenderRemoveButtonsColumn(oObj) {\n        // in spite of the name, aData is an object corresponding to the current row\n        var id = oObj.aData.id;\n\n        var mAttrId = \"btnRemoveManagedId_\" + id;\n        var uAttrId = \"btnRemoveUnmanagedId_\" + id;\n        var bAttrId = \"btnRemoveBothId_\" + id;\n\n        //this isn't right, becomes tightly coupled, but need a better way of doing it.\n        var  $dataTable = $(\"#existing_resources_datatable\");\n        \n        var addManagedIds \t\t= $dataTable.data(\"toAddManaged\");\n        var addUnmanagedIds \t= $dataTable.data(\"toAddUnmanaged\");\n        var removeManagedIds \t= $dataTable.data(\"toRemoveManaged\");\n        var removeUnmanagedIds \t= $dataTable.data(\"toRemoveUnmanaged\");\n        \n      //This will set if the resource id is in the array of IDs to be removed/added. \n        var isBeingAddedToManaged \t\t= addManagedIds.indexOf(id) > -1;\n        var isBeingRemovedFromUnmanaged\t= removeUnmanagedIds.indexOf(id) > -1;\n\n        var isBeingRemovedFromManaged \t= removeManagedIds.indexOf(id) > -1;\n        var isBeingAddedToUnmanaged\t\t= addUnmanagedIds.indexOf(id) > -1;\n        \n        var isManaged   = oObj.aData.isManagedResult   == true;\n        var isUnmanaged = oObj.aData.isUnmanagedResult == true;\n        \n        var output = '<div class=\"btn-group\">';\n        var closingUl = \"\";\n        \n        var extraLabel = \"\";\n        \n        if(isManaged){\n        \t\n        \t//If the resource is only on one side of the colelction , then the label should just be \"Remove\", not \"Remove Managed\" or \"Remove Unmanaged\",\n        \t//Here we do they check, and if necessary add in the additional label fragment. \n        \tif(isUnmanaged){\n        \t\textraLabel = \" Managed\";\n        \t}\n        \t\n        \t//if the resource is manged, but has been put into the remove from managed\n        \tif(isBeingRemovedFromManaged){\n        \t\tvar sDisabled = ' disabled=\"disabled\" ' ;\n        \t}\n        \telse {\n        \t\tvar sDisabled = '';\n        \t}\n        \t\n        \toutput += '<button type=\"button\" id=\"'+mAttrId+'\"'+sDisabled+'value=\"removeManaged\" class=\"btn\">Remove'+extraLabel+'</button>';\n        }\n\n        if(isUnmanaged){\n        \textraLabel = \"\";\n\n        \t//if the resource is not added as managed, the first button won't show. So just show the text as \"removed\".\n        \tif(isManaged){\n\t    \t\toutput += '<button type=\"button\" class=\"btn dropdown-toggle\" data-toggle=\"dropdown\">   <span class=\"caret\"></span></button>';\n\t        \toutput += '<ul class=\"dropdown-menu\" role=\"menu\"><li>';\n\t        \tclosingUl = \"</li></ul>\";\n\t        \textraLabel = \" Unmanaged\";\n        \t}\n            \n        \tif(isBeingRemovedFromManaged || !isUnmanaged){\n        \t\tvar sDisabled = ' disabled=\"disabled\" ' ;\n        \t}\n        \telse if(isUnmanaged){\n        \t\tvar sDisabled = '';\n        \t}\n        \t\n        \toutput += '<button type=\"button\" id=\"'+uAttrId+'\"'+sDisabled+'value=\"removeUnmanaged\"  class=\"btn\">Remove'+extraLabel+'</button>';\n        }\n        \n        \n        //This is a stub for a \"Remove From Both\" button, but it doesn't currently work. \n        if(isManaged && isUnmanaged){\n        \tif(isBeingRemovedFromManaged && isBeingRemovedFromUnmanaged){\n        \t\tvar sDisabled = ' disabled=\"disabled\" ' ;\n        \t}\n        \telse {\n        \t\tvar sDisabled = '';\n        \t}\n        \t//output += '<li><button type=\"button\" id=\"'+bAttrId+'\"'+sDisabled+'value=\"removeBoth\" class=\"btn\">Remove Both</button></li>';\n        }\n        \n        output += closingUl+\"</div>\";\n        return output;\n    }\n    \n    \n    /**\n     * callback that renders the \"managed\" column of the datatable.\n     * \n     * @param oObj\n     * @returns {string}\n     */\n    function fnRenderAddButtonsColumn(oObj) {\n        // in spite of the name, aData is an object corresponding to the current row\n        \n    \tvar oSettings = oObj.oSettings;\n    \tvar aData = oObj.aData;\n    \tvar id = aData.id;\n        var mAttrId = \"btnAddManagedId_\" + id;\n        var uAttrId = \"btnAddUnmanagedId_\" + id;\n        var bAttrId = \"btnAddBothId_\" + id;\n        \n        //this isn't right, becomes tightly coupled, but need a better way of doing it.\n        var  $dataTable = $(\"#resource_datatable\");\n        \n        var addManagedIds \t\t= $dataTable.data(\"toAddManaged\");\n        var addUnmanagedIds \t= $dataTable.data(\"toAddUnmanaged\");\n        var removeManagedIds \t= $dataTable.data(\"toRemoveManaged\");\n        var removeUnmanagedIds \t= $dataTable.data(\"toRemoveUnmanaged\");\n        \n        //This will set if the resource id is in the array of IDs to be removed/added. \n        var isBeingAddedToManaged \t\t= addManagedIds.indexOf(id) > -1;\n        var isBeingAddedToUnmanaged\t\t= addUnmanagedIds.indexOf(id) > -1;\n\n        var isManaged   = aData.isManagedResult   == true;\n        var isUnmanaged = aData.isUnmanagedResult == true;\n        \n        var output = '<div class=\"btn-group\">';\n        if(!isManaged){ //If the resource is added as managed, then display the button to allow it to be added. \n        \t\n        \t//if the resource is manged, but the remove button has been clicked, then the button needs to be disabled so it can't be added again. \n        \tif(isBeingAddedToManaged){\n        \t\tvar sDisabled = ' disabled=\"disabled\" ' ;\n        \t}\n        \t//The normal state of the button is to allow it to be clickable. \n        \telse { \n        \t\tvar sDisabled = '';\n        \t}\n        \t\n        \t//This is the button\n        \toutput += '<button type=\"button\" id=\"'+mAttrId+'\"'+sDisabled+'value=\"addManaged\" class=\"btn\">Add Managed</button>';\n\n        \t//So if the resource is already added as an unmanaged, then don't give option to add as Unmanaged. \n        \tif(!isUnmanaged){\n        \t\toutput += '<button type=\"button\" class=\"btn dropdown-toggle\" data-toggle=\"dropdown\">   <span class=\"caret\"></span></button>';\n        \t\toutput += '<ul class=\"dropdown-menu\" role=\"menu\">';\n        \t}\n        \t\n        }\n\n        if(!isUnmanaged){\n        \tif(isBeingAddedToUnmanaged){\n        \t\tvar sDisabled = ' disabled=\"disabled\" ' ;\n        \t}\n        \telse {\n        \t\tvar sDisabled = '';\n        \t}\n        \t\n        \toutput += '<li><button type=\"button\" id=\"'+uAttrId+'\"'+sDisabled+'value=\"addUnmanaged\" class=\"btn\">Add Unmanaged</button></li></ul>';\n        }\n        \n\n        //This is supposed to be for a \"Add to Both\" option, but it doesn't work quite right. This requires additional logic so that when it is removed\n        //from only one side of the manage/unmanaged collection, the state should be reset consistently. \n        /**\n        if(!isManaged && !isUnmanaged){\n        \tif(!isBeingAddedToManaged && isBeingAddedToUnmanaged){\n        \t\tvar sDisabled = ' disabled=\"disabled\" ' ;\n        \t}\n        \telse {\n        \t\tvar sDisabled = '';\n        \t}\n        \t//output += '<li><button type=\"button\" id=\"'+bAttrId+'\"'+sDisabled+'value=\"addBoth\" class=\"btn\">Add Both</button></li>';\n        }**/\n        \n        output += \"</div>\";\n        return output;\n    }\n    \n    /**\n     * The Datatable settings are not being passed correctly to the fnRender callback\n     * So there's no way to get know what options were set in.\n     * \n     * Instead a different callback was setup to circumvent that issue.\n     * \n     * @param oObj\n     * @returns {string}\n     */\n    function fnRenderAddButtonsColumnManagedOnly(oObj) {\n        // in spite of the name, aData is an object corresponding to the current row\n        \n    \tvar oSettings = oObj.oSettings;\n    \tvar aData = oObj.aData;\n    \tvar id = aData.id;\n        var mAttrId = \"btnAddManagedId_\" + id;\n        var uAttrId = \"btnAddUnmanagedId_\" + id;\n        var bAttrId = \"btnAddBothId_\" + id;\n        \n        //this isn't right, becomes tightly coupled, but need a better way of doing it.\n        var  $dataTable = $(\"#resource_datatable\");\n        \n        var addManagedIds \t\t= $dataTable.data(\"toAddManaged\");\n        var addUnmanagedIds \t= $dataTable.data(\"toAddUnmanaged\");\n        var removeManagedIds \t= $dataTable.data(\"toRemoveManaged\");\n        var removeUnmanagedIds \t= $dataTable.data(\"toRemoveUnmanaged\");\n        \n        //This will set if the resource id is in the array of IDs to be removed/added. \n        var isBeingAddedToManaged \t\t= addManagedIds.indexOf(id) > -1;\n        var isBeingAddedToUnmanaged\t\t= addUnmanagedIds.indexOf(id) > -1;\n\n        var isManaged   = aData.isManagedResult   == true;\n        var isUnmanaged = aData.isUnmanagedResult == true;\n        \n        var output = '<div class=\"btn-group\">';\n        if(!isManaged){\n        \t//if the resource is manged, but has been put into the remove from managed\n        \tif(isBeingAddedToManaged){\n        \t\tvar sDisabled = ' disabled=\"disabled\" ' ;\n        \t}\n        \telse {\n        \t\tvar sDisabled = '';\n        \t}\n        \t\n        \toutput += '<button type=\"button\" id=\"'+mAttrId+'\"'+sDisabled+'value=\"addManaged\" class=\"btn\">Add</button>';\n        }\n        output += \"</div>\";\n        return output;\n    }\n    \n    \n    \n    function fnRenderStatusColumn(oObj){\n        var id = oObj.aData.id;\n        var managed   = oObj.aData.isManagedResult   == true;\n        var unmanaged = oObj.aData.isUnmanagedResult == true;\n    \t\n        return (managed ? \"Managed \" :\"\") + (unmanaged ? \" Unmanaged\":\"\");\n    }\n    \n    \n    /**\n     * callback that renders the \"managed\" column of the datatable.\n     * \n     * @param oObj\n     * @returns {string}\n     */\n    function fnRenderAddRemoveColumn(oObj) {\n        // in spite of the name, aData is an object corresponding to the current row\n        var id = oObj.aData.id;\n        var managedAttrId = \"btnAddManagedId_\" + id;\n        var resourceType = oObj.aData.resourceType;\n        // not all things are resourceTypes that are rendered like this\n        if (resourceType) {\n            resourceType = resourceType.toLowerCase();\n        }\n        // console.log(\"resource type:%s\", resourceType);\n        return ('<label class=\"datatable-cell-unstyled\">' +\n                '<input type=\"checkbox\" class=\"datatable-checkbox ' + resourceType + '\" id=\"' + attrId + '\" value=\"' + id + '\" >'\n                + '</label>');\n    }\n    \n    \n\n    /**\n     * datatable cell render callback: this callback specifically renders a resource title.\n     * \n     * @param oObj\n     *            row object\n     * @returns {string} html to place insert into the cell\n     */\n    function fnRenderTitle(oObj) {\n        // in spite of name, aData is an object containing the resource record for this row\n        var objResource = oObj.aData;\n        var html = '<a href=\"' + core.uri(objResource.urlNamespace + '/' + objResource.id) + '\" class=\\'title\\'>' + common.htmlEncode(objResource.title) +\n                '</a>';\n        html += ' (ID: ' + objResource.id\n        if (objResource.status != 'ACTIVE') {\n            html += \" \" + objResource.status;\n        }\n        html += ')';\n        return html;\n    }\n\n    /**\n     * datatable cell render callback: this callback emits the title and decription.\n     * \n     * @param oObj\n     *            row object\n     * @returns {string} html to place insert into the cell\n     */\n    function fnRenderTitleAndDescription(oObj) {\n        var objResource = oObj.aData;\n        return fnRenderTitle(oObj) + '<br /> <p>' + common.htmlEncode(core.ellipsify(objResource.description, 80)) + '</p>';\n    }\n\n    /**\n     * initialize the datatable used for the dashboard page, as well as the datatable search controls.\n     * \n     * @param options\n     * @private\n     */\n    function _setupDashboardDataTable(options) {\n    \t\n    \tconsole.log(\"Settign up Dashboard Datatable\");\n        var _options = $.extend({}, options);\n        _extendSorting();\n\n        jQuery.fn.dataTableExt.oPagination.iFullNumbersShowPages = 3;\n        $.extend($.fn.dataTableExt.oStdClasses, {\n            \"sWrapper\" : \"dataTables_wrapper form-inline\"\n        });\n\n        var _fnRenderTitle = _options.showDescription ? fnRenderTitleAndDescription : fnRenderTitle;\n\n        var aoColumns_ = [ {\n            \"mDataProp\" : \"title\",\n            fnRender : _fnRenderTitle,\n            bUseRendered : false,\n            \"bSortable\" : false\n        }, {\n            \"mDataProp\" : \"resourceTypeLabel\",\n            \"bSortable\" : false\n        } ];\n        // make id the first column when datatable is selectable\n        \n        \n        \n        if (_options.isClickable) {\n           aoColumns_.unshift({\n               \"mDataProp\" : \"id\",\n               tdarSortOption : \"ID\",\n               sWidth : '5em',\n                \"bSortable\" : false\n            });\n        }\n        \n        if(_options.enableUnmanagedCollections){\n        \tconsole.log(\"Enabling Unmanaged Collections. Adding column for status\");\n        \tconsole.log(\"If a rendering error occurs, it may be because the column is not being rendered in freemarker\");\n        \taoColumns_.push({\n\t        \t\"mData\" : null, \n\t        \tfnRender : fnRenderStatusColumn,\n\t        \t\"bSortable\" : false\n\t        });\n        }\n        \n        if(_options.isClickable){\n        \tconsole.log(\"Clickable is enabled. Adding a column for action\");\n        \tconsole.log(\"If a rendering error occurs, it may be because the column is not being rendered in freemarker\");\n\t        aoColumns_.push({\n\t        \t\"mData\" : null,\n\t        \tfnRender : _options.enableUnmanagedCollections ? fnRenderAddButtonsColumn : fnRenderAddButtonsColumnManagedOnly,\n\t        \t\"bSortable\" : false,\n\t        });\n        }\n        \n        \n        var $dataTable = $('#resource_datatable');\n        \n        _registerLookupDataTable({\n            tableSelector : '#resource_datatable',\n            sAjaxSource : core.uri( 'api/lookup/resource'),\n            \"bLengthChange\" : true,\n            \"bFilter\" : false,\n            aoColumns : aoColumns_,\n            // \"sDom\": \"<'row'<'span9'l><'span6'f>r>t<'row'<'span4'i><'span5'p>>\",\n            \"sDom\" : \"<'row'<'span6'l><'pull-right span3'r>>t<'row'<'span4'i><'span5'p>>\", // no text filter!\n            \"sAjaxDataProp\" : 'resources',\n            \"oLanguage\": {\n                \"sZeroRecords\": \"No records found. <span id='fltrTxt'>Consider <a id='lnkResetFilters' href='javascript:void(0)'>expanding your search</a></span>\"\n        \t},\n        \t\n            requestCallback : function(searchBoxContents) {\n                var parms =  {\n                    title : searchBoxContents,\n                    'resourceTypes' : $(\"#resourceTypes\").val() == undefined ? \"\" : $(\"#resourceTypes\").val(),\n                    'includedStatuses' : $(\"#statuses\").val() == undefined ? \"\" : $(\"#statuses\").val(),\n                    'sortField' : $(\"#sortBy\").val(),\n                    'query' : $(\"#query\").val(),\n                    'projectId' : $(\"#project-selector\").val(),\n                    'collectionId' : $(\"#collection-selector\").val(),\n                    selectResourcesFromCollectionid: options.selectResourcesFromCollectionid\n                };\n                \n                if (!_options.isAdministrator && _options.limitContext == true ) {\n                    parms['useSubmitterContext'] = true;\n                } else {\n                    parms['useSubmitterContext'] = false;\n                }\n                if($(\"#parentCollectionsIncluded\").length) {\n                    parms.parentCollectionsIncluded = (!$(\"#parentCollectionsIncluded\").prop(\"checked\")).toString();\n                }\n                return parms;\n            },\n            \n            selectableRows : _options.isSelectable,\n            clickableRows : true, //_options.isClickable,\n            \n            \n            //this dashboard table method is used in different places, so some may need checkboxes to be rendered,\n            //while others need the add and remove buttons. \n            rowSelectionCallback : function(id, obj, isAdded, isManaged) {\n            \tif(_options.isClickable){\n                    if (isAdded) {\n                    \t_addResourceToVueModel(obj, $dataTable, isManaged);\n                    } else {\n                    \t_removeResourceFromVueModel(obj, $dataTable, isManaged);\n                    }\n            \t}\n            \t\n            \telse if(_options.isSelectable) {\n            \t\tif(isAdded){\n            \t\t\t_rowSelected(obj, $dataTable);\n            \t\t}\n            \t\telse {\n            \t\t\t_rowUnselected(obj, $dataTable);\n            \t\t}\n            \t}\n            }\n            \n            \n        });\n\n        \n        //\n        //Sets event handlers for the selection filters. \n        //\n        var $cs = $(\"#collection-selector\");\n        var $ps = $(\"#project-selector\");\n        var $rdt = $(\"#resource_datatable\");\n        $rdt.on(\"click\", \"#lnkResetFilters\", function(){_resetAllFilters()});\n\n        //if the user modifies any of the filter controls, execute a new search and update the results\n        //fixme: refactor these event bindings. lots of duplication here\n        $ps.change(function() {\n            var projId = $(this).val();\n            $rdt.dataTable().fnDraw();\n        });\n        $cs.change(function() {\n            var colId = $(this).val();\n            $rdt.dataTable().fnDraw();\n        });\n\n        $(\"#resourceTypes\").change(function() {\n            $rdt.dataTable().fnDraw();\n        });\n\n        $(\"#statuses\").change(function() {\n            $rdt.dataTable().fnDraw();\n        });\n\n        $(\"#sortBy\").change(function() {\n            $rdt.dataTable().fnDraw();\n        });\n\n        $(\"#query\").change(function() {\n            $rdt.dataTable().fnDraw();\n        });\n\n        $(\"#query\").bindWithDelay(\"keyup\", function() {\n            $rdt.dataTable().fnDraw();\n        }, 500);\n\n        $(\"#parentCollectionsIncluded\").change(function(){\n            var $elem = $(this);\n            var collectionId = $(\"#metadataForm_id\").val();\n            if($elem.prop(\"checked\")) {\n                $cs.val(collectionId);\n            } else {\n                //select the first option (all collections)\n                $cs.val(\"\");\n            }\n            $rdt.dataTable().fnDraw();\n        });\n        _scrollOnPagination();\n    }\n    \n    \n    /**\n     * initialize the datatable used for the edit collection page for displaying the resources in the collection.\n     * \n     * @param options\n     * @private\n     */\n    function _setupCollectionResourcesDataTable(options) {\n        var _options = $.extend({}, options);\n        _extendSorting();\n\n        jQuery.fn.dataTableExt.oPagination.iFullNumbersShowPages = 3;\n        $.extend($.fn.dataTableExt.oStdClasses, {\n            \"sWrapper\" : \"dataTables_wrapper form-inline\"\n        });\n\n        var _fnRenderTitle = _options.showDescription ? fnRenderTitleAndDescription : fnRenderTitle;\n\n        var aoColumns_ = [ \n        \t{\n                \"mDataProp\" : \"id\",\n                tdarSortOption : \"ID\",\n                sWidth : '5em',\n                \"bSortable\" : false\n            },\n            \n        \t{\n             \"mDataProp\" : \"title\",\n             \"bSortable\" : false\n        \t}, \n        \t\n\t        {\n\t            \"mDataProp\" : \"resourceTypeLabel\",\n\t            \"bSortable\" : false\n\t        },\n        ];\n        \n        //If the user is an admin, they should see an additional column for status. \n        //This shows if the resosrce is managed/unmanaged. Regular users don't see this status. \n        //see edit.ftl for the HTML. \n        console.log(\"the options are \",_options);\n        \n        if(_options.enableUnmanagedCollections){\n        \taoColumns_.push({\n\t        \t\"mData\" : null, \n\t        \tfnRender : fnRenderStatusColumn,\n\t        \t\"bSortable\" : false\n\t        });\n        }\n        \n    \taoColumns_.push({\n        \t\"mData\" : null,\n        \tfnRender : fnRenderRemoveButtonsColumn,\n        \t\"bSortable\" : false,\n        });\n        \n        var selector  = '#existing_resources_datatable';\n        var $dataTable = $(selector);\n        _registerLookupDataTable({\n            tableSelector : selector,\n            sAjaxSource : core.uri( 'api/lookup/resource'),\n            \"bLengthChange\" : true,\n            \"bFilter\" : false,\n            aoColumns : aoColumns_,\n            \"sDom\" : \"<'row'<'span6'l><'pull-right span3'r>>t<'row'<'span4'i><'span5'p>>\", // no text filter!\n            sAjaxDataProp : 'resources',\n            \"oLanguage\": {\n                \t\"sZeroRecords\": \"No records found. <span id='fltrTxt'>Consider <a id='lnkResetFilters' href='javascript:void(0)'>expanding your search</a></span>\"\n             },\n            \n        \trequestCallback : function(searchBoxContents) {\n                var parms =  {\n                    //These fields aren't used in request. They were used in the advanced options form that\n            \t\t//isn't used for existing resources.\n                \ttitle : searchBoxContents,\n                    'resourceTypes' : \"\",\n                    'includedStatuses' : \"\",\n                    'sortField' : \"\",\n                    'query' : $(\"#existing_res_query\").val(),\n                    'projectId' : \"\",\n                  \n                \t//These are sent. \n                    'collectionId' : $(\"#metadataForm_id\").val(),\n                    selectResourcesFromCollectionid: options.selectResourcesFromCollectionid,\n                    parentCollectionsIncluded : true,\n                };\n                \n                if (!_options.isAdministrator && _options.limitContext == true ) {\n                    parms['useSubmitterContext'] = true;\n                } else {\n                    parms['useSubmitterContext'] = false;\n                }\n                \n                return parms;\n            },\n            \n            selectableRows : false,\n            clickableRows  : true,\n            \n            //Used to handle the pre-render\n            fnRowCallback : function(nRow, obj, iDisplayIndex, iDisplayIndexFull) {\n            \t\n            \t\n            },\n            \n            rowSelectionCallback : function(id, obj, isAdded, isManaged) {\n                if (isAdded) {\n                \t_addResourceToVueModel(obj, $dataTable, isManaged);\n                } else {\n                \t_removeResourceFromVueModel(obj, $dataTable, isManaged);\n                }\n            }\n            \n        });\n\n        var $rdt = $(\"#existing_resources_datatable\");\n\n        $(\"#existing_res_query\").change(function() {\n            $rdt.dataTable().fnDraw();\n        });\n\n        $(\"#existing_res_query\").bindWithDelay(\"keyup\", function() {\n            $rdt.dataTable().fnDraw();\n        }, 500);\n\n        _scrollOnPagination();\n    }\n    \n\n    function _removePendingChange(id, isManaged, isAddition, $dataTable){\n    \t\n    \tconsole.log(\"Called datatable.removePendingChange\");\n    \t\n    \t\n    \tif($dataTable == undefined || $dataTable == null){\n    \t\tconsole.error(\"!!! error in _removePendingChange: $dataTable is undefined\");\n    \t\treturn;\n    \t}\n    \telse {\n    \t\t/**\n    \t\t * If the followign debug statement puts out somethign very long ,then its probable that the DOM didn't load correctly. \n    \t\t */\n    \t\t\n    \t\t//console.debug(\"Datatable is \",$dataTable);\n    \t}\n    \t\n    \t\n    \tvar array = \"\";\n    \tvar btnId = \"\";\n    \t\n    \tif(isManaged){\n    \t    console.log(\"Removing pending change from managed\");\n    \t\tif(isAddition){\n    \t\t\tarray =  'toAddManaged'\n    \t\t\tbtnId = \"btnAddManagedId_\";\n    \t\t}\n\t    \telse{\n\t    \t\tarray = 'toRemoveManaged';\n\t    \t\tbtnId = \"btnRemoveManagedId_\";\n\t    \t}\n    \t}\n    \telse {\n    \t\tconsole.log(\"Removing pending change from unmanaged\");\n    \t\tif(isAddition){\n    \t\t\tarray = 'toAddUnmanaged';\n    \t\t\tbtnId = \"btnAddUnmanagedId_\";\n    \t\t}\n    \t\telse {\n    \t\t\tvar array = 'toRemoveUnmanaged';\n    \t\t\tbtnId = \"btnRemoveUnmanagedId_\";\n    \t\t}\n    \t}\n    \t\n    \tconsole.log(\"Removing pending change from data\");\n    \tconsole.log(\"Id to remove is \"+id);\n    \tconsole.log(\"Array key is \"+array);\n    \t\n    \t/**\n    \t * if the jQuery selector doesn't return a correct element, then the .data() function will return a null array and it will throw \n    \t * and error. \n    \t */\n    \t\n    \t_arrayRemove($dataTable.data(array),parseInt(id));\n\n    \tvar buttonId = \"#\"+btnId+id;\n    \tconsole.log(\"Reenabling button \"+buttonId);\n    \t$(buttonId).removeAttr(\"disabled\");\n    \t\n    \t\n    \t/**\n    \t * If the jQuery selector is not valid, then the redraw table function won't work correctly. \n    \t */\n    \t$dataTable.dataTable().fnDraw();\n    }\n    \n    \n    /**\n     * Reset all filters, then trigger a 'change' so that we build a new query and render the results\n     * @private\n     */\n    function _resetAllFilters() {\n        //reset all dropdowns, but only trigger change for one of them (otherwise datatable may try to re-render N times)\n        var $divSearchFilters = $(\".div-search-filters\");\n        $divSearchFilters.find(\"input[type=checkbox]\").prop(\"checked\", false);\n        $divSearchFilters.find(\"select\").prop(\"selectedIndex\", 0).last().change();\n\n    }\n\n    //\n    /**\n     * populate the dataTable.data('selectedRows') from the hidden inputs in #divSelectedResources (e.g. when rendering 'edit' or 'input' form)\n     * \n     * @param dataTable\n     *            datatable widget\n     * @param resourcesTable\n     *            the table that contains the selected datatable rows.\n     * @private\n     */\n    function _registerResourceCollectionDataTable(dataTable, resourcesTable) {\n        // if user is editing existing collection, gather the hidden elements and put them in the 'seleted rows' object\n        var $dataTable = $(dataTable);\n        var $resourcesTable = $(resourcesTable);\n        var selectedRows = {};\n\n        $.each($('input', '#divSelectedResources'), function() {\n            var elem = this;\n            selectedRows[elem.value] = {\n                id : elem.value,\n                title : 'n/a',\n                description : 'n/a'\n            };\n        });\n        $dataTable.data('selectedRows', selectedRows);\n\n        // hide the selected items table if server hasn't prepopulated it\n        if ($resourcesTable.find('tr').length == 1) {\n            $resourcesTable.hide();\n        }\n    }\n\n    /**\n     * row selected callback. This callback constructs a table row for the \"selected records\" table\n     * \n     * @param obj\n     * @private\n     */\n    function _rowSelected(obj, $dataTable) {\n        var $tableAdd = $(\"#tblToAdd\");\n        var $tableRemove = $(\"#tblToRemove\");\n\n        //remove tr, hidden field, id from  the 'remove' lists, if present\n        _arrayRemove($dataTable.data(\"toRemove\"), obj.id);\n        $(\"#trmod_\" + obj.id).remove();\n\n        //if the resource was part of the collection to begin with, do nothing\n        if(obj.isSelectedResult)  {\n        } else {\n            _addRow($dataTable, $tableAdd, \"trmod_\" + obj.id, obj,\"toAdd\");\n\n        }\n    }\n\n    /**\n     * row unselected callback: remove the row of the \"selected records\" table\n     * \n     * @param obj\n     * @private\n     */\n    function _rowUnselected(obj, $dataTable) {\n        var $tableAdd = $(\"#tblToAdd\");\n        var $tableRemove = $(\"#tblToRemove\");\n\n        //remove tr, hidden field, id from  the 'add' lists, if present\n        _arrayRemove($dataTable.data(\"toAdd\"), obj.id);\n        $(\"#trmod_\" + obj.id).remove();\n\n        //if resource wasn't part of selection to begin with, do nothing\n        if(obj.isSelectedResult)  {\n\t        // add the hidden input tag to the dom\n\t        // next, add a new row to the 'selected items' table.\n\t        _addRow($dataTable, $tableRemove, \"trmod_\" + obj.id, obj, \"toRemove\");\n        } \n        else {\n        \t\n        }\n    }\n\n    function _addRow($dataTable, $table, idattr, obj, action) {\n        /**\n         * Modification to use encapsulation and less dom manipulation --\n         * Row contains hidden input, so removing the row, removes the element entirely\n         */\n        _arrayAdd($dataTable.data(action), obj.id);\n\n        var $tr = $(\"<tr><td>\" + obj.id \n                + '<input type=\"hidden\" name=\"'+action+'\" value=\"' + obj.id + '\" id=\"hrid' + obj.id + '\">'\n                + \"</td><td>\"+obj.title+\"</td></tr>\");\n        $tr.attr(\"id\", idattr);\n        $table.append($tr);\n    }\n    \n    /**\n     * row selected callback. This callback constructs a table row for the \"selected records\" table\n     * \n     * @param obj\n     * @private\n     */\n    function _addResourceToVueModel(obj, $dataTable, isManaged) {\n        _arrayRemove($dataTable.data(\"toRemove\"), obj.id);\n\n        if(isManaged && !obj.isManagedResult)  {\n        \tconsole.log(\"Adding managed resource to the vue model\");\n        \t//Instead of directly manipulating the vue model, this should invoke some method to be called. \n        \tvm.managedAdditions.push(obj);\n        }\n        else if (!isManaged && !obj.isUnmanagedResult){\n        \tconsole.log(\"Adding umanaged resource to the vue model\");\n        \tvm.unmanagedAdditions.push(obj);\n        }\n    }\n    \n\n    /**\n     * row unselected callback: remove the row of the \"selected records\" table\n     * \n     * @param obj\n     * @private\n     */\n    function _removeResourceFromVueModel(obj, $dataTable, isManaged) {\n        if(isManaged && obj.isManagedResult)  {\n        \tconsole.log(\"Removing managed resource \"+obj.id+\" from the vue model\");\n        \tvm.managedRemovals.push(obj);\n        }\n        else if (!isManaged && obj.isUnmanagedResult){\n        \tconsole.log(\"Removing umanaged resource \"+obj.id+\" from the vue model\");\n        \tvm.unmanagedRemovals.push(obj);\n        }\n    }\n    \n\n\n    /**\n     * pagination callback: this callback returns the vertical scroll position to the top of the page when the user navigates to a new page.\n     * \n     * @private\n     */\n    function _scrollOnPagination() {\n        $(\".dataTables_paginate a\").click(function() {\n            $(\".dataTables_scrollBody\").animate({\n                scrollTop : 0\n            });\n            return true;\n        });\n    }\n\n    /**\n     * Define sorting behavior when user clicks on datatable columns. Currency detection courtesy of Allan Jardine, Nuno Gomes\n     * (http://legacy.datatables.net/plug-ins/type-detection)\n     * \n     * @private\n     */\n    function _extendSorting() {\n        // match anything that is not a currency symbol, seperator, or number (if some of these symbols appear identical then your IDE sucks)\n        // if regex matches we assume it is definitly not a currency (e.g. \"apple\"), if false it *may* be a currency (e.g. \"$3\")\n        var _reDetect = /[^$₠₡₢₣₤₥₦₧₨₩₪₫€₭₮₯₰₱₲₳₴₵¢₶0123456789.,-]/;\n\n        // assuming we have detected a currency string, we use this regex to strip out symbols prior to sort\n        var _rePrep = /[^-\\d.]/g\n\n        function _fnCurrencyDetect(sData) {\n            var ret = null;\n            if (typeof sData !== \"string\" || _reDetect.test(sData)) {\n                ret = null;\n            } else {\n                ret = \"tdar-currency\";\n            }\n            return ret;\n        }\n\n        function _fnCurrencySortPrep(a) {\n            a = (a === \"-\") ? 0 : a.replace(_rePrep, \"\");\n            return parseFloat(a);\n        }\n\n        function _fnCurrencySortAsc(a, b) {\n            return a - b;\n        }\n\n        function _fnCurrencySortDesc(a, b) {\n            return b - a;\n        }\n\n        // add our custom type detector to the front of the line\n        jQuery.fn.dataTableExt.aTypes.unshift(_fnCurrencyDetect);\n\n        // register our custom sorters\n        jQuery.fn.dataTableExt.oSort['tdar-currency-pre'] = _fnCurrencySortPrep;\n        jQuery.fn.dataTableExt.oSort['tdar-currency-asc'] = _fnCurrencySortAsc;\n        jQuery.fn.dataTableExt.oSort['tdar-currency-desc'] = _fnCurrencySortDesc;\n    }\n\n    function _fnRenderPersonId(oObj) {\n        // in spite of name, aData is an object containing the resource record for this row\n        var objResource = oObj.aData;\n        var html = '<a href=\"' + core.uri('browse/creators/' + objResource.id) + '\" class=\\'title\\'>' + objResource.id + '</a>';\n        return html;\n    }\n    function _registerUserLookupDatatable() {\n        var settings = {\n            tableSelector : '#dataTable',\n            sAjaxSource : core.uri() + 'api/lookup/person',\n            \"sDom\" : \"<'row'<'span6'l><'span6'f>r>t<'row'<'span4'i><'span5'p>>\",\n            sPaginationType : \"bootstrap\",\n            \"bLengthChange\" : true,\n            \"bFilter\" : true,\n            sAjaxDataProp : 'people',\n            selectableRows : false,\n            clickableRows : false,\n            aoColumns : [ {\n                sTitle : \"id\",\n                bUseRendered : false,\n                mDataProp : \"id\",\n                tdarSortOption : 'ID',\n                bSortable : false,\n                fnRender : window.TDAR.datatable.renderPersonId\n            }, {\n                sTitle : \"First\",\n                mDataProp : \"firstName\",\n                tdarSortOption : 'FIRST_NAME',\n                bSortable : false\n            }, {\n                sTitle : \"Last\",\n                mDataProp : \"lastName\",\n                tdarSortOption : 'LAST_NAME',\n                bSortable : false\n            }, {\n                sTitle : \"Email\",\n                mDataProp : \"email\",\n                tdarSortOption : 'CREATOR_EMAIL',\n                bSortable : false\n            } ],\n            requestCallback : function() {\n                return {\n                    minLookupLength : 0,\n                    registered : 'true',\n                    term : $(\"#dataTable_filter input\").val()\n                };\n            }\n        };\n\n        return window.TDAR.datatable.registerLookupDataTable(settings);\n    }\n\n    function _checkAllToggle() {\n        var unchecked = $('#resource_datatable td input[type=checkbox]:unchecked');\n        var checked = $('#resource_datatable td input[type=checkbox]:checked');\n        if (unchecked.length > 0) {\n            $(unchecked).click();\n        } else {\n            $(checked).click();\n        }\n    }\n\n    function _registerChild(id, title) {\n        var _windowOpener = null;\n        // swallow cors exception. this can happen if window is a child but not an adhoc target\n        try {\n            if (window.opener) {\n                _windowOpener = common.adhocTarget;\n            }\n        } catch (ex) {\n            //console.log(\"window parent not available - skipping adhoctarget check\");\n        }\n\n        if (_windowOpener) {\n            window.opener.common.populateTarget({\n                id : id,\n                title : title\n            });\n\n            /*$(\"#datatable-child\").dialog({\n                resizable : false,\n                modal : true,\n                buttons : {\n                    \"Return to original page\" : function() {\n                        window.opener.focus();\n                        window.close();\n                    },\n                    \"Stay on this page\" : function() {\n                        window.opener.adhocTarget = null;\n                        $(this).dialog(\"close\");\n                    }\n                }\n            });*/\n            \n            \n        }\n    }\n\n    function _initializeCollectionAddRemove(id) {\n        //dont allow submit until collection contents fully initialized.\n//        $(\".submitButton\").prop(\"disabled\", true);\n        var $datatable = $(\"#resource_datatable\");\n        var $container = $(\"#divNoticeContainer\");\n\n        $datatable.on(\"change\", \".datatable-checkbox.project\", function() {\n            if ($container.is(\":visible\")) {\n                return;\n            }\n            if ($(this).is(\":checked\")) {\n                $container.show();\n            }\n        });\n    }\n\n    function _initalizeResourceDatasetDataTable(columns, viewRowSupported, resourceId, namespace, dataTableId) {\n        jQuery.fn.dataTableExt.oPagination.iFullNumbersShowPages = 3;\n        $.extend($.fn.dataTableExt.oStdClasses, {\n            \"sWrapper\" : \"dataTables_wrapper form-inline\"\n        });\n\n        var offset = 0;\n        var browseUrl = core.uri(\"datatable/browse?id=\" + dataTableId);\n        var options = {\n            \"sAjaxDataProp\" : \"results\",\n            \"sDom\" : \"<'row'<'span6'l><'span3'>r>t<'row'<'span4'i><'span5'p>>\",\n            \"bProcessing\" : true,\n            \"bServerSide\" : true,\n            \"bScrollInfinite\" : false,\n            \"bScrollCollapse\" : true,\n            tableSelector : '#dataTable',\n            sPaginationType : \"bootstrap\",\n            sScrollX : \"100%\",\n            \"sScrollY\" : \"\",\n            \"aoColumns\" : [],\n            \"sAjaxSource\" : browseUrl\n        };\n\n        if (viewRowSupported) {\n            options.aoColumns.push({\n                \"bSortable\" : false,\n                \"sName\" : \"id_row_tdar\",\n                \"sTitle\" : '<i class=\"icon-eye-open  icon-white\"></i>',\n                \"fnRender\" : function(obj) {\n                    return '<a href=\"' + core.uri( namespace + '/row/' + resourceId + '/' + dataTableId + '/' + obj.aData[0] ) +\n                            '\" title=\"View row as page...\"><i class=\"icon-list-alt\"></i></a></li>';\n                }\n            });\n            offset++;\n        }\n        ;\n        var size = 0;\n        for ( var col in columns) {\n            if (columns.hasOwnProperty(col)) {\n                size++;\n                options.aoColumns.push({\n                    \"bSortable\" : false,\n                    \"sName\" : columns[col].simpleName,\n                    \"sTitle\" : columns[col].displayName,\n                    \"tdarIdx\" : size + offset -1,\n                    \"fnRender\" : function(obj) {\n                        var val = obj.aData[this.tdarIdx];\n                        var str = common.htmlEncode(val);\n                        return str;\n                    }\n                });\n            }\n        }\n        if (size > 0) {\n            return window.TDAR.datatable.registerLookupDataTable(options);\n        }\n\n    }\n    \n    \n\n\n    /**\n     *\n     * @param url\n     * @param dataTableId\n     * @returns {*} promise of array of columnInfo objects\n     * @private\n     */\n    function _loadDatasetTableMetadata(url, dataTableId)  {\n        var data =  {\n            id: dataTableId,\n            startRecord: 0,\n            recordsPerPage: 1\n        };\n        var promise = $.get(url, data, \"jsonp\");\n        return promise;\n    }\n\n    /**\n     * add item to array if not found in array. returns undef\n     * @param arr\n     * @param item\n     * @private\n     */\n    function _arrayAdd(arr, item) {\n        if(arr==undefined){\n            console.error(\"Attempted to add an element to an array, but the array was undefined\");\n        }\n        \n        if(arr.indexOf(item) === -1) {\n            arr.push(item);\n        }\n    }\n\n    /**\n     * remove item from array if found. return undef\n     * @param arr\n     * @param item\n     * @private\n     */\n    function _arrayRemove(arr, item) {\n        \n        if(arr==undefined){\n            console.error(\"Attempted to remove an element from an array, but the array was undefined\");\n        }\n        else {\n\t        var idx = arr.indexOf(item);\n\t        \n\t        if(idx !== -1) {\n\t            arr.splice(idx, 1);\n\t        }\n    \t}\n    }\n\n\n    /**\n     * Initialize dataset datatable browser.  This method accepts no arguments, but requires configuration data\n     * from data-attributes.  Requirements:\n     *\n     * - <table> must have have ID of 'dataTable'\n     * - attribute data-data-table-selector:   selector to <select> dropdown that specifies the ID of the\n     *   dataTable to render. Will update on change events.\n     * - attribute data-default-data-table-id: ID of dataTable to render if no <select> dropdown exists\n     *\n     *\n     * @private\n     */\n    function _initDataTableBrowser() {\n        var config = $('#dataTable').data();\n        if(!config) return;\n        var $select = $(config.dataTableSelector);\n        var $dataTable = $('#dataTable');\n\n        var dataTableWidget = null;\n\n        var _loadThenInit = function(dataTableId,namespace){\n            //get the column schema for the default dataTable\n            var columnsPromise = _loadDatasetTableMetadata('/datatable/browse', dataTableId);\n            columnsPromise.done(function(data) {\n                var columns = data.fields.map(function(item){\n                    return {simpleName: item.name, displayName: item.displayName};\n                });\n\n                if(dataTableWidget) {\n                    dataTableWidget.fnDestroy();\n                    $dataTable.empty();\n                }\n                dataTableWidget = _initalizeResourceDatasetDataTable(columns, true, config.resourceId, namespace, dataTableId);\n            });\n\n        }\n\n        //if dataset has many tables, load & init the table every time user changes the dropdown\n        if($select.length) {\n            $select.change(function() {\n                _loadThenInit($select.val(),$(\"#browseTable\").data(\"namespace\"));\n            }).change();\n        }\n        // if only one dataset,  just load+init the table once\n        else {\n            _loadThenInit(config.defaultDataTableId, $(\"#browseTable\").data(\"namespace\"));\n        }\n\n    }\n    \n\n    module.exports = {\n        extendSorting : _extendSorting,\n        registerLookupDataTable : _registerLookupDataTable,\n        initUserDataTable : _registerUserLookupDatatable,\n        setupDashboardDataTable : _setupDashboardDataTable,\n        setupCollectionResourcesDataTable : _setupCollectionResourcesDataTable,\n        registerResourceCollectionDataTable : _registerResourceCollectionDataTable,\n        renderPersonId : _fnRenderPersonId,\n        checkAllToggle : _checkAllToggle,\n        registerChild : _registerChild,\n        initalizeResourceDatasetDataTable : _initalizeResourceDatasetDataTable,\n        registerAddRemoveSection : _initializeCollectionAddRemove,\n        initDataTableBrowser: _initDataTableBrowser,\n        removePendingChange: _removePendingChange\n    };\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\"), __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.datatable.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.datepicker.js":
/*!***********************************************!*\
  !*** ./src/main/webapp/js/tdar.datepicker.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {__webpack_require__(/*! ./../components/bootstrap-datepicker-eyecon/js/bootstrap-datepicker */ \"./src/main/webapp/components/bootstrap-datepicker-eyecon/js/bootstrap-datepicker.js\");\n__webpack_require__(/*! ../components/bootstrap-datepicker-eyecon/css/datepicker.css */ \"./src/main/webapp/components/bootstrap-datepicker-eyecon/css/datepicker.css\");\n\nvar _defaults = {format: \"mm/dd/yyyy\"}\n    //scan for any inputs with .datepicker class and initialize them.\n    var _init = function() {\n        $('input.datepicker').each(function(idx, el) {\n            _bind(el);\n        });\n    };\n\n    var _bind = function(el) {\n        $(el).datepicker({autoclose:true, format: \"mm/dd/yyyy\"}).on('changeDate', _handleEvent);\n    }\n\n    var _apply = function(el) {\n        el.datepicker(_defaults).on('changeDate',_handleEvent);\n    }\n\n    var _handleEvent = function(ev) {\n        var $t = $(ev.target);\n        if ($t.val() != '') {\n            $t.attr('placeholder',\"\");\n        }\n        console.log('handling changeDateEvent', $t.val());\n        $t.datepicker('hide');\n        $t.trigger(\"datechanged\");\n    }\n    \n    var _applyHidden = function(el) {\n        el.datepicker(_defaults).on('changeDate', _handleEvent).datepicker(\"hide\");\n    }\n    \n    //expose public elements\n    module.exports = {\n        \"init\": _init,\n        \"bind\": _bind,\n        \"apply\": _apply,\n        \"applyHidden\": _applyHidden,\n        \"defaults\": _defaults,\n        main : function() {\n            _init();\n        }\n\n    };\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.datepicker.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.formValidateExtensions.js":
/*!***********************************************************!*\
  !*** ./src/main/webapp/js/tdar.formValidateExtensions.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(jQuery, TDAR) {/**\n * Additional jQuery Validation methods used in tDAR forms\n */\n\n//FIXME: Audit these methods; see what needs to be modified/renamed/removed  (TDAR-3498)\n(function ($) {\n\n    //FIXME: Not used\n    $.validator.addMethod(\"formatUS\", function (value, element) {\n        return this.optional(element) || value.match(/^(0[1-9]|1[012]|[1-9])\\/(0[1-9]|[12][0-9]|3[01]|[1-9])\\/(19|20)\\d\\d$/);\n    }, \"The date format mm/dd/yyyy is expected\");\n\n    //FIXME: obviated by tdar.maps.js, and anyway I think this is funtionally no different than the \"number\" rule.\n    $.validator.addMethod(\"latLong\", function (value, element) {\n        return value.match(/^(((\\-?)(\\d+)(\\.?)(\\d*))|)$/);\n    }, \"a valid lat/long in the format DEG.Min/Sec (eg. -67.892068) required\");\n\n    /**\n     * Restrict 4-digit year to what we define to be \"reasonable\" (between 1001 & 2999)\n     */\n    $.validator.addMethod(\"reasonableDate\", function (value, element) {\n        var intVal = parseInt(value);\n        // allow -1 for internal management of things that don't have dates\n        return (intVal == value && (intVal == -1 || intVal == 3000 || (intVal > 1000 && intVal < 2050)));\n    }, \"a date in the last millenia is expected\");\n\n    //FIXME: not used\n    $.validator.addMethod(\"currentyearorlater\", function (value, element) {\n        var intVal = parseInt(value);\n        // allow -1 for internal management of things that don't have\n        // dates\n        return (intVal == value && (intVal >= 1900 + (new Date()).getYear() && intVal < 2050));\n    }, \"a date in the last millenia is expected\");\n\n    //FIXME: not used\n    $.validator.addMethod(\"month\", function (value, element) {\n        var intVal = parseInt(value);\n        // allow -1 for internal management of things that don't have dates\n        return (intVal == value && (intVal > 0 && intVal < 13));\n    }, \"please enter a valid month\");\n\n    /**\n     * String must adhere to ISBN 10/13 digit format\n     */\n    $.validator.addMethod(\"isbn\", function (value, element) {\n        if ($(element).is(':hidden')) {\n            return true;\n        } // skip validation if not showing\n        return value.match(/^|((978[\\--– ])?[0-9][0-9\\--– ]{10}[\\--– ][0-9xX])|((978)?[0-9]{9}[0-9Xx])$/);\n    }, \"you must include a valid 10/13 Digit ISBN\");\n\n    /**\n     * String must adhere to 8-digit ISSN format\n     */\n    $.validator.addMethod(\"issn\", function (value, element) {\n        if ($(element).is(':hidden')) {\n            return true;\n        }// skip validation if not showing\n        return value.match(/^(((\\d{4})-?(\\d{3})|(\\d{7}))(\\d|X|x)|)$/);\n    }, \"you must include a valid 8 Digit ISSN\");\n    \n    $.validator.addMethod(\"couponFilesOrSpace\", function(value, element) {\n            return !(parseInt($(\"#create-code_numberOfMb\").val())  > 0) && (parseInt($(\"#create-code_numberOfFiles\").val()) > 0);\n    });\n\n    $.validator.addMethod(\"doi\", function (value, element) {\n    \tvar $e = $(element);\n        if ($e.is(':hidden') || $e.val() == '') {\n            return true;\n        }// skip validation if not showing\n        // from : http://stackoverflow.com/questions/27910/finding-a-doi-in-a-document-or-page\n        return value.match(/^\\b(10[.][0-9]{4,}(?:[.][0-9]+)*\\/(?:(?![\"&\\'<>])\\S)+)\\b/);\n    }, \"you must include a valid DOI e.g.: 10.1000/182\");\n\n    //FIXME: already implemented in additional-methods.js\n    $.validator.addMethod(\"phoneUS\", function (phone_number, element) {\n        phone_number = phone_number.replace(/\\s+/g, \"\");\n        return this.optional(element) || phone_number.length > 9 && phone_number.match(/^(1-?)?(\\([2-9]\\d{2}\\)|[2-9]\\d{2})(\\s?-?)+[2-9]\\d{2}(-?\\s?)+\\d{4}$/);\n    }, \"Please specify a valid phone number\");\n\n    //FIXME: not used\n    $.validator.addMethod(\"ccverify\", function (ccverify, element) {\n        ccverify = ccverify.replace(/\\s+/g, \"\");\n        return this.optional(element) || ccverify.match(/^\\d{3,4}$/);\n    }, \"Please specify a valid verification number\");\n\n    /**\n     * Disallow short, simplistic titles e.g. \"image\"\n     */\n    $.validator.addMethod(\"descriptiveTitle\", function (value, element) {\n        return !value.match(/^(\\s*)(dataset|collection|project|document|image|coding sheet|ontology|video|scan)(\\s*)$/i);\n    }, \"Please use a more descriptive title\");\n\n    //FIXME: not used, redundant\n    $.validator.addMethod(\"float\", function (value, element) {\n        return value.match(/^(((\\-?)(\\d+)(\\.?)(\\d*))|)$/);\n    }, \"a valid lat/long in the format DEG.Min/Sec (eg. -67.892068) required\");\n\n    /**\n     * Only allow value in this element if it has a sibling input that stores a peristable ID which is not empty.\n     * Sometimes a user types a value in a autocomplete field, but focuses on another\n     * element before the autocomplete lookup completes.\n     */\n    $.validator.addMethod(\"notValidIfIdEmpty\", function (value, element) {\n        //no need to continue if the text field is blank\n        if ($.trim(value) === \"\") {\n            return true;\n        }\n\n        var $id = $($(element).attr(\"autocompleteIdElement\"));\n        return parseInt($id.val()) > -1;\n    }, \"Please select a value from the autocomplete menu\");\n\n    /**\n     * Only accept if element value is less than  or equal  to value of the specified element.\n     * @param param other element to compare to the current element\n     */\n    $.validator.addMethod('lessThanEqual', function (value, element, param) {\n        if (this.optional(element)) {\n            return true;\n        }\n        var i = parseInt(value);\n        var j = parseInt($(param[0]).val());\n        return i <= j;\n    }, \"A {1} value must be less than the {2} value\");\n\n    /**\n     * Only accept if element value is greater than or equal to the value of  the specified element.\n     * @param param other element to compare\n     */\n    $.validator.addMethod('greaterThanEqual', function (value, element, param) {\n        if (this.optional(element)) {\n            return true;\n        }\n        var i = parseInt(value);\n        var j = parseInt($(param[0]).val());\n        return i >= j;\n    }, \"A {1} value must be greater than the {2} value\");\n\n    /**\n     * Used with tdar \"coverage date\" control.  If the coverage date type is \"NONE\", the start and\n     * end values must be blank.\n     * @param {*} object.start is the \"startYear\" input element, object.end is the \"endYear\" input element\n     */\n    $.validator.addMethod('blankCoverageDate', function (value, element, param) {\n        var concatval = \"\" + $(param.start).val() + $(param.end).val();\n        return concatval.length === 0;\n    }, \"Choose a valid coverage date type:  'Calendar' or 'Radiocarbon'\");\n\n    /**\n     * Form must include at least one file upload. Only applies to forms that use the \"async\" file upload control.\n     */\n    $.validator.addMethod('asyncFilesRequired', function (value, elem) {\n        return $('tr', '#files').not('.noFiles').size() > 0;\n    }, \"At least one file upload is required.\");\n\n    //FIXME: consider renaming this instead of overriding original\n    /**\n     * A modification of the built-in \"number\" method.  Unlike the built-in version, this method accepts\n     * numbers with a leading decimal point.   Also, our version does not accept scientific notation formats\n     */\n    $.validator.addMethod('number', function (value, element) {\n        return this.optional(element) || /^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test(value);\n    }, $.validator.messages.number);\n\n    /**\n     * Only accept whole numbers\n     */\n    $.validator.addMethod('integer', function (value, element) {\n        return this.optional(element) || /^-?(?:\\d+)$/.test(value);\n    }, $.validator.messages.number);\n\n    /**\n     * Value is only required when element is visible.\n     *\n     * @deprecated  use 'ignore' option in validate() method instead. e.g.:\n     *\n     * $(\"#registerform\").validate({ignore:\":not(:visible)\"});\n     *\n     */\n    $.validator.addMethod('required-visible', function (value, element) {\n        var $element = $(element);\n        if ($element.is(':hidden')) {\n            return true;\n        }\n        return $element.val() != '';\n    }, \"this element is required\");\n\n    //FIXME: this needs refactoring.  Just keep reading...\n    /**\n     * This method applies to \"column type\" radio buttons on the edit-column-metadata page.  If the column\n     * contains invalid metadata for the selected column type,  this method indicates that the column type field\n     * is invalid.\n     */\n    $.validator.addMethod(\"columnEncoding\", function (value, element) {\n        //when using this method on radio buttons, validate only calls this function once per radio group (using the first element of the group for value, element)\n        //However, we still need to put put the error message in the title attr of the first element in group. Feels hokey but there you are.\n        console.log('validating:' + element.id + \"\\t value:\" + value);\n        var $element = $(element);\n        var $section = $(\"#\" + element.id).parents(\".datatablecolumn\").first();\n        var displayName = \"'\" + $section.find('h3 > .displayName').text() + \"'\";\n        var $selectedElement = $section.find('input[type=radio]:checked').first();\n\n        //if we came here by way of a form 're-validate', we need to make sure that validation logic in registerCheckboxInfo happens first.\n        /* FIXME: (TDAR-4470)this is the wrong way to do this.  Instead of calling out to an external validation routine,  the logic of registerCheckboxInfo needs to be a $.validation method,  and the code that is responsible for coloring the column \"status\" should be a listener to validation events.  */\n        TDAR.datasetMetadata.registerCheckboxInfo.call(element, \"tdar.formValidateExtensions.js\");\n\n        if ($selectedElement.is(':disabled')) {\n            var val = $selectedElement.val().toLowerCase().replace('_', ' ');\n            element.title = \"The selection '\" + val + \"' is no longer valid for column \" + displayName;\n            return false;\n        }\n\n        var $target = $element.closest(\".datatablecolumn\");\n        var square = $target.find(\".columnSquare.invalid\");\n        if (square == undefined || square.length == 0) {\n            return true;\n        } else {\n            element.title = \"Column \" + displayName + \" contains errors or invalid selections\";\n            return false;\n        }\n    });\n\n    \n    /**\n     * Only allow confidential file uploads if the user has added at least one  \"contact\" person/institution.\n     */\n    $.validator.addMethod(\"confidential-contact-required\", function (value, element) {\n        if (value === \"PUBLIC\") {\n            return true;\n        }\n                var $table = $('#creditTable');\n                var institutions = $table.find(\".creatorInstitution\").not(\".hidden\").toArray();\n                var persons = $table.find(\".creatorPerson\").not(\".hidden\").toArray();\n                var grepForValidContacts = function (creators) {\n                    //first, filter out the rows that don't have the 'contact' role selected\n                    var contactRows = $.grep(creators, function (row, idx) {\n\n                        var isContact = $(row).find(\".creator-role-select\").val() === \"CONTACT\";\n                        return isContact;\n                    });\n\n                    //now make sure those contacts aren't blank\n                    var validContacts = $.grep(contactRows, function (row, idx) {\n                        var isValid;\n                        if ($(row).hasClass(\"creatorPerson\")) {\n                            //person must have firstname, lastname specified\n\n                            var nonBlanks = $(row).find(\"[name $= 'lastName'],[name $= 'firstName']\").filter(function () {\n                                return $(this).val() != \"\";\n                            });\n                            isValid = nonBlanks.length == 2;\n                        } else {\n                            //institution must not be blank\n                            isValid = $(row).find(\"[name $= 'institution.name']\").val() != \"\";\n                        }\n                        return isValid;\n                    });\n\n                    return validContacts;\n                };\n\n                var contactCount = grepForValidContacts(institutions).length + grepForValidContacts(persons).length;\n                return contactCount > 0;\n\n            }, \"You must have at least one person/institution listed as a 'contact' under <b>Individual and Institutional Roles</b> when marking a file 'confidential'\");\n\n    /**\n     * Case-insensitive version of equalTo builtin.\n     */\n    $.validator.addMethod(\"equalToIgnoreCase\", function (value, element, param) {\n        return this.optional(element) ||\n            (value.toLowerCase() == $(param).val().toLowerCase());\n    }, \"Please enter the same value again. Not case-sensitive.\");\n\n})(jQuery, \"jquery.validate\");\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\"), __webpack_require__(/*! JS/tdar.master */ \"./src/main/webapp/js/tdar.master.js\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.formValidateExtensions.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.inheritance.js":
/*!************************************************!*\
  !*** ./src/main/webapp/js/tdar.inheritance.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {    /*\n     * DOWNWARD INHERITANCE SUPPORT\n     */\n    var indexExclusions = [ 'investigationTypeIds', 'approvedSiteTypeKeywordIds', 'approvedMaterialKeywordIds', 'approvedCultureKeywordIds' ];\n    var TYPE_PERSON = \"PERSON\";\n    var TYPE_INSTITUTION = \"INSTITUTION\";\n    var select2 = false;\n    \n    var _project = null;\n    \n    const core = __webpack_require__(/*! ./tdar.core */ \"./src/main/webapp/js/tdar.core.js\");\n    const validate = __webpack_require__(/*! ./tdar.validate */ \"./src/main/webapp/js/tdar.validate.js\");\n    const common = __webpack_require__(/*! ./tdar.common */ \"./src/main/webapp/js/tdar.common.js\");\n    const repeatrow = __webpack_require__(/*! ./tdar.repeatrow */ \"./src/main/webapp/js/tdar.repeatrow.js\");\n    const LatLon = __webpack_require__(/*! JS/latLongUtil-1.0 */ \"./src/main/webapp/js/latLongUtil-1.0.js\").LatLon;\n    const Geo = __webpack_require__(/*! JS/latLongUtil-1.0 */ \"./src/main/webapp/js/latLongUtil-1.0.js\").Geo;\n    \n    /**\n     * convenience function for $.populate()\n     *\n     * @param elemSelector form element sent to $.populate() (NOTE: must be form element due to bug in $.populate plugin, no matter what their documentation may say)\n     * @param formdata  pojo to send to $.populate()\n     * @private\n     */\n    function _populateSection(elemSelector, formdata) {\n\n        $(elemSelector).populate(formdata, {\n            resetForm: false,\n            phpNaming: false,\n            phpIndices: true,\n            strutsNaming: true,\n            noIndicesFor: indexExclusions\n        });\n        $(elemSelector).trigger(\"heightchange\");\n    }\n\n    /**\n     * convert a serialized project into the json format needed by the form.\n     * @param rawJson\n     * @returns *\n     * @private\n     */\n    function _convertToFormJson(rawJson) {\n        // create a skeleton of what we need\n        var obj = {\n\n            title: rawJson.title,\n            id: rawJson.id,\n            resourceType: rawJson.resourceType,\n            investigationInformation: {\n                investigationTypeIds: $.map(rawJson.activeInvestigationTypes, function (v) {\n                    return v.id;\n                }) || []\n            },\n            siteInformation: {\n                siteNameKeywords: $.map(rawJson.activeSiteNameKeywords, function (v) {\n                    return v.label;\n                }),\n                approvedSiteTypeKeywordIds: $.map(rawJson.approvedSiteTypeKeywords, function (v) {\n                    return v.id;\n                }) || [],\n                uncontrolledSiteTypeKeywords: $.map(rawJson.uncontrolledSiteTypeKeywords, function (v) {\n                    return v.label;\n                })\n            },\n            materialInformation: {\n                approvedMaterialKeywordIds: $.map(rawJson.approvedMaterialKeywords, function (v) {\n                    return v.id;\n                }) || [],\n                uncontrolledMaterialKeywords: $.map(rawJson.uncontrolledMaterialKeywords, function (v) {\n                    return v.label;\n                })\n            },\n            culturalInformation: {\n                approvedCultureKeywordIds: $.map(rawJson.approvedCultureKeywords, function (v) {\n                    return v.id;\n                }) || [],\n                uncontrolledCultureKeywords: $.map(rawJson.uncontrolledCultureKeywords, function (v) {\n                    return v.label;\n                })\n            },\n            spatialInformation: {\n                geographicKeywords: $.map(rawJson.activeGeographicKeywords, function (v) {\n                    return v.label;\n                })\n            },\n            temporalInformation: {\n                temporalKeywords: $.map(rawJson.activeTemporalKeywords, function (v) {\n                    return v.label;\n                }),\n                coverageDates: rawJson.activeCoverageDates\n            },\n            resourceAnnotations: rawJson.activeResourceAnnotations,\n            noteInformation: {\n                resourceNotes: rawJson.activeResourceNotes\n            },\n            collectionInformation: {\n                sourceCollections: rawJson.activeSourceCollections,\n                relatedComparativeCollections: rawJson.activeRelatedComparativeCollections\n\n            },\n            otherInformation: {\n                otherKeywords: $.map(rawJson.activeOtherKeywords, function (v) {\n                    return v.label;\n                })\n            },\n            creditProxies: $.map(rawJson.activeIndividualAndInstitutionalCredit, _convertCreator)\n        };\n\n        if (rawJson.activeLatitudeLongitudeBoxes != undefined && rawJson.activeLatitudeLongitudeBoxes.length > 0) {\n            var llb = rawJson.activeLatitudeLongitudeBoxes[0];\n            obj.spatialInformation['minx'] = llb.obfuscatedWest;\n            obj.spatialInformation['maxx'] = llb.obfuscatedEast;\n            obj.spatialInformation['miny'] = llb.obfuscatedSouth;\n            obj.spatialInformation['maxy'] = llb.obfuscatedNorth;\n        } else{\n            obj.spatialInformation['minx'] = '';\n            obj.spatialInformation['maxx'] = '';\n            obj.spatialInformation['miny'] = '';\n            obj.spatialInformation['maxy'] = '';\n        }\n\n        return obj;\n    }\n\n    /**\n     * convert creator from untranslated json to object that can then be passed to from populate plugin\n     * @param raw\n     * @returns {{id: *, role: *, type: string, person: {}, institution: {}}}\n     * @private\n     */\n    function _convertCreator(raw) {\n        var bPerson = raw.creator.hasOwnProperty(\"lastName\");\n        var obj = {\n            id: raw.creator.id,\n            role: raw.role,\n            type: bPerson ? TYPE_PERSON : TYPE_INSTITUTION,\n            person: {},\n            institution: {}\n        };\n\n        if (bPerson) {\n            obj.person = {\n                id: raw.creator.id,\n                lastName: raw.creator.lastName,\n                firstName: raw.creator.firstName,\n                email: raw.creator.email,\n                institution: {name: \"\", id: \"\"}\n            }\n            if (raw.creator.institution) {\n                obj.person.institution.name = raw.creator.institution.name;\n                obj.person.institution.id = raw.creator.institution.id;\n            }\n        } else {\n            obj.institution = {\n                id: raw.creator.id,\n                name: raw.creator.name\n            }\n        }\n        ;\n        return obj;\n    }\n\n    /**\n     * disable a section: disable inputs, but also make section look disabled by graying labels and removing edit controls\n     * @param idSelector\n     * @private\n     */\n    function _disableSection($section) {\n\n        $(':input', $section).not(\".alwaysEnabled\").prop('disabled', true);\n        $('label', $section).not(\".alwaysEnabled\").addClass('disabled');\n        $('.addAnother, .minus', $section).hide();\n\n        //if sibling is an add-another button,  disable that too.\n        $section.next(\".add-another-control\").find(\"button\").prop('disabled', true);\n    }\n\n    function _enableSection($section) {\n        $(':input', $section).prop('disabled', false); // here's call that spawns ghost elements (TDAR-4358)\n        $('label', $section).removeClass('disabled');\n        $('.addAnother, .minus', $section).show();\n\n        //if sibling is an add-another button,  enable that too.\n        $section.next(\".add-another-control\").find(\"button\").prop('disabled', false);\n    }\n\n    /**\n     * Rename id/name attribute in element and children if they follow struts 'indexed' such that the 'index' portion  of the name is set to zero (e.g.\n     * if an ID attribute has a value of 'my_input_field[12]' the function will rename it to 'my_input_field[0]'\n     * @param elem\n     * @private\n     */\n    function _resetIndexedAttributes(elem) {\n        var rex = /^(.+[_|\\[])([0-9]+)([_|\\]].*$)/; // string containing _num_ or [num]\n        var replacement = \"$10$3\"; // replace foo_bar[5] with foo_bar[0]\n        $(elem).add(\"tr, :input\", elem).each(function (i, v) {\n            var id = $(v).attr(\"id\");\n            var name = $(v).attr(\"name\");\n            if (id) {\n                var newid = id.replace(rex, replacement);\n                $(v).attr(\"id\", newid);\n            }\n            if (name) {\n                var newname = name.replace(rex, replacement);\n                $(v).attr(\"name\", newname);\n            }\n        });\n    }\n\n    /**\n     * Clears (but does not reset) the selected elements.\n     * @param selector\n     * @private\n     */\n    function _clearFormSection($selector) {\n        // Use a whitelist of fields to minimize unintended side effects.\n        $selector.find('input:text, input:password, input:file, textarea').val('');\n        // De-select any checkboxes, radios and drop-down menus\n        $(':input', $selector).prop('checked', false).prop('selected', false);\n    }\n\n    /**\n     * return true if the repeatrows contained in the selector match the list of strings\n     * @param rootElementSelector\n     * @param values\n     * @returns {boolean}\n     * @private\n     */\n    function _inheritingRepeatRowsIsSafe(rootElementSelector, values) {\n        var repeatRowValues = $.map($('input[type=text]', rootElementSelector), function (v, i) {\n            if ($(v).val()) {\n                return $(v).val();\n            }\n        });\n        \n        // if select2 is enabled...\n        if (select2) {\n            var $select2 = $(rootElementSelector);\n            if ($select2.length > 0) {\n            \trepeatRowValues = $select2.val();\n            }\n        }\n        if (repeatRowValues == undefined) {\n            repeatRowValues = new Array();\n        }\n        return repeatRowValues.length === 0 || $.compareArray(repeatRowValues, values);\n    }\n\n    /**\n     * return true if this section can 'safely' inherit specified values. 'safe' means that the target values are empty or the\n     * same as the incoming values.\n     * @param rootElementSelector\n     * @param values\n     * @returns {boolean}\n     * @private\n     */\n    function _inheritingCheckboxesIsSafe(rootElementSelector, values) {\n        var checkedValues = $.map($(':checkbox:checked', rootElementSelector), function (v, i) {\n            return $(v).val();\n        });\n        var isSafe = checkedValues.length === 0 || $.compareArray(checkedValues, values);\n        return isSafe;\n    }\n\n    function _inheritingMapIsSafe(spatialInformation) {\n        // or make the fields retrievable by name instead of id\n        var si = spatialInformation;\n        // compare parent coords to this form's current coords. seems like overkill\n        // but isn't.\n        var jsonVals = [ si.minx, si.miny, si.maxx, si.maxy ]; // strip out nulls\n        var formVals = $.map([\n            $('#minx').val(), $('#miny').val(), $('#maxx').val(), $('#maxy').val()\n        ], function (v) {\n            if (v !== \"\") {\n                return parseFloat(v);\n            }\n        });\n\n        return  !formVals.length || $.compareArray(jsonVals, formVals, false);\n    }\n\n    /**\n     * return whether it's \"safe\" to populate the temporal information section with the supplied temporalInformation we define \"safe\" to mean that section is\n     * either currently blank or that the supplied temporalInformation is the same as what is already on the form.\n\n     * @param rootElementSelector\n     * @param temporalInformation\n     * @returns {boolean}\n     * @private\n     */\n    function _inheritingDatesIsSafe(rootElementSelector, temporalInformation) {\n        // are all the fields in this section blank?\n        var $coverageTextFields = $('input:text', '#coverageDateRepeatable');\n        var joinedFieldValues = $coverageTextFields.map(function () {\n            return $(this).val();\n        }).toArray().join(\"\");\n\n        // okay to populate if if the form section is blank\n        if (joinedFieldValues === \"\") {\n            return true;\n        }\n\n        // not okay to populate if the incoming list is a different size as the\n        // current list\n        var $tableRows = $('.repeat-row', '#coverageDateRepeatable');\n        if (temporalInformation.coverageDates.length !== $tableRows.length) {\n            return false;\n        }\n\n        // at this point it's we need to compare the contents of the form vs.\n        // incoming coverage dates\n        var concatTemporalInformation = $.map(temporalInformation.coverageDates, function (val, i) {\n            return \"\" + val.startDate + val.endDate + val.description;\n        }).join(\"\");\n        var concatRowFields = $.map($tableRows, function (rowElem, i) {\n            var concatRow = $('.coverageStartYear', rowElem).val();\n            concatRow += $('.coverageEndYear', rowElem).val();\n            concatRow += $('.coverageDescription', rowElem).val();\n            return concatRow;\n        }).join(\"\");\n\n        return concatTemporalInformation === concatRowFields;\n\n    }\n\n    function _inheritInformation(formId, json, sectionId, tableId) {\n        //console.debug(\"_inheritInformation(formId:%s, json:%s, sectionId:%s, tableId:%s)\", formId, json, sectionId, tableId);\n        _clearFormSection($(sectionId));\n        if (tableId !== undefined) {\n            _resetRepeatable(\"#\" + 'uncontrolled' + tableId + 'Repeatable', json['uncontrolled' + tableId].length);\n            _resetRepeatable(\"#\" + 'approved' + tableId + 'Repeatable', json['approved' + tableId].length);\n            var simpleId = tableId;\n            simpleId = simpleId[0].toLowerCase() + simpleId.substr(1);\n            _resetRepeatable(\"#\" + simpleId + 'Repeatable', json[simpleId].length);\n        }\n        _populateSection(formId, json);\n        _disableSection($(sectionId));\n    }\n\n    function _inheritOtherInformation(formId, json, sectionId, tableId) {\n        //console.debug(\"_inheritInformation(formId:%s, json:%s, sectionId:%s, tableId:%s)\", formId, json, sectionId, tableId);\n        var $section = $(sectionId);\n\n        _clearFormSection($section);\n        _resetRepeatable(\"#otherKeywordsRepeatable\", json.otherInformation.otherKeywords.length);\n        _populateSection(formId, json.otherInformation);\n        _populateSelect2Keywords($section, json.otherInformation.otherKeywords);\n        _disableSection($(sectionId));\n    }\n\n//\n\n    function _inheritSiteInformation(formId, json) {\n    \tvar $section = $('#divSiteInformation');\n        _clearFormSection($section);\n        _resetRepeatable('#siteNameKeywordsRepeatable', json.siteInformation['siteNameKeywords'].length);\n        _resetRepeatable('#uncontrolledSiteTypeKeywordsRepeatable', json.siteInformation['uncontrolledSiteTypeKeywords'].length);\n        _populateSection(formId, json.siteInformation);\n        _populateSelect2Keywords($('#siteNameKeywordsRepeatable').parent(), json.siteInformation.siteNameKeywords);\n        _populateSelect2Keywords($('#uncontrolledSiteTypeKeywordsRepeatable').parent(), json.siteInformation.uncontrolledSiteTypeKeywords);\n        _disableSection($section);\n    }\n\n\n    function _inheritCulturalInformation(formId, json) {\n    \tvar $section = $('#divCulturalInformation');\n        _clearFormSection($section);\n        _resetRepeatable('#uncontrolledCultureKeywordsRepeatable', json.culturalInformation['uncontrolledCultureKeywords'].length);\n        _populateSection(formId, json.culturalInformation);\n        _populateSelect2Keywords($section, json.culturalInformation.uncontrolledCultureKeywords);\n        _disableSection($section);\n    }\n\n    function _inheritMaterialInformation(formId, json) {\n    \tvar $section = $('#allMaterialInformation');\n        _clearFormSection($section);\n        _resetRepeatable('#uncontrolledMaterialKeywordsRepeatable', json.materialInformation['uncontrolledMaterialKeywords'].length);\n        _populateSection(formId, json.materialInformation);\n        _populateSelect2Keywords($section, json.materialInformation.uncontrolledMaterialKeywords);\n        _disableSection($section);\n    }\n\n    function _inheritIdentifierInformation(formId, json) {\n    \tvar $section = $('#divIdentifiers');\n        _clearFormSection($section);\n        _resetRepeatable('#resourceAnnotationsTable', json.resourceAnnotations.length);\n        _populateSection(formId, json);\n        _disableSection($section);\n    }\n\n    function _inheritCollectionInformation(formId, json) {\n    \tvar $section = $('#relatedCollectionsSection');\n        _clearFormSection($section);\n        _resetRepeatable('#divSourceCollectionControl', json.collectionInformation.sourceCollections.length);\n        _resetRepeatable('#divRelatedComparativeCitationControl', json.collectionInformation.sourceCollections.length);\n        _populateSection(formId, json.collectionInformation);\n        _disableSection($section);\n    }\n\n    function _inheritNoteInformation(formId, json) {\n    \tvar $section = $('#resourceNoteSection');\n        _clearFormSection($section);\n        _resetRepeatable('#resourceNoteSection', json.noteInformation['resourceNotes'].length);\n        _populateSection(formId, json.noteInformation);\n        _disableSection($section);\n    }\n\n\n    function _populateSelect2Keywords($section, array) {\n        if (select2) {\n            var $gk = $(\".keyword-autocomplete\", $section);\n            $gk.empty();\n            $.each(array, function (i, item) {\n                $gk.append($('<option>', { \n                    value: item,\n                    text : item\n                }));\n            });\n            $gk.val(array).trigger(\"change\");\n        }\n    }\n    \n    function _inheritSpatialInformation(formId, json) {\n        console.log(\"inherit spatial information(%s, %s)\", formId, json);\n        var $section = $('#divSpatialInformation');\n        _clearFormSection($section);\n        _resetRepeatable('#geographicKeywordsRepeatable', json.spatialInformation['geographicKeywords'].length);\n        _populateSection(formId, json.spatialInformation);\n        _populateSelect2Keywords($section, json.spatialInformation['geographicKeywords']);\n        _disableSection($section);\n\n        // clear the existing redbox and draw new one;\n        _populateLatLongTextFields();\n\n        var si = json.spatialInformation;\n        if (si.miny != null && si.minx != null && si.maxy != null && si.maxx != null) {\n            $(\".locateCoordsButton\",$section).click();\n        }\n        _disableMap();\n\n    }\n\n    function _inheritTemporalInformation(formId, json) {\n        var $section = $('#divTemporalInformation');\n        _clearFormSection($section);\n        _resetRepeatable('#temporalKeywordsRepeatable', json.temporalInformation.temporalKeywords.length);\n        _resetRepeatable('#coverageDateRepeatable', json.temporalInformation.coverageDates.length);\n        _populateSection(formId, json.temporalInformation);\n        _populateSelect2Keywords($section, json.temporalInformation.temporalKeywords);\n        _disableSection($section);\n    }\n\n    function _inheritCreditInformation(divSelector, creators) {\n    \tvar $section = $(divSelector);\n        _clearFormSection($section);\n        _resetRepeatable(divSelector, creators.length);\n        if (creators.length > 0) {\n            _populateSection(divSelector, {creditProxies: creators});\n            //now set the correct toggle state for eachrow\n            var $proxyRows = $(divSelector).find(\".repeat-row\");\n            $proxyRows.each(function (i, rowElem) {\n                var $rowElem = $(rowElem);\n                var $creatorPerson = $rowElem.find(\".creatorPerson\");\n                var $creatorInstitution = $rowElem.find(\".creatorInstitution\");\n                var $personButton =  $rowElem.find(\".personButton\");\n                var $institutionButton = $rowElem.find(\".institutionButton\");\n                $rowElem.find(\".resourceCreatorId\").val(\"\");\n                if (creators[i].type === TYPE_PERSON) {\n                    $creatorPerson.removeClass(\"hidden\");\n                    $creatorInstitution.addClass(\"hidden\");\n                    $personButton.addClass(\"active\");\n                    $institutionButton.removeClass(\"active\");\n                } else {\n                    $creatorPerson.addClass(\"hidden\");\n                    $creatorInstitution.removeClass(\"hidden\");\n                    $personButton.removeClass(\"active\");\n                    $institutionButton.addClass(\"active\");\n\n                }\n            });\n\n        }\n\n        _disableSection($section);\n    }\n\n    function applyInheritance(formSelector) {\n        var $form = $(formSelector);\n        //collection of 'options' objects for each inheritance section. options contain info about\n        //the a section (checkbox selector, div selector,  callbacks for isSafe, inheritSection, enableSection);\n        $form.data(\"inheritOptionsList\", []);\n\n        //hack:  formId is no longer global, and updateInheritableSections() needs it...\n        var formId = $(formSelector).attr(\"id\");\n        if(_project == undefined) {\n            _project = _getBlankProject();\n        };\n        _json = _convertToFormJson(_project);\n\n        console.log(\"applying inheritance to:\" + formSelector);\n        // if we are editing, set up the initial form values\n        var $projectId = $('#projectId',formSelector);\n        var pid = $projectId.val();\n        if (pid != undefined && pid > -1) {\n            _json = _convertToFormJson(_project);\n            console.log(_json);\n            _updateInheritableSections(formId, _json);\n        }\n\n        // update the inherited form values when project selection changes.\n        $projectId.change(function (e) {\n            var sel = this;\n            var $sel = $(this);\n            if ($sel.val() !== '' && $sel.val() > 0) {\n                $.ajax({\n                    url: core.uri() + \"project/json/\" + $sel.val() ,\n                    dataType: \"jsonp\",\n                    success: _projectChangedCallback,\n                    error: function (msg) {\n                        console.error(\"error\");\n                    },\n                    waitMessage: \"Loading project information\"\n                });\n            } else {\n                _project = _getBlankProject();\n                _json = _convertToFormJson(_project);\n                _updateInheritableSections(formId, _json);\n            }\n            _enableOrDisableInheritAllSection();\n            _updateInheritanceCheckboxes();\n        });\n\n        _updateInheritanceCheckboxes();\n        _enableOrDisableInheritAllSection();\n        _processInheritance(formSelector);\n        var $cbSelectAllInheritance = $(\"#cbSelectAllInheritance\");\n\n        // prime the \"im-busy-dont-bother-me\" flag on select-all checkbox.\n        $cbSelectAllInheritance.data('isUpdatingSections', false);\n\n        $cbSelectAllInheritance.click(_selectAllInheritanceClicked);\n\n        _projectChangedCallback(_project);\n    }\n\n//return skeleton project\n    function _getBlankProject() {\n    var skeleton = {\n            \"approvedCultureKeywords\": [],\n            \"approvedSiteTypeKeywords\": [],\n            \"activeCultureKeywords\": [],\n            \"dateCreated\": {},\n            \"description\": null,\n            \"firstLatitudeLongitudeBox\": null,\n            \"activeGeographicKeywords\": [],\n            \"id\": null,\n            \"activeInvestigationTypes\": [],\n            \"approvedMaterialKeywords\": [],\n            \"activeOtherKeywords\": [],\n            \"resourceType\": null,\n            \"activeSiteNameKeywords\": [],\n            \"activeSiteTypeKeywords\": [],\n            \"submitter\": null,\n            \"activeTemporalKeywords\": [],\n            \"activeCoverageDates\": [],\n            \"title\": null,\n            \"activeResourceNotes\": [],\n            \"activeSourceCollections\": [],\n            \"activeRelatedComparativeCollections\": [],\n            \"activeResourceAnnotations\": [],\n            \"uncontrolledCultureKeywords\": [],\n            \"uncontrolledMaterialKeywords\": [],\n            \"uncontrolledSiteTypeKeywords\": [],\n            \"activeIndividualAndInstitutionalCredit\": []\n        };\n        return skeleton;\n    }\n\n//update the project json variable and update the inherited sections\n    function _projectChangedCallback(data) {\n        _project = data;\n        // if user picked blank option, then clear the sections\n        if (!_project.id || _project.id == -1) {\n            _project = _getBlankProject();\n        }\n\n        _json = _convertToFormJson(_project);\n        var formId = $('#projectId').closest('form').attr(\"id\");\n        _updateInheritableSections(formId, _json);\n    }\n\n    function _processInheritance(formId) {\n        //declare options for each inheritSection; including the top-level div, criteria for overwrite \"safety\", how populate controls, etc.\n        var optionsList = [\n            {\n                //todo:  derive section name from section header\n                sectionNameSelector: \"#siteInfoSectionLabel\",\n                cbSelector: '#cbInheritingSiteInformation',\n                divSelector: '#siteSection',\n                mappedData: \"siteInformation\", // curently not used \n                isSafeCallback: function () {\n                    var allKeywords = _json.siteInformation.siteNameKeywords.concat(_json.siteInformation.uncontrolledSiteTypeKeywords);\n                    return _inheritingCheckboxesIsSafe('#divSiteInformation', _json.siteInformation.approvedSiteTypeKeywordIds)\n                        && _inheritingRepeatRowsIsSafe('#siteNameKeywordsRepeatable', _json.siteInformation.siteNameKeywords)\n                        && _inheritingRepeatRowsIsSafe('#uncontrolledSiteTypeKeywordsRepeatable', _json.siteInformation.uncontrolledSiteTypeKeywords)\n                        ;\n\n                },\n                inheritSectionCallback: function () {\n                    _inheritSiteInformation(\"#siteSection\", _json);\n                }\n            },\n            {\n                sectionNameSelector: \"#temporalInfoSectionLabel\",\n                cbSelector: '#cbInheritingTemporalInformation',\n                divSelector: '#temporalSection',\n                mappedData: \"temporalInformation\", // curently not used \n                isSafeCallback: function () {\n                    return _inheritingRepeatRowsIsSafe('#temporalKeywordsRepeatable', _json.temporalInformation.temporalKeywords) && _inheritingDatesIsSafe('#divTemporalInformation', _json.temporalInformation);\n                },\n                inheritSectionCallback: function () {\n                    _inheritTemporalInformation(\"#temporalSection\", _json);\n                },\n                enableSectionCallback: function () {\n                \tvar $section = $('#temporalSection');\n                    _enableSection($section);\n                    $section.find(\".coverageTypeSelect\").each(function (i, elem) {\n                    \t//FIXME: required?\n                        validate.prepareDateFields(elem);\n                    });\n                }\n\n            },\n            {\n                sectionNameSelector: \"#materialInfoSectionLabel\",\n                cbSelector: '#cbInheritingMaterialInformation',\n                divSelector: '#allMaterialInformation',\n                mappedData: \"materialInformation\", // curently not used \n                isSafeCallback: function () {\n                    return _inheritingCheckboxesIsSafe('#allMaterialInformation', _json.materialInformation.approvedMaterialKeywordIds) &&\n                            _inheritingRepeatRowsIsSafe('#uncontrolledMaterialKeywordsRepeatable', _json.materialInformation.uncontrolledMaterialKeywords);\n                },\n                inheritSectionCallback: function () {\n                    _inheritMaterialInformation('#allMaterialInformation', _json);\n                }\n            },\n            {\n                sectionNameSelector: \"#culturalInfoSectionLabel\",\n                cbSelector: '#cbInheritingCulturalInformation',\n                divSelector: '#divCulturalInformation',\n                mappedData: \"culturalInformation\", // curently not used \n                isSafeCallback: function () {\n                    return _inheritingCheckboxesIsSafe('#divCulturalInformation', _json.culturalInformation.approvedCultureKeywordIds) && \n                    _inheritingRepeatRowsIsSafe('#uncontrolledCultureKeywordsRepeatable', _json.culturalInformation.uncontrolledCultureKeywords);\n                },\n                inheritSectionCallback: function () {\n                    _inheritCulturalInformation('#divCulturalInformation', _json);\n                }\n            },\n            {\n                sectionNameSelector: \"#generalInfoSectionLabel\",\n                cbSelector: '#cbInheritingOtherInformation',\n                divSelector: '#divOtherInformation',\n                mappedData: \"otherInformation\", // curently not used \n                isSafeCallback: function () {\n                    return _inheritingRepeatRowsIsSafe('#otherKeywordsRepeatable', _json.otherInformation.otherKeywords);\n                },\n                inheritSectionCallback: function () {\n                    _inheritOtherInformation('#divOtherInformation', _json, \"#divOtherInformation\", \"otherKeywords\");\n                }\n            },\n            {\n                sectionNameSelector: \"#investigationInfoSectionLabel\",\n                cbSelector: '#cbInheritingInvestigationInformation',\n                divSelector: '#divInvestigationInformation',\n                mappedData: \"investigationInformation\", // curently not used \n                isSafeCallback: function () {\n                    return _inheritingCheckboxesIsSafe('#divInvestigationInformation', _json.investigationInformation.investigationTypeIds);\n                },\n                inheritSectionCallback: function () {\n                    _inheritInformation('#divInvestigationInformation', _json.investigationInformation, '#divInvestigationInformation');\n                }\n            },\n            {\n                sectionNameSelector: \"#notesInfoSectionLabel\",\n                cbSelector: '#cbInheritingNoteInformation',\n                divSelector: '#resourceNoteSection',\n                mappedData: \"noteInformation\", // curently not used \n                isSafeCallback: function () {\n                    var $resourceNoteSection = $('#resourceNoteSection');\n                    var projectNotes = _json.noteInformation.resourceNotes;\n\n                    //it's always safe to overwrite an empty section\n                    var $textareas = $resourceNoteSection.find('textarea');\n                    if ($textareas.length === 1 && $.trim($textareas.first().val()).length === 0) {\n                        return true;\n                    }\n\n                    //distill the resourcenote objects to one array and the form section to another array, then compare the two arrays.\n                    var formVals = [], projectVals = [];\n                    projectVals = projectVals.concat($.map(projectNotes, function (note) {\n                        return note.type;\n                    }));\n                    projectVals = projectVals.concat($.map(projectNotes, function (note) {\n                        return note.note;\n                    }));\n\n                    $resourceNoteSection.find('select').each(function () {\n                        formVals.push($(this).val());\n                    });\n\n                    $resourceNoteSection.find('textarea').each(function () {\n                        formVals.push($.trim($(this).val()));\n                    });\n\n                    return $.compareArray(projectVals, formVals, true);\n\n                },\n                inheritSectionCallback: function () {\n                    _inheritNoteInformation('#resourceNoteSection', _json);\n                }\n            },\n            {\n                sectionNameSelector: \"#relatedCollectionInfoSectionLabel\",\n                cbSelector: '#cbInheritingCollectionInformation',\n                divSelector: '#relatedCollectionsSection',\n                mappedData: \"collectionInformation\", // curently not used \n                isSafeCallback: function () {\n                    var $textareas = $('#relatedCollectionsSection').find(\"textarea\");\n                    //overwriting empty section is always safe\n                    if ($textareas.length === 2 && $.trim($textareas[0].value).length === 0 && $.trim($textareas[1].value).length === 0) {\n                        return true;\n                    }\n\n                    var formVals = [], projectVals = [];\n                    $textareas.each(function () {\n                        formVals.push($.trim(this.value));\n                    });\n\n                    projectVals = projectVals.concat($.map(_json.collectionInformation.sourceCollections, function (obj) {\n                        return obj.text;\n                    }));\n                    projectVals = projectVals.concat($.map(_json.collectionInformation.relatedComparativeCollections, function (obj) {\n                        return obj.text;\n                    }));\n\n                    return $.compareArray(formVals, projectVals, true);\n                },\n                inheritSectionCallback: function () {\n                    _inheritCollectionInformation('#relatedCollectionsSection', _json);\n                }\n            },\n            {\n                sectionNameSelector: \"#identifierInfoSectionLabel\",\n                cbSelector: '#cbInheritingIdentifierInformation',\n                divSelector: '#divIdentifiers',\n                mappedData: \"resourceAnnotations\", // curently not used \n                isSafeCallback: function () {\n                    // flatten json to array of values [key, val, key, val, ...], and\n                    // compare to field values.\n                    var vals = [];\n                    $.each(_json.resourceAnnotations, function (i, annotation) {\n                        vals.push(annotation.resourceAnnotationKey.key); // identifier\n                        // key\n                        vals.push(annotation.value); // identifier value;\n                    });\n                    return _inheritingRepeatRowsIsSafe('#divIdentifiers', vals);\n                },\n                inheritSectionCallback: function () {\n                    _inheritIdentifierInformation('#divIdentifiers', _json);\n                }\n            },\n            {\n                sectionNameSelector: \"#spatialInfoSectionLabel\",\n                cbSelector: '#cbInheritingSpatialInformation',\n                divSelector: '#divSpatialInformation',\n                mappedData: \"collectionInformation\", // curently not used \n                isSafeCallback: function () {\n                    return _inheritingMapIsSafe(_json.spatialInformation) && \n                    _inheritingRepeatRowsIsSafe('#geographicKeywordsRepeatable', _json.spatialInformation.geographicKeywords);\n                },\n                inheritSectionCallback: function () {\n                    _inheritSpatialInformation(\"#divSpatialInformation\", _json);\n                },\n                enableSectionCallback: function () {\n                    _enableSection($('#divSpatialInformation'));\n                    _enableMap();\n                }\n            },\n\n            {\n                sectionNameSelector: \"#creditInfoSectionLabel\",\n                cbSelector: \"#cbInheritingCreditRoles\",\n                divSelector: \"#creditSection\",\n                mappedData: \"creditProxies\",\n                isSafeCallback: _inheritingCreditInfoIsSafe,\n                inheritSectionCallback: function () {\n                    _inheritCreditInformation('#creditTable', _json.creditProxies);\n\n                }\n            }\n\n        ];\n\n        $.each(optionsList, function (idx, options) {\n            console.log(\"register inheritance:\"+ options.divSelector);\n            registerInheritSection(options);\n//            $(options.cbSelector).change();\n        });\n\n        /* We want to disable the map when a user inherits spatialInformation, however, the map isn't available immediately after pageload. So we wait for the\n        browser to load the map gmap api and initialize the map. */\n        // $('#editmapv3').one('mapready', function (e) {\n        //     if ($('#cbInheritingSpatialInformation').prop('checked')) {\n        //         _disableMap();\n        //     }\n        // });\n    }\n\n    function _inheritingCreditInfoIsSafe() {\n        var $creditRows = $(\"#creditTable > .repeat-row\");\n        var array1 = $.map(_json.creditProxies,function(obj){\n            return obj.id;\n        });\n\n        var array2 = $.map($creditRows.toArray(), function(row){\n            var el = $(row).find(\"[name$='person.id']\").first();\n            var personId = parseInt(el.val());\n            var instEl = $(row).find(\"[name$='institution.id']\").first();\n            var institutionId = parseInt(instEl.val());\n            var retid = personId;\n            \n\n            if(personId === -1 || isNaN(personId)) {\n                if(institutionId !== -1 && !isNaN(institutionId)) {\n                    retid = institutionId;\n                }\n            }\n            if(retid !== -1 && !isNaN(retid)) {\n                return retid;\n            }\n        });\n\n        console.log(\"comparing ar1:\", array1);\n        console.log(\"comparing ar2:\", array2);\n        return array2.length === 0 || $.compareArray(array1, array2);\n\n\n    }\n\n    function _updateInheritanceCheckboxes() {\n        var projectId = $('#projectId').val();\n        if (projectId <= 0) {\n            $('.divInheritSection').find('label').addClass('disabled');\n            $('.divInheritSection').find(':checkbox').prop('disabled', true);\n            $('.divInheritSection').find(':checkbox').prop('checked', false);\n            _enableAll();\n        } else {\n            $('.divInheritSection').find('label').removeClass('disabled');\n            $('.divInheritSection').find(':checkbox').prop('disabled', false);\n        }\n    }\n\n    function _enableAll() {\n        _enableSection($('#divInvestigationInformation'));\n        _enableSection($('#divSiteInformation'));\n        _enableSection($('#divMaterialInformation'));\n        _enableSection($('#divCulturalInformation'));\n        _enableSection($('#divSpatialInformation'));\n        _enableMap();\n        _enableSection($('#divTemporalInformation'));\n        _enableSection($('#divOtherInformation'));\n        _enableSection($('#divIdentifiers'));\n        _enableSection($('#relatedCollectionsSection'));\n        _enableSection($('#resourceNoteSection'));\n        _enableSection($(\"#creditTable\"));\n    }\n\n//todo: this duplicates code (see all the calls to bindCheckbox); use  inheritOptionsList instead\n    function _updateInheritableSections(formId, projectJson) {\n        //HACK: temporary fix for TDAR-2268 - our form populate js is overwriting the ID field with data.id\n        var jsonid = projectJson.id;\n//    console.log(json);\n        _id = null;\n        delete(_id);\n\n        // indicate in each section which project the section will inherit from.\n        var labelText = \"Inherit values from parent project\";\n        var selectedProjectName = \"Select a project above to enable inheritance\";\n        if (jsonid > 0) {\n            labelText = 'Inherit values from parent project \"' + core.ellipsify(projectJson.title, 60) + '\"';\n            selectedProjectName = \"Inherit metadata from \" + projectJson.title;\n        }\n\n        //update inheritance checkbox labels with new project name (don't clobber checkbox in the process)\n        $('.divInheritSection').find('label.checkbox .labeltext').text(labelText);\n\n        $('#spanCurrentlySelectedProjectText').text(selectedProjectName);\n\n        //update the checked inheritable sections with the updated project data\n        var $form = $(\"#\" + formId);\n        var iData = $form.data(\"inheritOptionsList\");\n        if (iData != undefined) {\n            $.each(iData, function (idx, options) {\n                if ($(options.cbSelector).prop('checked')) {\n                    options.inheritSectionCallback();\n                }\n            });\n        };\n    }\n\n    function _selectAllInheritanceClicked() {\n        var $elem = $(\"#cbSelectAllInheritance\");\n        try {\n            $elem.data('isUpdatingSections', true);\n\n            var checked = $elem.prop('checked');\n            var $sectionCheckboxes = $('.divInheritSection input[type=checkbox]');\n\n            // make all of the section checkboxes just like this checkbox.\n            if(checked) {\n                _attemptMultipleInheritance($sectionCheckboxes.not(':checked'));\n            } else {\n                // uncheck all of the checked sections\n                $sectionCheckboxes.filter(':checked').each(function () {\n                    $(this).click();\n                });\n            }\n        } finally {\n            //never leave this checkbox in indeterminate state\n            $elem.data('isUpdatingSections', false);\n        }\n    }\n\n    /**\n     * Display the overwrite warning prompt w/ a list of affected sections\n     * @param optionsList\n     * @param okaySelected callback called  if user select okay\n     * @param cancelSelected callback called if user selects cancel\n     * @private\n     */\n    function _displayOverwritePrompt(optionsList, okaySelected, cancelSelected) {\n        var $modalDiv = $('#inheritOverwriteAlert');\n\n        //populate list of conflicting sections\n        var $ul = $(\"<ul></ul>\");\n        $.each(optionsList, function (idx, options) {\n            $ul.append(\"<li>\" + $(options.sectionNameSelector).text() + \"</li>\");\n        });\n        $modalDiv.find('.list-container').empty().append($ul);\n\n        //by default, treat 'hidden' event as a 'cancel'\n        $modalDiv.one(\"hidden\", cancelSelected);\n\n        //if 'okay' clicked,  swap out the 'cancel'  and perform multi-inheritance once the modal is completely gone\n        $('#btnInheritOverwriteOkay').one(\"click\", function () {\n            $modalDiv.unbind(\"hidden\", cancelSelected);\n            $modalDiv.one(\"hidden\", okaySelected);\n            $modalDiv.modal('hide');\n        });\n\n        $modalDiv.modal();\n    }\n\n//get all unchecked boxes\n//get options for each\n//if any unsafe,   fire prompt\n//for prompt,  wire yes and no buttons\n    function _attemptMultipleInheritance($checkboxes) {\n        var unsafeSections = [];\n        var optionsList = $.map($checkboxes, function (checkbox, idx) {\n            var options = $(checkbox).data(\"inheritOptions\");\n            if (!options.isSafeCallback()) {\n                unsafeSections.push(options);\n            }\n            return options;\n        });\n\n        //action we'll take if all sections safe OR user expressly permits overwrite\n        var _inheritMultiple = function () {\n            $checkboxes.prop(\"checked\", true);\n            $.each(optionsList, function (idx, options) {\n                options.inheritSectionCallback();\n            });\n        };\n\n        //if any sections unsafe (i.e. inheritance would overwrite previous values),  throw a prompt to the user\n        if (unsafeSections.length) {\n            _displayOverwritePrompt(unsafeSections, _inheritMultiple, function () {\n                $('#cbSelectAllInheritance').prop(\"checked\", false);\n            });\n            //no conflicts; it's okay to go down the line and inherit the given sections\n        } else {\n            _inheritMultiple();\n        }\n    }\n\n// determine whether to enable or disable the 'inherit all' checkbox based upon\n// the currently selected parent project.\n    function _enableOrDisableInheritAllSection() {\n        var $cbSelectAllInheritance = $('#cbSelectAllInheritance');\n        var projectId = $('#projectId').val();\n        if (projectId > 0) {\n            _enableSection($('#divInheritFromProject'));\n\n        } else {\n            $cbSelectAllInheritance.removeAttr('checked');\n            _disableSection($('#divInheritFromProject'));\n        }\n    }\n\n//Enforce the correct state of 'inherit all' checkbox. It should only be checked iff. every inherit-section is checked.\n    function _updateSelectAllCheckboxState() {\n        var $cbSelectAllInheritance = $('#cbSelectAllInheritance');\n        if (!$cbSelectAllInheritance.data('isUpdatingSections')) {\n            var $uncheckedBoxes = $('.divInheritSection input[type=checkbox]').not(\":checked\");\n            $cbSelectAllInheritance.prop('checked', $uncheckedBoxes.length === 0);\n        }\n    }\n\n    function _populateLatLongTextFields() {\n        $(\"#d_minx\").val(Geo.toLon($(\"#minx\").val()));\n        $(\"#d_miny\").val(Geo.toLat($(\"#miny\").val()));\n        $(\"#d_maxx\").val(Geo.toLon($(\"#maxx\").val()));\n        $(\"#d_maxy\").val(Geo.toLat($(\"#maxy\").val()));\n    }\n\n    function _disableMap() {\n        var $mapdiv = $('#divSpatialInformation');\n        $mapdiv.addClass('disable-map');\n    }\n\n    function _enableMap() {\n        var $mapdiv = $('#divSpatialInformation');\n        console.log('enable-map');\n        $mapdiv.removeClass('disable-map');\n    }\n\n    /**\n     * \"Reset\" a repeat-row table so that it contains N blank rows.  Any non-default input field values are destroyed.\n     * If the specified repeat-row table contains more that N rows, this function destroys the extraneous rows.\n     *\n     * @param repeatableSelector selector for the repeatrow table.\n     * @param newSize the number of rows the table will contain.\n     */\n    var _resetRepeatable = function (repeatableSelector, newSize) {\n        //ignrore the element if it is a backing <select> for a select2 control.\n        if($(repeatableSelector).is(\".select2-hidden-accessible\")) {return;}\n        $(repeatableSelector).find(\".repeat-row:not(:first)\").remove();\n        var $firstRow = $('.repeat-row', repeatableSelector);\n        _resetIndexedAttributes($firstRow);\n        for (var i = 0; i < newSize - 1; i++) {\n            repeatrow.cloneSection($('.repeat-row:last', repeatableSelector)[0]);\n        }\n    };\n\n    /**\n     * Convenience function, equivalent to resetRepeatable(repeatableSelector, keywords.length)\n     *\n     * @param keywords array of strings. length of the array dictates the rowcount after the reset.\n     * @param repeatableSelector selector for the repeatrow table\n     */\n    var resetKeywords = function (keywords, repeatableSelector) {\n        var $repeatable = $(repeatableSelector);\n        resetRepeatable(repeatableSelector, keywords.length);\n    };\n\n    /**\n     * Display a confirm prompt and call a callback corresponding to the user's choice\n     * @param msg message to display in the prompt.\n     * @param okaySelected  handler to call if user clicks \"okay\"\n     * @param cancelSelected handler to call if user clicks \"cancel\" or dismisses prompt\n     * @private\n     */\n    var _confirm = function (msg, okaySelected, cancelSelected) {\n        var confirmed = confirm(msg);\n        if (confirmed) {\n            okaySelected();\n        } else {\n            cancelSelected();\n        }\n    };\n\n    /**\n     * Register a section of a form that support inheritance.  When registered,  the input fields in the section\n     * appear disabled and cannot be modified directly by the user.  Instead, the values of the input fields\n     * are dictated by the values of the corresponding fields in the currently-selected \"parent project\".  If the user\n     * specifies a different parent project,  the registered section updates its field values accordingly.\n     *\n     * @param options  settings object (all properties required)\n     *          cbSelector: selector for the checkbox element that enables/disables inheritance for the section,\n     *          sectionNameSelector: string used for the label beside the section checkbox\n     *          divSelector: selector for the DIV that contains all of the elements in the inheritence section\n     *\n     */\n    var registerInheritSection = function (options) {\n        var $checkbox = $(options.cbSelector);\n        if ($checkbox.length === 0) {\n            return;\n        }\n\n        var $form = $checkbox.closest(\"form\");\n        var formId = $form.attr(\"id\");\n        var _options = {\n            sectionNameSelector: \"\",\n            isSafeCallback: function () {\n                return true;\n            },\n            inheritSectionCallback: function () {\n                _inheritInformation(formId, _json[_options.mappedData]);\n            },\n            enableSectionCallback: _enableSection \n        };\n        $.extend(_options, options);\n        //_wrapInheritCallback(_options);\n        $form.data(\"inheritOptionsList\").push(_options);\n        $checkbox.data(\"inheritOptions\", _options)\n\n        //update contents/state of section when checkbox for that section is toggled\n        $(_options.cbSelector).change(function (e) {\n            var cb = this;\n            var $cb = $(cb);\n            if ($cb.prop(\"checked\")) {\n                // determine if inheriting would overrwrite existing values\n                var isSafe = _options.isSafeCallback();\n                if (isSafe) {\n                    _options.inheritSectionCallback();\n                } else {\n                    //not safe!  ask the user for confirmation\n                    _confirm(\"Inheriting from '\" + common.htmlEncode(_project.title) + \"' will overwrite existing values. Continue?\", function () {\n                                _options.inheritSectionCallback();\n                            }, function () {\n                                $cb.prop(\"checked\", false);\n                                _options.enableSectionCallback($(_options.divSelector));\n                                _updateSelectAllCheckboxState();\n                            });\n                }\n            } else {\n                //user unchecked inheritance - enable the controls\n                _options.enableSectionCallback($(_options.divSelector));\n                _updateSelectAllCheckboxState();\n                $(_options.divSelector).find('input[type=hidden].dont-inherit').val(\"\");\n            }\n        });\n    };\n\n\n    function _clearSection(divSection) {\n        var $section = $(divSection);\n\n        //first, reset all of the checkboxes\n        $section.find(\":checkbox\").each(function(i) {\n            var  elem = this;\n            $(elem).prop(\"checked\", elem.defaultChecked);\n        });\n\n        //now remove the repeatrows  (sorry, 'reset' not an option)\n        $section.find(\".repeat-row\").each(function() {repeatrow.deleteRow(this);});\n    }\n\n    function _registerClearSectionButtons(formSelector) {\n        $(formSelector || \"#metadataForm\").find(\".btn.clear-section\").each(function() {\n            var button = this;\n            var targetSelector = button.getAttribute(\"data-clear-target\");\n\n            //clear section when button clicked\n            $(button).click(function() {\n                _clearSection($(targetSelector)[0]);\n            });\n\n            //disable when inheritance enabled\n            var $cb = $(button).closest(\".divInheritSection\").find(\"label.checkbox :checkbox\");\n            var _onchange = function() {\n                $(button).prop(\"disabled\", $cb.prop(\"checked\"));\n            };\n            $cb.change(_onchange);\n            _onchange();\n        });\n    }\n\n    module.exports = {\n        resetRepeatable: _resetRepeatable,\n        resetKeywords: resetKeywords,\n        registerInheritSection: registerInheritSection,\n        applyInheritance: applyInheritance,\n        clearSection: _clearSection,\n        registerClearSectionButtons: _registerClearSectionButtons,\n    };\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.inheritance.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.master.js":
/*!*******************************************!*\
  !*** ./src/main/webapp/js/tdar.master.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Note tdar.upload.js is no longer being used. \n */\n\nconst TDAR          = __webpack_require__(/*! ./tdar.core */ \"./src/main/webapp/js/tdar.core.js\");\nTDAR.common         = __webpack_require__(/*! ./tdar.common */ \"./src/main/webapp/js/tdar.common.js\");\nTDAR.auth           = __webpack_require__(/*! ./tdar.auth */ \"./src/main/webapp/js/tdar.auth.js\");\nTDAR.autocomplete   = __webpack_require__(/*! ./tdar.autocomplete */ \"./src/main/webapp/js/tdar.autocomplete.js\");\nTDAR.advancedSearch = __webpack_require__(/*! ./tdar.advanced-search */ \"./src/main/webapp/js/tdar.advanced-search.js\");\nTDAR.validate       = __webpack_require__(/*! ./tdar.validate */ \"./src/main/webapp/js/tdar.validate.js\");\nTDAR.authority      = __webpack_require__(/*! ./tdar.authority-management */ \"./src/main/webapp/js/tdar.authority-management.js\");\nTDAR.bookmark       = __webpack_require__(/*! ./tdar.bookmark */ \"./src/main/webapp/js/tdar.bookmark.js\");\nTDAR.bulk           = __webpack_require__(/*! ./tdar.bulk */ \"./src/main/webapp/js/tdar.bulk.js\");\nTDAR.c3graph        = __webpack_require__(/*! ./tdar.c3graph */ \"./src/main/webapp/js/tdar.c3graph.js\");\nTDAR.c3graphsupport = __webpack_require__(/*! ./tdar.c3graphsupport */ \"./src/main/webapp/js/tdar.c3graphsupport.js\");\nTDAR.contexthelp    = __webpack_require__(/*! ./tdar.contexthelp */ \"./src/main/webapp/js/tdar.contexthelp.js\");\nTDAR.d3tree         = __webpack_require__(/*! ./tdar.d3tree */ \"./src/main/webapp/js/tdar.d3tree.js\");\nTDAR.datasetMetadata = __webpack_require__(/*! ./tdar.dataset-metadata */ \"./src/main/webapp/js/tdar.dataset-metadata.js\"); \nTDAR.datatable       = __webpack_require__(/*! ./tdar.datatable */ \"./src/main/webapp/js/tdar.datatable.js\");\nTDAR.datepicker      = __webpack_require__(/*! ./tdar.datepicker */ \"./src/main/webapp/js/tdar.datepicker.js\");\nTDAR.menu            = __webpack_require__(/*! ./tdar.menu */ \"./src/main/webapp/js/tdar.menu.js\");\nTDAR.moreinfo        = __webpack_require__(/*! ./tdar.moreinfo */ \"./src/main/webapp/js/tdar.moreinfo.js\");\nTDAR.notifications   = __webpack_require__(/*! ./tdar.notifications */ \"./src/main/webapp/js/tdar.notifications.js\");\nTDAR.ontologyMapping = __webpack_require__(/*! ./tdar.ontology-mapping */ \"./src/main/webapp/js/tdar.ontology-mapping.js\");\nTDAR.pricing         = __webpack_require__(/*! ./tdar.pricing */ \"./src/main/webapp/js/tdar.pricing.js\");\nTDAR.repeatrow       = __webpack_require__(/*! ./tdar.repeatrow */ \"./src/main/webapp/js/tdar.repeatrow.js\");\nTDAR.sensoryData     = __webpack_require__(/*! ./tdar.sensorydata */ \"./src/main/webapp/js/tdar.sensorydata.js\");\nTDAR.inheritance     = __webpack_require__(/*! ./tdar.inheritance */ \"./src/main/webapp/js/tdar.inheritance.js\");\nTDAR.leaflet         = __webpack_require__(/*! ./maps/tdar.leaflet */ \"./src/main/webapp/js/maps/tdar.leaflet.js\");\nTDAR.worldmap        = __webpack_require__(/*! ./maps/tdar.worldmap */ \"./src/main/webapp/js/maps/tdar.worldmap.js\");\n\nTDAR.vuejs = {};\nTDAR.vuejs.collectionwidget =   __webpack_require__(/*! ./vue/view-collection-widget.js */ \"./src/main/webapp/js/vue/view-collection-widget.js\");\nTDAR.vuejs.uploadWidget     =   __webpack_require__(/*! ./vue/vue-edit-file-upload-component */ \"./src/main/webapp/js/vue/vue-edit-file-upload-component.js\");\nTDAR.vuejs.upload           =   __webpack_require__(/*! ./vue/vue-base-upload */ \"./src/main/webapp/js/vue/vue-base-upload.js\");\nTDAR.vuejs.balk             =   __webpack_require__(/*! ./vue/vue-balk-upload-component */ \"./src/main/webapp/js/vue/vue-balk-upload-component.js\");\nTDAR.vuejs.advancedSearch   =   __webpack_require__(/*! ./vue/vue-autocomplete */ \"./src/main/webapp/js/vue/vue-autocomplete.js\");\nTDAR.vuejs.editcollectionapp =  __webpack_require__(/*! ./vue/edit-collection */ \"./src/main/webapp/js/vue/edit-collection.js\");\n__webpack_require__(/*! ./tdar.messages_en */ \"./src/main/webapp/js/tdar.messages_en.js\");\n\nwindow.TDAR = TDAR;\nif (TDAR['vuejs'] == undefined) {\n\tTDAR['vuejs'] = {};\n}\n\n\n\nmodule.exports = TDAR;\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.master.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.menu.js":
/*!*****************************************!*\
  !*** ./src/main/webapp/js/tdar.menu.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {/**\n * common functions to the tDAR homepage\n */\n\nconst common = __webpack_require__(/*! ./tdar.common */ \"./src/main/webapp/js/tdar.common.js\");\n\nfunction _init() {\n    $(\"#welcome-menu a\").click(function() {\n        $(\".welcome-drop\").toggle();\n        return false;\n    });\n\n    // for the last 60 pixels of the searchboxes, make it submit the parent form\n    $(\".searchbox\").click(function(e) {\n        var $t = $(e.target);\n        var ar = $(e.target).offset().left + $t.width() - 60;\n        if (e.pageX > ar && $t.val() != '') {\n            $t.parents(\"form\").submit();\n        }\n    });\n    $(document).click(function() {\n        $('.welcome-drop').hide();\n    });\n\n    common.applyWatermarks($('form.searchheader, form[name=searchheader]'));\n}\n\nmodule.exports = {\n    \"init\" : _init,\n    \"main\": _init\n};\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.menu.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.messages_en.js":
/*!************************************************!*\
  !*** ./src/main/webapp/js/tdar.messages_en.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($, jQuery) {/*\n * Validation message customizations for tDAR\n * Locale: EN\n */\n\n__webpack_require__(/*! jquery-validation/dist/jquery.validate */ \"./node_modules/jquery-validation/dist/jquery.validate.js\");\n__webpack_require__(/*! jquery-validation/dist/additional-methods */ \"./node_modules/jquery-validation/dist/additional-methods.js\");\n\n$(document).ready(function(){\n    jQuery.extend(jQuery.validator.messages, {\n        extension: jQuery.validator.format(\"Please upload a file with one of the following extensions:{0}.\")\n    });\n});\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\"), __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.messages_en.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.moreinfo.js":
/*!*********************************************!*\
  !*** ./src/main/webapp/js/tdar.moreinfo.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {/***\n * tdar.moreinfo.js\n */\n\n\n    var _init = function() {\n        $(\".moreInfo\").each(function() {\n            var $t = $(this);\n            var type = $t.data(\"type\");\n            if (type == 'collection') {\n                var description = $t.data(\"description\");\n                var size = $t.data(\"size\");\n                var submitter = $t.data(\"submitter\");\n                var submitterLink = $t.data(\"submitterLink\");\n                var hidden = $t.data(\"hidden\");\n\n                var html_ = \"<p><b>Description:</b> \"+description+\"<br>\";\n                html_ += \"<b># of Resources:</b> \"+size+\"<br>\";\n                    if (hidden) {html_ += \"<b>Hidden:</b> \"+hidden+\"<br>\";}\n                    html_ += \"<b>Submitter:</b> \"+submitter+\"</p>\";\n\n                $t.popover({html: true, content:html_,trigger:'hover'});\n            }\n        });\n    }\n    \n    //expose public elements\n    module.exports = {\n        \"init\": _init,\n        main : function() {\n            _init();\n        }\n    };\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.moreinfo.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.notifications.js":
/*!**************************************************!*\
  !*** ./src/main/webapp/js/tdar.notifications.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($, TDAR) {/**\n * notification-specific functionality\n */\n\nfunction _init() {\n    $(\"[data-dismiss-id]\").each(function () {\n        var $this = $(this);\n        var id = $this.data('dismiss-id');\n        $this.click(function() {TDAR.notifications.dismiss(id)});\n    });\n}\n\nfunction _dismiss(id) {\n        var url = TDAR.uri( \"/api/notification/dismiss\"); // the script where you handle the form input.\n        $.ajax({\n            type : \"POST\",\n            url : url,\n            data : {\"id\":id}, // serializes the form's elements.\n            success : function(data) {\n                console.log(\"success, dismissed notification:\" + id);\n            },\n            error : function(data) {\n                var json = data.responseJSON;\n                $(\"body\").append(JSON.stringify(data));\n                console.log(JSON.stringify(data))\n                alert(json);\n           }\n        });\n}\n\nmodule.exports = {\n    init : _init,\n    dismiss:_dismiss\n};\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\"), __webpack_require__(/*! JS/tdar.master */ \"./src/main/webapp/js/tdar.master.js\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.notifications.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.ontology-mapping.js":
/*!*****************************************************!*\
  !*** ./src/main/webapp/js/tdar.ontology-mapping.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {    var rePrefix = /^[-| ]*/;\n    var reSynonyms = /\\((.*?)\\)/;\n    var ontology;\n\n    //derive original name, synonyms from formatted input string\n    //fixme: hack: we should get the opposite via embedded json, and construct the formatted string dynamically\n    function processNode(node) {\n        //console.debug(\"processing: %s\", node);\n        //console.debug(node);\n        var processedName = node.name.replace(rePrefix, '').toLowerCase();\n        var synonyms = [];\n        var matches = processedName.match(reSynonyms);\n        var strSynonyms = \"\";\n        if(matches) {\n            strSynonyms = matches[1];\n        }\n        if(strSynonyms.length) {\n            processedName  = $.trim(processedName.replace(reSynonyms, ''));\n            synonyms = $.map(strSynonyms.split(','), function(item, idx){\n                return $.trim(item);\n            });\n        }\n        return {\n            id: node.id,\n            name: node.name,\n            allNames: [processedName].concat(synonyms)\n        }\n    }\n\n\n    var _initMapping = function (formSelector, flattedOntologyNodes) {\n        var $form = $(formSelector);\n        //decorate each node with \"allNames\" property which is an array of the original name and all synonyms\n        ontology = $.map(flattedOntologyNodes, processNode);\n\n\n        $(\"#autosuggest\").click(_autosuggest);\n        $(\"#clearAll\").click(_clearall);\n        $form.FormNavigate({message: \"Leaving the page will cause any unsaved data to be lost!\"});\n        $(\"#selectColumn\").unbind(\"change\");\n        $('button.ui-button').hover(function () {\n            $(this).addClass(\"ui-state-hover\");\n        }, function () {\n            $(this).removeClass(\"ui-state-hover\");\n        });\n\n        $(\".show-all\").click(function () {\n            var $button = $(this);\n            var $div = $button.closest('.input-append');\n            var $textfield = $div.find(\"input[type=text]\");\n            var $widget = $textfield.autocomplete(\"widget\");\n            $textfield.focus().autocomplete(\"search\", \"\");\n        });\n\n        var pairs = $(\".mappingPair\");\n        for (var i = 0; i < pairs.length; i++) {\n            var idx = $(pairs[i]).data(\"idx\");\n            _applyLocalAutoComplete($(\"#autocomp_\" + idx), window[\"autocomp_\" + idx + \"Suggestions\"]);\n        }\n    };\n\n    function _applyLocalAutoComplete(selector, db) {\n\n        $(selector).autocomplete({\n            source: function (request, response) {\n                //var timer = new Timer();\n                var matcher = new RegExp($.ui.autocomplete.escapeRegex(request.term), \"i\");\n                var allMatchedItems = $.merge($.map(db, function (item) {\n                    if (matcher.test(item.name)) {\n                        return {\n                            value: item.name,\n                            label: item.name,\n                            id: item.id\n                        };\n                    }\n                }), $.map(ontology, function (item) {\n                    if (matcher.test(item.name)) {\n                        return {\n                            value: item.name.replace(/^([\\|\\-\\s])*/ig, \"\"),\n                            label: item.name,\n                            id: item.id\n                        };\n                    }\n                }));\n                //console.log(\"%s\\t autocomplete.source::\\t suggestiondb.size:%s\\t ontology.size:%s\", timer.current(), db.length, ontology.length);\n                response(allMatchedItems);\n                //timer.stop();\n            },\n            minLength: 0,\n            select: function (event, ui) {\n                var $input = $(this); //'this' points to the target element \n                //get the hidden input next to the textbox and set the id field\n                var $idElement = $($input.attr(\"autocompleteIdElement\"));\n                $idElement.val(ui.item.id);\n                $input.removeClass(\"error\");\n            },\n            open: function (event, ui) {\n                $(\"ul.ui-autocomplete\").css(\"width\", $(this).parent().width());\n            }\n        });\n\n        $(selector).on('autocompletechange', function () {\n            var input = this; //'this' is the text input element\n            var $input = $(input);\n\n            //if the textbox is blank,  clear the hidden id field\n            if ($.trim(input.value) == '') {\n                var $idElement = $($input.attr(\"autocompleteIdElement\"));\n                $idElement.val(\"\");\n                return;\n            }\n        });\n    }\n\n    function _autosuggest() {\n        $(\".manualAutocomplete\").each(function () {\n            var $element = $(this);\n            var json = eval($element.attr(\"id\") + \"Suggestions\");\n            if (json.length == 3 && $element.val() == \"\") {\n                var $idElement = $($element.attr(\"autocompleteIdElement\"));\n                $element.val(json[2].name);\n                $idElement.val(json[2].id);\n            }\n\n        });\n    }\n\n    function _clearall() {\n        $(\".manualAutocomplete\").each(function () {\n            var $element = $(this);\n            var $idElement = $($element.attr(\"autocompleteIdElement\"));\n            $element.val(\"\");\n            $idElement.val(\"\");\n        });\n    }\n\n    //expose public elements\n    module.exports = {\n        \"initMapping\": _initMapping,\n        \"clearAll\": _clearall,\n        \"autoSuggest\": _autosuggest\n    };\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.ontology-mapping.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.pricing.js":
/*!********************************************!*\
  !*** ./src/main/webapp/js/tdar.pricing.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {const common = __webpack_require__(/*! ./tdar.common */ \"./src/main/webapp/js/tdar.common.js\");\nconst core = __webpack_require__(/*! ./tdar.core.js */ \"./src/main/webapp/js/tdar.core.js\");\nvar POLLING_INTERVAL = 1500; //poll every 1.5s\n\n    //parse string to integer.  replace blank and NaN with 0.\n    var _parse = function (num) {\n        var _num = num.replace(\",\", \"\");\n        _num = Math.ceil(_num);\n        _num = isNaN(_num) ? 0 : _num;\n        return _num;\n    };\n\n    var _initPricing = function (form, ajaxUrl) {\n        var $form = $(form);\n        $(\"#small-option\").click(function () {\n            $(\"#MetadataForm_invoice_numberOfFiles\").val(1);\n            $(\"#MetadataForm_invoice_numberOfMb\").val(\"\");\n            $form.data(\"formNavigate\", true);\n            $form.submit();\n        });\n        $(\"#medium-option\").click(function () {\n            $(\"#MetadataForm_invoice_numberOfFiles\").val(10);\n            $(\"#MetadataForm_invoice_numberOfMb\").val(\"\");\n            $form.data(\"formNavigate\", true);\n            $form.submit();\n        });\n        $(\"#large-option\").click(function () {\n            $(\"#MetadataForm_invoice_numberOfFiles\").val(100);\n            $(\"#MetadataForm_invoice_numberOfMb\").val(\"\");\n            $form.data(\"formNavigate\", true);\n            $form.submit();\n        });\n\n        $form.submit(function (f) {\n            var numFiles = _parse($(\"#MetadataForm_invoice_numberOfFiles\").val());\n            var numMb = _parse($(\"#MetadataForm_invoice_numberOfMb\").val());\n\n            \n            $(\"#MetadataForm_invoice_numberOfFiles, #MetadataForm_invoice_numberOfMb\").each(function () {\n                if(this.value.length) {\n                    this.value = _parse(this.value).toFixed(0);\n                }\n            });\n            return true;\n        });\n\n        $form.change(function () {\n            var numFiles = _parse($(\"#MetadataForm_invoice_numberOfFiles\").val());\n            var numMb = _parse($(\"#MetadataForm_invoice_numberOfMb\").val());\n\n            if (isNaN(numMb)) {\n                numMb = 0;\n            }\n\n            if (isNaN(numFiles)) {\n                numFiles = 0;\n            }\n            /* give the user an understanding of size in GB if size is > 1/2 GB */\n            var mb = \"\";\n            if (numMb > 512) {\n                $(\"#convert\").html(common.humanFileSize(numMb * 1024*1024));\n            }\n\n            var $est = $(\"#estimated\");\n            $est.val(\"\");\n            var url = ajaxUrl + \"?lookupMBCount=\" + numMb + \"&lookupFileCount=\" + numFiles;\n            $.ajax({\n                url: url,\n                dataType: 'jsonp',\n                crossDomain: true,\n                type: 'POST',\n                xhrFields: { withCredentials: true },\n                success: function (data) {\n                    //var data = _parseApidata(rawdata);\n                    var checked = \"checked\";\n                    $est.html(\"\");\n                    var defaultsubtotal = 100000000000000000;\n                    var subtotal = defaultsubtotal;\n                    var item = {};\n                    for (var i = 0; i < data.length; i++) {\n                        var internal_name, label, num_files, num_space, extra_space, total_cost = \"\";\n                        internal_name = data[i].model;\n                        label = data[i].model;\n                        total_cost = data[i].subtotal;\n                        if (subtotal > total_cost) {\n                            item = data[i];\n                            subtotal = data[i].subtotal;\n                        }\n                    }\n                    var $price = $(\"#price\");\n                    if (subtotal == defaultsubtotal) {\n                        $price.html(\"0.00\");\n                        var line = common.sprintf(\"<tr><td colspan=4>{0}</td></tr>\", \"Please enter a number of files and MB above.\");\n                        $est.append(line);\n\n                    } else {\n\n                        checked = \"\";\n                        //(i +1), data[i].model, data[i].subtotal );\n                        var total_files = 0;\n                        var total_mb = 0;\n                        if (item.items && item.items.length > 0) {\n                            for (var j = 0; j < item.items.length; j++) {\n                                var part = item.items[j];\n                                part.name = part.activity.numberOfFiles ===0 ?  \"Extra Space\" : \"Files\";\n                                var line = common.sprintf(\"{0}  ( {1} Files / {2} )\",\n                                                common.formatNumber(item.subtotal),\n                                                common.formatNumber(part.activity.numberOfFiles * part.quantity),\n                                                common.humanFileSize(part.activity.numberOfMb * part.quantity * 1024*1024, ''));\n                                total_files += part.activity.numberOfFiles * part.quantity;\n                                total_mb += part.activity.numberOfMb * part.quantity;\n                                $price.html(line);\n\n                            }\n                        }\n                    }\n                },\n                error: function (xhr, txtStatus, errorThrown) {\n                    console.error(\"error: %s, %s\", txtStatus, errorThrown);\n                }\n            });\n        });\n        $(form).change();\n\n        _setupPaymentMethodPivot();\n\n        //console.log(\"appying rules\");\n        var validator = $(form).validate({\n            rules: {\n                \"invoice.otherReason\": {\n                    required: \"#MetadataForm_invoice_paymentMethodMANUAL:checked\"\n                },\n                \"invoice.invoiceNumber\": {\n                    required: \"#MetadataForm_invoice_paymentMethodINVOICE:checked\"\n                },\n                \"invoice.paymentMethod\":  {\n                    required:true\n                },\n\n                \"invoice.numberOfFiles\": {\n                    min:1,\n                    require_from_group: [1, \".orderinfo\"]\n                },\n\n                \"invoice.numberOfMb\" : {\n                    min:1,\n                    require_from_group: [1, \".orderinfo\"]\n                }\n            },\n            messages: {\n                \"invoice.invoiceNumber\": \"Specify the customer invoice/work-order number.\",\n                \"invoice.otherReason\": \"For manual invoices, describe why you are creating this invoice.\"\n            },\n            errorClass: \"text-error\",\n            errorPlacement: function($error, $element) {\n                $element.after($error);\n            }\n        });\n        //console.log(\"validtor:\", validator);\n    };\n\n    /**\n     * setup the pivot pane toggle for the paymentMethod field\n     * @private\n     */\n    var _setupPaymentMethodPivot = function() {\n        $(\".transactionType[type=radio]\").click(function () {\n            common.switchType(this, '#MetadataForm');\n        });\n        //switch to the right pane on init\n        common.switchType($(\".transactionType[type=radio]:checked\", $('#MetadataForm')), \"#MetadataForm\");\n    }\n\n    var _initPolling = function () {\n        _updateProgress();\n    };\n    \n    var _updateProgress = function() {\n        var invoiceid = $(\"#polling-status\").data(\"invoiceid\");\n        if(typeof invoiceid === \"undefined\") {\n            throw \"invoiceid not specified\";\n        }\n        var url= \"/api/cart/\" + invoiceid + \"/polling-check\";\n\n        $.ajax({\n            url: core.uri(url),\n            dataType: 'json',\n            type: 'POST',\n            xhrFields: { withCredentials: true },\n            success: function (data) {\n                if (data.transactionStatus == 'PENDING_TRANSACTION') {\n                    $(\"#polling-status\").html(\"checking status ...\");\n                    setTimeout(_updateProgress, POLLING_INTERVAL);\n                } else {\n                    $(\"#polling-status\").html(\"done: \" + data.transactionStatus);\n                    if (data.transactionStatus == 'TRANSACTION_SUCCESSFUL') {\n                        window.document.location = core.uri(\"/dashboard\");\n                    }\n                }\n                if (data.errors != undefined && data.errors != \"\") {\n                    $(\"#asyncErrors\").html(\"<div class='action-errors ui-corner-all'>\" + data.errors + \"</div>\");\n                }\n            },\n            error: function (xhr, txtStatus, errorThrown) {\n                console.error(\"error: %s, %s\", txtStatus, errorThrown);\n            }\n        });\n\n        console.log(\"registered ajax callback\");\n    };\n    \n    var _initBillingChoice = function() {\n        $(document).ready(function () {\n            var $slct = $(\"#select-existing-account\");\n            $slct.change(function() {\n            var $addnew = $(\".add-new\");\n                if ($slct.val() == -1) {\n                    $addnew.removeClass(\"hidden\");\n                } else {\n                    $addnew.addClass(\"hidden\");\n                }\n            });\n            if ($slct.val() == -1) {\n                $(\".add-new\").removeClass(\"hidden\");\n            }\n        });\n    }\n    \n    module.exports = {\n        \"initPricing\": _initPricing,\n        \"updateProgress\": _updateProgress,\n        \"initPolling\": _initPolling,\n        \"initBillingChoice\": _initBillingChoice\n    };\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.pricing.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.repeatrow.js":
/*!**********************************************!*\
  !*** ./src/main/webapp/js/tdar.repeatrow.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {    /**\n     * Register a \"repeatable container\". That is, a table element (or any other block-level element) which\n     * contains form fields that the user may duplicate one row at a time.\n     *\n     * Once registered, this method inserts an \"add another\" button in the DOM just after the repeatble container.\n     * Clicking the add-another button clones a a child element in the table (specified by options.rowSelector), and\n     * appends new row to the repeatable container.\n     *\n     * Events\n     * -----\n     * Repeat-row tables emit the following custom events:\n     *\n     * \"repeatrowadded\": triggered when the add-another handler adds a row to the repeatrow table.\n     *      target: the repeatrow container element\n     *      additionalParameters: [parentElement, clonedRowElement, indexOfNewRow, penultimateRowElement]\n     *\n     * \"repeatrowbeforedelete\": triggered when user clicks a row-delete button but before the handler removes the\n     *                              row element from the DOM.\n     *      target: the row element to-be deleted\n     *      additionalParameters: none\n     *\n     * \"repeatrowdeleted\": trigger after the delete-row handler removes the row element from the DOM.\n     *      target: parent element of the deleted row\n     *      additionalParameters: none\n     *\n     * About Form Field Attributes:\n     * ---------------------------\n     * When the module clones a repeat-row,  it renames certain attribute values if the attribute values follow an\n     * indexed naming pattern.  For example, if this module clones a row that contains the following element:\n     *     <input type=\"text\"  id=\"username_1_\",  name=\"person.username[1]\">\n     *\n     * The field in the cloned element will be:\n     *     <input type=\"text\" id=\"username_2_\", name=\"person.username[2]>\n     *\n     * @param selector selector for the repeatable-row container (typically a <table>)\n     * @param {{rowSelector: string, addAnother: string}} settings object.\n     *\n     *          addAnother: label for the \"add another\" button.  This function places the add-another button\n     *                          in the DOM after the repeat-row container. (default: \"> div.controls, .repeat-row\")\n     *\n     *          rowSelector: selector that the add-another click handler uses to  identify the element that the\n     *                          hanler will clone when the  add-another button.\n     */\n    var registerRepeatable = function (selector, options) {\n\n        var _options = {\n            //select the last bootstrap \"controls\" div,  or the last element with the 'repeat-row' class\n            rowSelector: \"> div.controls, .repeat-row\",\n            addAnother: \"add another\"\n        };\n\n        $.extend(_options, options);\n\n        var $parents = $(selector);\n        $parents.each(function (index, parentElement) {\n            //tag the repeat rows so we know which element to delete if delete button clicked\n            $(_options.rowSelector, parentElement).addClass(\"repeat-row\");\n\n            var btnLabel = $(parentElement).data(\"add-another\") || _options.addAnother;\n            var $button = _button(btnLabel, parentElement.id + \"AddAnotherButton\");\n            $('button', $button).click(function () {\n                var element = $(_options.rowSelector, parentElement).last();\n                var $clone = cloneSection(element, parentElement);\n                var idx = $(parentElement).find('.repeat-row').length;  //FIXME: shouldn't this be length -1?\n                $(parentElement).trigger(\"repeatrowadded\", [parentElement, $clone[0], idx, element]);\n\n                // set focus on the first input field (or designate w/ repeatrow-focus class).\n                $(\"input[type=text], textarea, .repeatrow-focus\", $clone).filter(\":visible:first\").focus();\n\n            });\n            $(parentElement).after($button);\n            registerDeleteButtons(parentElement);\n        });\n\n    };\n\n    /**\n     * add the \"delete\" button handler to a newly-created repeat-row\n     * @param parentElement the repeeat-row button element\n     * @private\n     */\n    var registerDeleteButtons = function (parentElement) {\n        $(parentElement).on(\"click\", \".repeat-row-delete\", function (e) {\n            var rowElem = $(this).parents(\".repeat-row\")[0];\n            $(rowElem).trigger(\"repeatrowbeforedelete\");\n            deleteRow(rowElem);\n            $(parentElement).trigger('repeatrowdeleted');\n        });\n    };\n\n    // clone an element, append it to another element.\n    //  -To prevent attribute renaming for an element in a repeat-row div, apply \".repeat-row-skip\" class\n    //  -To prevent a repeat-row child elemnent from being copied, apply \".repeat-row-remove\"\n\n    /**\n     * Clone an element and append it to another element.  Values for attributes such as ID & NAME are modified\n     * if they follow an indexed naming pattern.\n     *\n     * @param element element to clone\n     * @param appendTo element to contain the clone\n     * @returns {*} the cloned element.\n     * @private\n     */\n    var cloneSection = function (element, appendTo) {\n\n        var $element = $(element);\n        var $clone = $element.clone();\n\n        /*\n         * we assume that the table row will have an ID that follows the convention _num_, and we will use this same convention for choosing the next ID\n         * addribute for the row as well as any element inside the row that uses the same convention for the NAME and ID attributes.\n         */\n        var rex = /^(.*?_)(\\d+)(_.*)$/i;\n        var elementIdAttr = $element.attr(\"id\");\n        var match = rex.exec(elementIdAttr);\n\n        //if element's id is in right format the rownum will be the 2nd submatch\n        var currentId = parseInt(match[2]);\n\n        var nextId = currentId + 1;\n        var newRowId = nextId;\n\n        var cloneIdAttr = elementIdAttr.replace(rex, \"$1\" + nextId + \"$3\");\n\n        //TODO: remove error/warning labels from $clone (e.g.  form validation fails on last row, then you click 'add new row').\n        $clone.find(\".repeat-row-remove\").remove();\n        // update the id for our new row\n        $clone.attr('id', cloneIdAttr);\n\n        /*\n         * Now that we've cloned the row, certain element attributes may need to be renamed (for example, input tags with name attributes of the form\n         * \"fieldval[0]\" should be renamed \"fieldval[1]\". Our assumption is that every ID or NAME attribute that contains either \"_num_\" or \"[num]\" will\n         * renamed.\n         * \n         */\n\n        //remove any tags that shouldn't be copied\n        $clone;\n        // skip any tags that with the repeat-row-skip attribute\n        $clone.find('*').not(\".repeat-row-skip\").each(function () {\n            var elem = this;\n            $([ \"id\", \"autoVal\", \"name\", \"autocompleteIdElement\", \"autocompleteParentElement\" ]).each(function (i, attrName) {\n                // replace occurrences of [num]\n                _replaceAttribute(elem, attrName, '[' + currentId + ']', '[' + nextId + ']');\n\n                // replace occurrences of _num_\n                _replaceAttribute(elem, attrName, '_' + currentId + '_', '_' + nextId + '_');\n            });\n        });\n\n        $element.after($clone);\n        // maybe clear before appending?\n        _clearInputs($clone);\n\n        $clone.trigger(\"heightchange\");\n\n        return $clone;\n    };\n\n    /**\n     * replace last occurrence of str in attribute with rep\n     * @param elem the input element\n     * @param attrName name of the attribute to modify\n     * @param str string to search for in the attribute value\n     * @param rep replacement string\n     * @private\n     */\n    var _replaceAttribute = function (elem, attrName, str, rep) {\n        var oldval = $(elem).attr(attrName);\n        if (!oldval) {\n            return;\n        }\n        if (oldval.indexOf(str) === -1) {\n            return;\n        }\n\n        var beginPart = oldval.substring(0, oldval.lastIndexOf(str));\n        var endPart = oldval.substring(oldval.lastIndexOf(str) + str.length, oldval.length);\n        var newval = beginPart + rep + endPart;\n        $(elem).attr(attrName, newval);\n    };\n\n    /**\n     * Clear (or reset) the values of any input fields contained by the specified element.\n     * - for radio elements & checkboxes, uncheck any checked elements\n     * - for SELECT elements,  select the first OPTION\n     *\n     * Opting out: add the .repeatrow-noreset class to any input elements that you want to opt-out of this reset behavior.\n     *\n     * @param $element container element (a jqselection)\n     * @private\n     */\n    var _clearInputs = function ($element) {\n\n        var noresetClass = \".repeatrow-noreset\"\n\n        // enable any inputs in the row\n        $element.find(\":input\").not(noresetClass)\n            .removeAttr(\"readonly\").removeAttr(\"disabled\").prop(\"readonly\", false).prop(\"disabled\", false);\n\n        // most input elements should have value attribute cleared (but not radiobuttons, checkboxes, or buttons)\n        $element.find(\"input[type!=button],textarea\").not(noresetClass).not('input[type=checkbox],input[type=radio]')\n            .val(\"\");\n\n        // uncheck any checkboxes/radios\n        $element.find(\"input[type=checkbox],input[type=radio]\").not(noresetClass).prop(\"checked\", false);\n\n        // revert all select dropdowns to first option.\n        $($element).find(\"select\").not(noresetClass).prop(\"selectedIndex\", 0);\n\n        // allow html5 polyfills for watermarks to be added.  (//fixme: I think this is a bug/copypasta - watermarks shouldn't need to be re-applied)\n        //TDAR.common.applyWatermarks($element);\n    };\n\n    /**\n     * Attempt to delete the .repeat-row element closest to the specified element.  If the repeatable container only\n     * has one row, clear the child inputs instead.\n     * @param elem\n     * @returns {boolean} true if a the function deleted a row, or false if the function simply cleared the values\n     * @private\n     */\n    var deleteRow = function (elem) {\n        var $row = $(elem).closest(\".repeat-row\");\n        var bDelete = $row.siblings(\".repeat-row\").length > 0;\n        if (bDelete) {\n            $row.remove();\n        } else {\n            _clearInputs($row);\n        }\n        return bDelete;\n    };\n\n    /**\n     * generate an add-another button\n     * @param label\n     * @param id\n     * @returns {*|jQuery|HTMLElement}\n     * @private\n     */\n    var _button = function (label, id) {\n        var buttonId = id;\n        if (!id) {\n            buttonId = \"btn\" + label.replace(\" \", \"\").toLowerCase();\n        }\n        var html = \"<div class='control-group add-another-control'>\" + \"<div class='controls'>\" + \"<button class='btn addanother' id='\" + buttonId + \"' type='button'><i class='icon-plus-sign'></i>\" + label + \"</button>\" + \"</div>\" + \"</div>\";\n        return $(html);\n    };\n\n    module.exports =  {\n        registerRepeatable: registerRepeatable,\n        registerDeleteButtons: registerDeleteButtons,\n        cloneSection: cloneSection,\n        deleteRow: deleteRow,\n        clearInputs: _clearInputs\n    };\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.repeatrow.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.sensorydata.js":
/*!************************************************!*\
  !*** ./src/main/webapp/js/tdar.sensorydata.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {    //show relevant fields based on scan type value.\n\n    function showRelevantSurveyFields(scanType) {\n\n        var $conditionalElems = $('.conditional-scantype').hide();\n        if (scanType) {\n            //show the relevent fields, e.g. if scantype was TOF,  the element\n            var cssClass = \".\" + scanType.toLowerCase();\n            $conditionalElems.filter(cssClass).show()\n        }\n    }\n\n    function showLegacyScannerTechFields(elemScannerTech) {\n        // get the parent element of the scanner tech field\n        console.debug(\"showing scanner tech fields for:\");\n        console.debug(elemScannerTech);\n        // determine which div to show based on the value of the scanner tech\n        var divmap = {\n            'TIME_OF_FLIGHT': '.scantech-fields-tof',\n            'PHASE_BASED': '.scantech-fields-phase',\n            'TRIANGULATION': '.scantech-fields-tri'\n        };\n        var parent = $(elemScannerTech).parents('.scantech-fields');\n        parent.find('.scantech-field').addClass('hide');\n        var scannerTechnologyValue = $(elemScannerTech).val();\n        if (scannerTechnologyValue) {\n            var targetClass = divmap[scannerTechnologyValue];\n            console.log(\"showing all elements of class: \" + targetClass);\n            parent.find(targetClass).removeClass('hide');\n            //        $(elemScannerTech).siblings(targetClass).removeClass('hide');\n            // $(elemScannerTech).parent().find('.scantech-fields-tof');\n        }\n\n    }\n\n    \n    function scanAdded(rowElem) {\n        // get the select element\n        var scannerTechElem = $('.scannerTechnology', rowElem);\n        // the scanner type changed to blank, so we hide the scanner-tech-specific\n        // fields, and bind to the select change\n//        showScannerTechFields(scannerTechElem);\n//        $(scannerTechElem).change(function() {\n//            var elem = this;\n//            showScannerTechFields(elem);\n//        });\n    }\n\n     //return true if any form field in this div are populated\n\n    function hasContent(div) {\n        var found = false;\n        var $div = $(div);\n        $div.find(\"input[type=text],textarea\").each(function(idx, elem) {\n            if ($.trim(elem.value).length > 0) {\n                found = true;\n                return false;\n            }\n        });\n        return found;\n    }\n\n    /**\n     * Sensory Data Support\n     */\n    // display the proper fields that correspond to the current value of the\n    // supplend scanner technology dropdown element.\n    //legacy -- not used anymore?\n    function showScannerTechFields(elemScannerTech) {\n        // get the parent element of the scanner tech field\n        console.debug(\"showing scanner tech fields for:\");\n        console.debug(elemScannerTech);\n        // determine which div to show based on the value of the scanner tech\n        var divmap = {\n            'TIME_OF_FLIGHT' : '.scantech-fields-tof',\n            'PHASE_BASED' : '.scantech-fields-phase',\n            'TRIANGULATION' : '.scantech-fields-tri'\n        };\n        var parent = $(elemScannerTech).parents('.scantech-fields');\n        parent.find('.scantech-field').addClass('hide');\n        var scannerTechnologyValue = $(elemScannerTech).val();\n        if (scannerTechnologyValue) {\n            var targetClass = divmap[scannerTechnologyValue];\n            console.log(\"showing all elements of class: \" + targetClass);\n            parent.find(targetClass).removeClass('hide');\n//            $(elemScannerTech).siblings(targetClass).removeClass('hide');\n            // $(elemScannerTech).parent().find('.scantech-fields-tof');\n        }\n\n    }\n    \n    function _initEdit() {\n        //show legacy edit fields if they have content\n        $('#registeredDatasetDiv, #polygonalMeshDatasetDiv, #divScanInfo').each(function(idx, div) {\n            if (hasContent(div)) {\n                $(div).show();\n\n                $('.scannerTechnology').each(\n                    function(i, elem) {\n                        var scannerTechElem = elem;\n//                        showScannerTechFields(scannerTechElem);\n                        $(scannerTechElem).change(function() {\n                            showLegacyScannerTechFields(scannerTechElem);\n                        });\n                    }\n                );\n\n            }\n        });\n\n\n        $('#sensoryDataScans').bind('repeatrowadded', function(e, parent, newRow) {\n            scanAdded(newRow);\n        });\n\n\n         //show/hide content that is conditional on the value of the Scanner Technology field\n        $('#divScannerTechnologyOptions').click(function() {\n            var val = $('#divScannerTechnologyOptions input[type=radio]:checked').val();\n            if (val) {\n                $('#scantypeFileReminder').show();\n                var $ul = $('#ulTemplateList');\n                var highlightItem = \".\" + val.toLowerCase();\n                $ul.find(\"span\").removeClass('highlighted').addClass(\"muted\");\n                var $highlighted = $ul.find(highlightItem).find('span');\n                $highlighted.removeClass(\"muted\").addClass(\"highlighted\");\n            } else {\n                $('#scantypeFileReminder').hide();\n            }\n            showRelevantSurveyFields(val);\n        }).click();\n\n\n    }\n\n    //expose public elements\n    module.exports = {\n        \"initEdit\": _initEdit\n    };\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.sensorydata.js?");

/***/ }),

/***/ "./src/main/webapp/js/tdar.validate.js":
/*!*********************************************!*\
  !*** ./src/main/webapp/js/tdar.validate.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(__webpack_provided_window_dot_jQuery, __webpack_provided_window_dot_$, $) {const common = __webpack_require__(/*! ./tdar.common */ \"./src/main/webapp/js/tdar.common.js\");\n\n//Add jQuery Plugins for validation\n__webpack_require__(/*! jquery-validation/dist/jquery.validate.js */ \"./node_modules/jquery-validation/dist/jquery.validate.js\");\n__webpack_require__(/*! ./tdar.formValidateExtensions */ \"./src/main/webapp/js/tdar.formValidateExtensions.js\");\n\n__webpack_provided_window_dot_$ = __webpack_provided_window_dot_jQuery = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\"); // was import $ from 'jquery';\n\n    /**\n     * Default settings for form validation in tDAR forms\n     *\n     * @type {{errorLabelContainer: (*|jQuery|HTMLElement), wrapper: string, highlight: highlight, unhighlight: unhighlight, showErrors: showErrors, invalidHandler: invalidHandler}}\n     * @private\n     */\n    var _defaultValidateOptions = {\n        errorLabelContainer: $(\"#error ul\"),\n        wrapper: \"li\",\n        highlight: function (element, errorClass, validClass) {\n            $(element).addClass(\"error\");\n            $(element).closest(\"div.control-group\").addClass(\"error\");\n        },\n        unhighlight: function (element, errorClass, validClass) {\n            $(element).trigger(\"unhighlight\", [errorClass, validClass]);\n            $(element).removeClass(\"error\");\n            //highlight this div until all visible controls in group are valid\n            var $controlGroup = $(element).closest(\"div.control-group\");\n            if ($controlGroup.find('.error:visible').length === 0) {\n                $controlGroup.removeClass(\"error\");\n            }\n        },\n        showErrors: function (errorMap, errorList) {\n            this.defaultShowErrors();\n        },\n        //send validation errors to the server  TODO: cap the total number of errors\n        invalidHandler: function (event, validator) {\n            var form = event.target;\n            var $form = $(form);\n            var errors = validator.errorList;\n            var submitCount = $form.data(\"submitCount\") || 0;\n            var totalErrors = $form.data(\"totalErrors\") || 0;\n\n            submitCount++;\n            //cap the included errors, but show the correct total number of errors\n            totalErrors += errors.length;\n            $form.data(\"submitCount\", submitCount).data(\"totalErrors\", totalErrors);\n            errors = errors.slice(0 - common.maxJavascriptValidationMessages);\n\n            //todo: we really only need to build the dom when the submit is finally successful\n            $form.find(\"#divClientValidationInfo\").remove();\n            var $clientInfo = $('<div id=\"divClientValidationInfo\"></div>');\n\n            var template = $.validator.format('<input type=\"hidden\" name=\"clientValidationInfo[\\'{0}\\']\" value=\"{1}\">');\n\n            $.each(errors, function (idx, error) {\n                const common = __webpack_require__(/*! ./tdar.common */ \"./src/main/webapp/js/tdar.common.js\");\n                var key = \"error_\" + idx;\n                var msg = common.htmlEncode(\"\" + error.element.id + \": \" + error.message);\n                var $input = $(template(key, msg));\n                $input.val(msg);\n                $clientInfo.append($input);\n            });\n\n            //now tack on the total errors and submission attempts\n            $clientInfo.append($(template(\"totalErrors\", totalErrors)));\n            $clientInfo.append($(template(\"submitCount\", submitCount)));\n            $form.append($clientInfo);\n        }\n    };\n    \n    /**\n     * Validate a single form, called out and returning the validator to enable testing \n     */\n    var _initForm = function (form) {\n \n    \tvar $form = $(form);\n        console.log($form.attr('id'));\n        \n        var method = $form.data('validate-method');\n        var validator;\n        console.log(method);\n        \n        \n        if (method != undefined) {\n        \tconsole.info(\"Validation Method is not undefined\");\n        \t\n            var method_ = window[method];\n            \n            // FIXME: There has to be a better way to bind these\n            if ($.isFunction(window['TDAR']['validate'][method])) {\n                method_ = window['TDAR']['validate'][method];\n            }\n\n            if ($.isFunction(window[method])) {\n                method_ = window[method];\n            } \n            \n            if (method_ != undefined) {\n                // add options based on method ... here's where we implicitly call initBasicForm\n                var options  = method_($form);\n                var allValidateOptions = $.extend({}, _defaultValidateOptions, options);\n                validator = $form.validate(allValidateOptions);\n                console.log(\"validate method is : \" + method);\n                $form.data(\"tdar-validate-status\",\"valid-custom\");\n                if (method == 'initBasicForm') {\n                    _postValidateBasic($form, validator);\n                }\n                if (method == 'initRightsForm') {\n                    _postValidateRights($form, validator);\n                }\n            } \n            else {\n                console.log(\"validate method specified, but not a function\");\n                $form.data(\"tdar-validate-status\",\"failed-invalid-method\");\n            }\n        }\n\n\n        var allValidateOptions = $.extend({}, _defaultValidateOptions);\n        validator = $form.validate(allValidateOptions);\n        \n        $form.data(\"tdar-validate-status\",\"valid-default\");\n        \n        return validator;\n    };\n    \n    /**\n     * if there's a data attribute to associate with valdiateMethod, then see if it's a function. if it's not a function, then call validate() plain.\n     */\n    var _init = function() {\n        $(\"form.tdarvalidate\").each(function() {\n            _initForm($(this));\n        });\n    };\n\n    var _postValidateBasic =  function($form, validator) {\n    \t\n    \tconsole.info(\"Calling tdar.validate : _postValidateBasic\");\n    \t\n        $('.coverageTypeSelect', \"#coverageDateRepeatable\", $form).each(function (i, elem) {\n            _prepareDateFields(elem);\n        });\n       \n        \n        \n        \n        //TODO: This is causing issues in webpack. I think its the \"This\" reference causes scoping issues. \n        // jQuery .delegate may have issues in the context its being used.\n        $(\"#coverageDateRepeatable\", $form).delegate(\".coverageTypeSelect\", \"change\", function () {\n        \tconsole.debug(\"finding coverageDateRepeatable\");\n            _prepareDateFields(this);\n        });\n\n        var $uploaded = $( '_uploadedFiles', $form);\n        \n        if ($uploaded.length > 0) {\n            var _validateUploadedFiles = function () {\n            \tconsole.info(\"called call-back function _validateUploadedFiles\");\n                if ($uploaded.val().length > 0) {\n                    $(\"#reminder\").hide();\n                }\n            };\n            \n            $uploaded.change(_validateUploadedFiles);\n            _validateUploadedFiles();\n        }\n\n        //fixme:  confirm that input[file] elements actually use this validation rule - I'm pretty sure it's overridden by jquery-file-upload\n        if ($form.data(\"valid-extensions\")) {\n            var validExtensions = $form.data(\"valid-extensions\");\n            console.log(validExtensions);\n            var msg = \"Please enter a valid file (\" + validExtensions.replace(\"|\", \", \")+ \")\";\n            $(\".validateFileType\",$form).each(function(i, elem) {\n                $(elem).rules(\"add\", {\n                    extension: validExtensions,\n                    messages: {\n                        extension: msg\n                    }\n                });\n            });\n        }\n\n//        var fileValidator;\n//        if ($form.data(\"multiple-upload\")) {\n//            fileValidator = new TDAR.fileupload.FileuploadValidator($form);\n//            fileValidator.addRule(\"nodupes\");\n//    \n//            //fixme: (TDAR-4722) prohibit file replacements on 'add' pages. Due to bug, UI may display 'replace' option even when it shouldn't.\n//            // Until bug is fixed, we use this additional workaround to prevent the user from submitting if the UI allowed an invalid replacement.\n//            var path = window.location.pathname\n//            if(path.length && path.match(/(document|dataset|image).add$/)) {\n//                fileValidator.addRule(\"noreplacements\");\n//            }\n//    \n//            TDAR.fileupload.validator = fileValidator;\n//        }\n        \n        \n//        if ($form.data(\"datatable\")) {\n//            if (fileValidator) {\n//                TDAR.fileupload.addDataTableValidation(TDAR.fileupload.validator);\n//            } else {\n//                console.error(\"no file validator defined\");\n//            }\n//        }\n//        \n//        \n//        var _type = $form.data(\"type\");\n//        if (_type == 'GEOSPATIAL') {\n//            TDAR.fileupload.addGisValidation(fileValidator);\n//        }\n        \n\n        if (!$form.data(\"multiple-upload\") && ($form.data(\"total-files\") == 0 || $form.data(\"total-files\") > 0)) {\n            var rtype = $form.data(\"resource-type\");\n            var $textarea = $('#fileInputTextArea',$form);\n            var $uploadfield = $('#fileUploadField',$form);\n            // both must exist...\n            if ($textarea.length > 0 && $uploadfield.length  > 0) {\n                $textarea.rules(\"add\", {\n                            required: {\n                                depends: _isSupportingFileFieldRequired\n                            },\n                            messages: {\n                                required: \"No \" + rtype + \" data entered. Please enter \" + rtype + \" manually or upload a file.\"\n                            }\n                        });\n                $uploadfield.rules(\"add\", {\n                    required: {\n                        depends: _isSupportingFileFieldRequired\n                    },\n                    messages: {\n                        required: \"No \" + rtype + \" file selected. Please select a file or enter \" + rtype + \" data manually.\"\n                    }\n                });\n            }\n\n\n        }\n    }\n    \n    var _isSupportingFileFieldRequired = function(elem) {\n        var totalNumberOfFiles = $(elem.form).data(\"total-files\");\n        var noRulesExist = !((totalNumberOfFiles > 0) || ($(\"#fileInputTextArea\").val().length > 0) || ($(\"#fileUploadField\").val().length > 0));\n        return noRulesExist && $(elem).is(\":visible\");\n    }\n    \n    var _initBasicForm = function(form) {\n        var options = {\n                onkeyup: function () {\n                    return;\n                },\n                onclick: function () {\n                    return;\n                },\n                onfocusout: function (element) {\n                    return;\n                },\n                showErrors: function (errorMap, errorList) {\n                    this.defaultShowErrors();\n                    //spawn a modal widget and copy the errorLabelContainer contents (a separate div) into the widget's body section\n                    //TODO: docs say this is only called when errorList is not empty - can we remove this check?\n                    if (typeof errorList !== \"undefined\" && errorList.length > 0) {\n                        $('#validationErrorModal .modal-body p').empty().append($(\"<ul></ul>\").append($('#error ul').html()));\n                        $('#validationErrorModal').modal();\n\n                    }\n                    $('#error').show();\n                },\n                submitHandler: function (f) {\n                    //prevent double submit and dazzle user with animated gif\n                    _submitButtonStartWait();\n\n                    /* Creator entry controls display one of two field sets if the creator is \"person\" or\n                     institution\". Disable the hidden set so the set's input vals aren't sent to server.\n                     */\n                    $(f).find(\".creatorPerson.hidden, .creatorInstitution.hidden\").find(\":input\").prop(\"disabled\", true);\n\n                    $('#error').hide();\n                    $(f).FormNavigate(\"clean\");\n                    f.submit();\n                }\n            };\n        return options;\n    }\n\n    \n    /**\n     * Disable any submit buttons on a form, and display a \"please wait\" graphic beside the submit buttons.\n     * Useful for  preventing double-submits.\n     * @private\n     */\n    var _submitButtonStartWait = function () {\n        var $submitDivs = $('#editFormActions, #fakeSubmitDiv');\n        var $buttons = $submitDivs.find(\".submittableButtons\");\n        $buttons.prop(\"disabled\", true);\n\n        //fade in the wait icon\n        $submitDivs.find(\".waitingSpinner\").show();\n    };\n\n\n    var _initRightsForm = function(form) {\n        var opts = _initBasicForm(form);\n        return opts;\n    }\n    var _postValidateRights = function(form) {\n        $(\"#firstName\").rules(\"add\", {\n            required: function () {\n                if ($(\"#lastName\").val().trim() != '' || $(\"#email\").val().trim() != '') {\n                    return true;\n                }\n                return false;\n            }\n        });\n        $(\"#lastName\").rules(\"add\", {\n            required: function () {\n                if($(\"#firstName\").val().trim() != '' || $(\"#email\").val().trim() != '') {\n                    return true;\n                }\n                return false;\n            }\n        });\n        $(\"#email\").rules(\"add\", {\n            email:true,\n            required: function () {\n                return $(\"#lastName\").val().trim() != '' || $(\"#firstName\").val().trim() != '';\n            }\n        });\n    }\n    \n    // called whenever date type changes\n    //FIXME: I think we can improve lessThanEqual and greaterThenEqual so that they do not require parameters, and hence can be\n//         used via $.validator.addClassRules.  The benefit would be that we don't need to register these registration rules each time a date\n//         gets added to the dom.\n    //FIXME: this might be duplicated in tdar.formValidateExtensions.  If not, it should probably be migrated there.\n    /**\n     * Add specific rules to a the text fields associated with a \"coverage date\" control.\n     *\n     * @param selectElem the select input element associated with the \"fromYear\" and \"toYear\" text inputs (must be a\n     *          sibling element in the same container)\n     * @private\n     */\n    var _prepareDateFields = function (selectElem) {\n    \tconsole.info(\"inside tdar.validate:_prepareDateFields\");\n    \t   \n        if(selectElem == undefined){\n        \tconsole.error(\"expected parameter `selectElem` to not be null, but it was\");\n        }\n        \n        var startElem = $(selectElem).siblings('.coverageStartYear');\n        var endElem = $(selectElem).siblings('.coverageEndYear');\n        $(startElem).rules(\"remove\");\n        $(endElem).rules(\"remove\");\n\n     \n        \n        switch ($(selectElem).val()) {\n            case \"CALENDAR_DATE\":\n                $(startElem).rules(\"add\", {\n                    range: [ -99900, 2100 ],\n                    lessThanEqual: [endElem, \"Calender Start\", \"Calendar End\"],\n                    required: function () {\n                        return $(endElem).val() != \"\";\n                    }\n                });\n                \n                $(endElem).rules(\"add\", {\n                    range: [ -99900, 2100 ],\n                    required: function () {\n                        return $(startElem).val() != \"\";\n                    }\n                });\n                \n                break;\n                \n            case \"RADIOCARBON_DATE\":\n                $(startElem).rules(\"add\", {\n                    range: [ 0, 100000 ],\n                    greaterThanEqual: [endElem, \"Radiocarbon Start\", \"Radiocarbon End\"],\n                    required: function () {\n                        return $(endElem).val() != \"\";\n                    }\n                });\n                \n                $(endElem).rules(\"add\", {\n                    range: [ 0, 100000 ],\n                    required: function () {\n                        return $(startElem).val() != \"\";\n                    }\n                });\n                \n                break;\n                \n            case \"NONE\":\n                $(startElem).rules(\"add\", {\n                    blankCoverageDate: {\"start\": startElem, \"end\": endElem}\n                });\n                break;\n        }\n    };\n    \n    var _initRegForm = function(form) {\n    \tconsole.info(\"Inside tdar.validate:_initRegForm\");\n        var $form = form;\n        //disable double-submit protection if user gets here via backbutton\n        var $submit = $form.find(\".submittableButtons\").prop(\"disabled\", false);\n        var options = {\n            //FIXME: allow for error label container to be specified from options,\n            wrapper: \"\",\n            showErrors: null, //use default showErrors\n            //errorLabelContainer: $(\"#error\"),\n            errorClass: 'help-block',\n            highlight: function (label) {\n                $(label).closest('.control-group').addClass('error');\n            },\n            submitHandler: function (f) {\n                var $submit = $(f).find(\".submittableButtons\").prop(\"disabled\", true);\n                //prevent doublesubmit for certain amount of time.\n                $submit.prop(\"disabled\", true);\n                setTimeout(function () {\n                    $submit.prop(\"disabled\", false);\n                }, 10 * 1000)\n                f.submit();\n            }\n        };\n        return options;\n    };\n\n\n    module.exports = {\n        \"init\" : _init,\n        \"initForm\" : _initForm,\n        \"initRegForm\" : _initRegForm,\n        \"initBasicForm\": _initBasicForm,\n        \"initRightsForm\": _initRightsForm,\n        \"prepareDateFields\": _prepareDateFields,\n        main : function() {\n            _init();\n        }\n    }\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\"), __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\"), __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/tdar.validate.js?");

/***/ }),

/***/ "./src/main/webapp/js/vue/edit-collection.js":
/*!***************************************************!*\
  !*** ./src/main/webapp/js/vue/edit-collection.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($, TDAR) {/**TDAR edit-collection.js */\n\n\nconst Vue = __webpack_require__(/*! vue/dist/vue.esm.js */ \"./node_modules/vue/dist/vue.esm.js\").default;\n//const axios = require(\"axios\");\nconst datatable = __webpack_require__(/*! ./../tdar.datatable */ \"./src/main/webapp/js/tdar.datatable.js\");\nconst common = __webpack_require__(/*! ./../tdar.common */ \"./src/main/webapp/js/tdar.common.js\");\nconst core = __webpack_require__(/*! ./../tdar.core */ \"./src/main/webapp/js/tdar.core.js\");\n\n\n\tvar _init = function(params) {\n\t\tvar enableUnmanagedCollections = false;\n\t\t\n\t\tif(params!= null && params.enableUnmanagedCollections==true){\n\t\t\tenableUnmanagedCollections  = true;\n\t\t};\n\t\t\n\t\tvar vm = new Vue(\n\t\t\t\t{\n\t\t\t\t\tel : '#editCollectionApp',\n\t\t\t\t\tdata : {\n\t\t\t\t\t\tmanagedAdditions : [],\n\t\t\t\t\t\tmanagedRemovals : [],\n\t\t\t\t\t\tunmanagedAdditions : [],\n\t\t\t\t\t\tunmanagedRemovals : [],\n\t\t\t\t\t\tenableUnmanagedCollections: enableUnmanagedCollections\n\t\t\t\t\t},\n\t\t\t\t\t\n\t\t\t\t\tmounted : function() {\n\t\t\t\t\t\tconsole.log(\"enableUnmanagedCollections\", this.enableUnmanagedCollections);\n\t\t\t\t\t},\n\n\t\t\t\t\tcomputed : {\n\t\t\t\t\t\tpendingRemovals : function() {\n\t\t\t\t\t\t\treturn this.managedRemovals.length\n\t\t\t\t\t\t\t\t\t+ this.unmanagedRemovals.length;\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tpendingAdditions : function() {\n\t\t\t\t\t\t\treturn this.managedAdditions.length\n\t\t\t\t\t\t\t\t\t+ this.unmanagedAdditions.length;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\n\t\t\t\t\t\tpendingAdditionText :function(){\n\t\t\t\t\t\t\tvar p = this.pendingAdditions;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(p<=1){\n\t\t\t\t\t\t\t\treturn \"resource\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\treturn p+\" resources\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, \n\t\t\t\t\t\t\n\t\t\t\t\t\tpendingRemovalText :function(){\n\t\t\t\t\t\t\tvar p = this.pendingRemovals;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(p<=1){\n\t\t\t\t\t\t\t\treturn \"resource\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\treturn p+\" resources\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t},\n\n\t\t\t\t\tmethods : {\n\t\t\t\t\t\tellipse : function(value) {\n\t\t\t\t\t\t\treturn common.htmlEncode(core.ellipsify(value, 80))\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tsearch : function(value, array) {\n\t\t\t\t\t\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\t\t\t\t\t\tif (array[i].id == value) {\n\t\t\t\t\t\t\t\t\tconsole.debug(\"Found value \" + value\n\t\t\t\t\t\t\t\t\t\t\t+ \" at position \" + i);\n\t\t\t\t\t\t\t\t\treturn i;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tremoveFromArray : function(id, array) {\n\t\t\t\t\t\t\tvar idx = this.search(id, array);\n\t\t\t\t\t\t\tif (idx !== -1) {\n\t\t\t\t\t\t\t\tconsole.debug(\"Removing \" + id + \" at  \" + idx);\n\t\t\t\t\t\t\t\tarray.splice(idx, 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tundoModification : function(id, isManaged, isAddition) {\n\t\t\t\t\t\t    console.debug(\"edit-collection:undoModification called\");\n\t\t\t\t\t\t    var tableId = !isAddition ? '#existing_resources_datatable' : '#resource_datatable';\n\t\t\t\t\t\t    \n\t\t\t\t\t\t    console.debug(\"Table id is : \"+tableId);\n\t\t\t\t\t\t\tvar $dataTable = $(tableId);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * Verify that the datatable actually returns the right object. If it doesn't then it probably means that\n\t\t\t\t\t\t\t * the DOM isn't properly loaded. \n\t\t\t\t\t\t\t * \n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//console.debug(\"Data table is \");\n\t\t\t\t\t\t\t//console.debug($dataTable);\n\t\t\t\t\t\t\t\n \n\t\t\t\t\t\t\tif (isManaged) {\n\t\t\t\t\t\t\t\tif (isAddition) {\n\t\t\t\t\t\t\t\t\tconsole.debug(\"Removing \" + id + \" from managed additions\");\n\t\t\t\t\t\t\t\t\tthis.removeFromArray(id, this.managedAdditions)\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconsole.debug(\"Removing \" + id + \" from managed removals\");\n\t\t\t\t\t\t\t\t\tthis.removeFromArray(id, this.managedRemovals)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (isAddition) {\n\t\t\t\t\t\t\t\t\tconsole.debug(\"Removing \" + id\n\t\t\t\t\t\t\t\t\t\t\t+ \" from unmanaged additions\");\n\t\t\t\t\t\t\t\t\tthis.removeFromArray(id, this.unmanagedAdditions)\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconsole.debug(\"Removing \" + id +\" from unmanaged removals\");\n\t\t\t\t\t\t\t\t\tthis.removeFromArray(id, this.unmanagedRemovals)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t    datatable.removePendingChange(parseInt(id), isManaged, isAddition, $dataTable);\n\t\t\t\t\t\t\t} catch(e){\n\t\t\t\t\t\t\t    console.warn(e);\n\t\t\t\t\t\t    }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\n\t\treturn vm;\n\t}\n\n\tmodule.exports = {\n\t\tinit : _init,\n\t\tmain : function() {\n\t\t\t\tTDAR.vuejs.editcollectionapp.init(appId);\n\t\t}\n\t}\n\t\n//TDAR.vuejs.editcollectionapp = (function(console, $, ctx, Vue, axios, TDAR) {\n//})(console, jQuery, window, Vue, axios, TDAR);\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\"), __webpack_require__(/*! JS/tdar.master */ \"./src/main/webapp/js/tdar.master.js\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/vue/edit-collection.js?");

/***/ }),

/***/ "./src/main/webapp/js/vue/view-collection-widget.js":
/*!**********************************************************!*\
  !*** ./src/main/webapp/js/vue/view-collection-widget.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {/**\n * TDAR view-collection-widget.js\n * \n * This module is used to add/remove resources from the jQuery datatable.\n */\n\n\nconst Vue = __webpack_require__(/*! vue/dist/vue.esm.js */ \"./node_modules/vue/dist/vue.esm.js\").default;\nvar axios = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\nconst common = __webpack_require__(/*! ./../tdar.common.js */ \"./src/main/webapp/js/tdar.common.js\");\nconst core = __webpack_require__(/*! ./../tdar.core.js */ \"./src/main/webapp/js/tdar.core.js\");\n\nvar autocomplete = __webpack_require__(/*! tdar-autocomplete/js/vue-autocomplete.js */ \"./node_modules/tdar-autocomplete/js/vue-autocomplete.js\");\n__webpack_require__(/*! tdar-autocomplete/css/tdar-autocomplete.css */ \"./node_modules/tdar-autocomplete/css/tdar-autocomplete.css\");\n\n\n// Vue.use(autocomplete);\n\n__webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\");\n\n// Instantiate and return a new Vue instance.\nvar _init = function(appId) {\n    $(\"#addToExisting\").popover({placement:'right', delay:{hide:2000}});\n    \n    var app2 = new Vue({\n    \tel: appId,\n    \n\t    data: { \n\t    \t// For use in the View Resource \"Add to Collection\" widget.\n\t        items:[{id:\"1\",name:\"Sample\"}], \n\t        selectedCollection: 0 ,\n\t        pick:\"existing\", // For the radio button of existing or new collection.\n\t        options:[],\n\t        unmanagedEnabled: true,\n\t        newCollectionName:\"\",\n\t        newCollectionDescription:\"\",\n\t        managedCollectionsToRemove: [],\n\t        unmanagedCollectionsToRemove: [],\n\t        changesMade: false,\n\t        showPermission:false,\n\t        managedResource: true,\n\t        resourceId: -1,\n\t        administrator: false,\n\t        autocompletesuffix: \"permission=ADMINISTER_COLLECTION\",\n\t        canEdit: false,\n\t        collections: {managed:[], unmanaged:[]},\n\t        \n\t        // For use in the Save Search Results to Collection widget.\n\t        progressStatus:0,\n\t        lastSavedCollectionId:0\n\t    },\n\t    \n\t    // These are observed events that happen when a given property changes.\n\t    watch: {\n\t        newCollectionName: function (value) {\n\t            Vue.set(this,\"changesMade\",true);\n\t        },\n\t        selectedCollection: function (value) {\n\t            Vue.set(this,\"changesMade\",true);\n\t        }\n\t    },\n\t    \n\t    // This is called when vue is instantiated and is set up.\n\t    mounted: function() {\n\t        var $e = $(this.$el);\n\t        console.log(\"Calling mounting functions\");\n\t        \n\t        if($e.data('resourceId')!=null){\n\t          \tVue.set(this, 'administrator',$e.data('administrator'));\n\t            Vue.set(this, 'canEdit', $e.data('canEdit'));\n\t            Vue.set(this, 'unmanagedEnabled',$e.data('unmanagedEnabled'));\n\t            Vue.set(this, 'resourceId',\t$e.data('resourceId'));\n\n\t            console.log(\"Mounted\");\n\t            console.log(\"Is Administrator: \",this.administrator);\n\t            console.log(\"Is unmanagedEnabled: \",this.unmanagedEnabled);\n\t            \n\t            // If the resource is not set to allow unmanaged additions, then force the property to be set to true.\n\t            // This will make the checkbox selected by default.\n\t            if (this.unmanagedEnabled == undefined || this.unmanagedEnabled == false) {\n\t            \tconsole.log(\"Forcing resource to be managed\");\n\t                Vue.set(this,\"managedResource\",true);\n\t            }\n\t            \n        \t    this._getCollectionsForResource();\n\t        }\n\t    },\n    \n\t    methods: {\n\t        selectCollection: function(coll) {\n\t            console.log(\"select collection\", coll);\n\t            if (coll == undefined) {\n                    Vue.set(this,\"selectedCollection\", '');\n\t                return;\n\t            } \n\t            \n\t            if (typeof coll == 'string') {\n                   Vue.set(this,\"selectedCollection\", coll);\n\t            } else if (coll.id > -1) {\n\t                Vue.set(this,\"selectedCollection\", coll.id);\n\t            } \n\t        },\n\t    \t// Helper methods: maybe move to a static library?\n\t        _arrayRemove: function(arr, item) {\n\t            var idx = arr.indexOf(item);\n\t            if(idx !== -1) {\n\t                arr.splice(idx, 1);\n\t            }\n\t        },\n\t        \n\t        ellipse : function(value){\n\t            return common.htmlEncode(core.ellipsify(value, 80))\n\t         }, \n\t                 \n\t         //\"Add to Collection\" functions. \n\t        _resetForm: function(){\n\t        \tconsole.log(\"Resetting the 'Add to Collection' form\");\n\t            this.selectedCollection='';\n\t            this.pick = \"existing\";\n\t            this.newCollectionName = \"\";\n\t            this.newCollectionDescription = \"\";\n\t            this.managedResource = false;\n\t            this.managedCollectionsToRemove = [];\n\t            this.unmanagedCollectionsToRemove = [];\n\t            \n\t            Vue.set(this,\"changesMade\",false);\n\t        \n\t            // Reset forcing as a managed resource if unmanaged is not allowed.\n\t            if (this.unmanagedEnabled == undefined || this.unmanagedEnabled == false) {\n\t                Vue.set(this,\"managedResource\",true);\n\t            }\n\t\n\t            this.$refs['collection-list'].reset();\n\t        },\n\t        \n\t        getCollections: function(){\n\t        \tconsole.log(\"Getting list of all available collections\");\n\t            var self = this;\n\t            var permission = \"ADD_TO_COLLECTION\";\n\t            if (this.unmanagedEnabled == true) {\n\t                permission = ADD_TO_COLLECTION;\n\t            }\n\t            axios.get(\"/api/lookup/collection?permission=\" + permission).then(function(res) {\n\t                    self.items = res.data;\n\t                    Vue.set(this,'changesMade',true);\n\t            });\n\t        },\n\t        \n\t        _addResourceToCollection : function(collectionId){\n\t        \tconsole.log(\"Adding resource to collection \"+collectionId);\n\t            var self=this;\n\t            var data =  {\n\t                \"resourceId\":self.resourceId,\n\t                \"collectionId\":collectionId,\n\t                \"addAsManagedResource\":this.managedResource\n\t            }\n\t            \n\t            axios.post('/api/collection/addtocollection', Qs.stringify(data)).then(function(){\n\t                self._getCollectionsForResource();\n\t                self._resetForm();\n\t            }\n\t            ).catch(function(res){\n\t                console.log(\"An error occurred when adding to collection\"); \n\t                console.log(res);\n\t            });\n\t            \n\t        },\n\t        \n\t        _getCollectionsForResource : function(){\n\t        \tconsole.log(\"Getting all collections for the resource \"+this.resourceId);\n\t            var self = this;\n\t            var url = \"/api/collection/resourcecollections?resourceId=\"+this.resourceId;\n\t            \n\t            console.log(\"Calling \",url);\n\t\n\t            var called = false;\n\t            axios.get(url).then(function(response) {\n\t            \tconsole.log(\"response is:\", response.data);\n\t            \tcalled = true;\n\t            \tconsole.log(\"Managed collections: \",response.data.managed.length);\n\t            \tconsole.log(\"Unmanaged collections: \",response.data.unmanaged.length);\n\t                Vue.set(self,'collections',response.data);\n\t            }).catch(function(error){\n\t                console.error(\"An error ocurred getting a list of collections for this resource\");\n\t                console.error(error);\n\t            });\n\t            \n\t            console.log(\"This was called? \", called);\n\t            \n\t            \n\t        },\n\t        \n\t        _removeResourceFromCollection: function(collectionId,section){\n\t        \tconsole.log(\"removing collection id\",collectionId);\n\t        \tVue.set(this,\"changesMade\",true);\n\t        \t\tvar data =  {\n\t                    resourceId:this.resourceId,\n\t                    collectionId:collectionId,\n\t                    type:section\n\t                }\n\t        \t\t\n\t                var self = this;\n\t                axios.post('/api/collection/removefromcollection', Qs.stringify(data)).then(function(){\n\t                 self._getCollectionsForResource();\n\t                }).catch(function(error){\n\t                    console.error(\"couldn't remove item from collection\");\n\t                    console.debug(error);\n\t                });\n\t        },\n\t            \n\t        _processCollectionRemovals : function(){\n\t            var vapp = this;\n\t        \t$.each(this.managedCollectionsToRemove, function(idx, val){\n\t            \tconsole.log(\"Removing collection \"+val+\" from managed\");\n\t            \tvapp._removeResourceFromCollection(val, 'MANAGED');\n\t            });\n\t            \n\t            $.each(this.unmanagedCollectionsToRemove, function(idx, val){\n\t            \tconsole.log(\"Removing collection \"+val+\" from unmanaged\");\n\t            \tvapp._removeResourceFromCollection(val, 'UNMANAGED');\n\t            });\n\t        },\n\t        \n\t        _disableSubmitButton: function(){\n\t        \t$(\"#modal .btn-primary\").addClass(\"disabled\");\n\t        \t$(\"#modal .btn-primary\").prop(\"disabled\",true);\n\t        },\n\t        \n\t        _enableSubmitButton: function(){ \n\t        \t$(\"#modal .btn-primary\").removeClass(\"disabled\");\n\t        \t$(\"#modal .btn-primary\").prop(\"disabled\",false);\n\t        },\n\t        \n\t        /**\n             * \"save results to collection\" functions\n             */\n\t        _addResultsToCollection: function(collectionId){\n\t\n\t        \tvar url = $(this.$el).data(\"url\");\n\t        \tvar vapp = this;\n\t\n\t        \tvar progress = $(\"#upload-progress\");\n\t        \tvar form \t = $(\"#upload-form\");\n\t        \tvar progressBar = $(\"#upload-progress-status\");\n\t        \tvar progressMessage = $(\"#progress-message\");\n\t        \tvar title  = $(\"#progress-title\");\n\t        \tthis.lastSavedCollectionId = collectionId;\n\t        \t\n\t        \ttitle.show();\n\t        \ttitle.text(\"Saving Results To Collection '\"+$('#collection-list').text()+\"'\");\n\t        \t\n\t        \taxios.post(\"/api/search/\"+url+\"&collectionId=\"+collectionId).then(function(res) {\n\t            \tprogress.show();\n\t            \tprogressMessage.show();\n\t            \tform.hide();\n\t        \t\tconsole.log(\"Finished adding!!\");\n\t        \t\tvapp.updateProgressBar(collectionId);\n\t        \t});\n\t        },\n\t        \n\t        _resetCollectionSelectionState : function(){\n\t        \tvar progress = $(\"#upload-progress\");\n\t        \tvar progressMessage = $(\"#progress-message\");\n\t        \tvar form \t = $(\"#upload-form\");\n                this.$refs['collection-list'].reset();\n\t            var title  = $(\"#progress-title\");\n\t            \n\t            var vapp = this;\n\t            \n\t            vapp._enableSubmitButton();\n\t        \tprogress.hide();\n\t        \tprogressMessage.hide();\n\t        \ttitle.hide();\n\t        \tform.show();\n\t        },\n\t        \n\t        \n\t       \n\t        /**\n             * Exposed methods\n             */ \n\t        removeResourceFromCollection: function(collection,section){\n\t            Vue.set(this,\"changesMade\",true);\n\t            \tconsole.log(\"Pending collection removal from \"+collection.id+\" - \"+section);\n\t            \tif(section=='MANAGED'){\n\t            \t\tthis.managedCollectionsToRemove.push(collection.id);\n\t            \t\tthis._arrayRemove(this.collections.managed, collection);\n\t            \t}\n\t            \telse {\n\t            \t\tthis.unmanagedCollectionsToRemove.push(collection.id);\n\t               \t\tthis._arrayRemove(this.collections.unmanaged, collection);\n\t            \t}\n\t        },\n\t        \n\t        addToCollection:function(){\n\t            var vapp = this;\n\t            \n\t            console.log(\"selectedCollection\", this.selectedCollection);\n\t            if(this.selectedCollection==\"\"){\n\t                $(\"#addToNew\").popover('show');\n\t                setTimeout(function () {\n\t                       $('#addToNew').popover('hide');\n\t                   }, 2000);\n\t              }\n\t\n\t            else if (isNaN(this.selectedCollection)) {\n\t                \tconsole.log(\"Creating a new collection\", this.selectedCollection);\n\t                \tconsole.log(\"Disabling submit button\");\n\t                    // post to create a new collection.\n\t                    var data = {\n\t                        collectionName: this.selectedCollection,\n\t                        collectionDescription : this.newCollectionDescription\n\t                    }\n\t                \t\n\t                    // On success, add the resource.\n\t                    axios.post('/api/collection/newcollection',Qs.stringify(data)).then(function(res){\n\t                            console.log(\"New Collection added\");\n\t                            var id = res.data.id;\n\t                            console.debug(\"new collection id is \"+id);\n\t                            vapp._addResourceToCollection(id);\n\t                            vapp._resetForm();\n\t                        }\n\t                    );\n\t                } else if(this.selectedCollection < 1){\n\t                    // This should change the background color to red and\n\t\t\t\t\t\t// invalidate the box.\n\t                    $(\"#collection-list\").addClass(\"invalid-feedback\");\n\t                    \n\t                    \n\t                    console.debug(\"Adding popover\");\n\t                    // Change this to popovers.\n\t                    $(\"#addToExisting\").popover('show');\n\t                     setTimeout(function () {\n\t                            $('#addToExisting').popover('hide');\n\t                        }, 2000);\n\t                }\n\t                else { \n\t                   vapp._addResourceToCollection(this.selectedCollection);\n\t                   vapp._getCollectionsForResource();\n\t                }\n\t        },\n\t        \n\t        // Determines if the list should show the grant permissions checkbox.\n\t        showGrant: function(){\n\t           var index = $('#collection-list').prop('selectedIndex');\n\t           if(index > 0 ){\n\t            this.showPermission = this.items[index-1].owned==true;\n\t           }\n\t           else {\n\t            this.showPermission = false;\n\t           }\n\t        },\n\t        \n\t        cancelSaveSearchChanges: function(){\n\t        \tconsole.log(\"Cancelling Save Search.\");\n\t        \tvar vapp = this;\n\t        \tvapp._resetForm();\n\t        },\n\t        \n\t        cancelAddToCollectionChanges: function(){\n\t        \tconsole.log(\"Cancelling Add To Collection.\");\n\t        \tvar vapp = this;\n\t        \tvapp._resetForm();\n\t        \tvapp._getCollectionsForResource();\n\t        },\n\t        \n\t        saveAddToCollectionChanges : function(){\n\t        \tvar vapp = this;\n\t        \tvapp.addToCollection();\n\t        \tvapp._processCollectionRemovals();\n\t        \tvapp._resetForm();\n\t        },\n\t        \n\t        \n\t        /**\n             * SAVE RESULTS TO COLLECTION FUNCTIONS\n             */\n\t        saveResultsToCollection: function(){\n\t        \tvar vapp = this;\n\t        \tif(this.selectedCollection==\"\"){\n\t                $(\"#addToNew\").popover('show');\n\t                setTimeout(function () {\n\t                       $('#addToNew').popover('hide');\n\t                   }, 2000);\n\t            }\n\t\n\t            else if (isNaN(this.selectedCollection)) {\n\t            \t\tvapp._disableSubmitButton();\n\t                    console.log(this.selectedCollection);\n\t            \t\t// post to create a new collection.\n\t                    var data = {\n\t                        collectionName: this.selectedCollection,\n\t                        collectionDescription : this.newCollectionDescription\n\t                    }\n\t                    \n\t                    // On success, add the resource.\n\t                    axios.post('/api/collection/newcollection',Qs.stringify(data)).then(function(res){\n\t                            console.log(\"New Collection added\");\n\t                            var id = res.data.id;\n\t                            console.debug(\"new collection id is \"+id);\n\t                            vapp._addResultsToCollection(id);\n\t                        }\n\t                    );\n\t                }\n\t            else { \n\t            \tvapp._disableSubmitButton();\n\t                vapp._addResultsToCollection(this.selectedCollection);\n\t             }\n\t        },\n\t        \n\t        updateProgressBar: function(collectionId){\n\t            var vapp = this;\n\t            \n\t        \taxios.get('/api/search/checkstatus?collectionId='+collectionId).\n\t        \tthen(function(res){\n\t        \t    var percentComplete = parseInt(res.data.percentComplete);\n\t        \t    var message = res.data.message;\n\t        \t    \n\t        \t    var progressBar \t= $(\"#upload-progress-status\");\n\t        \t    var progressMessage = $(\"#progress-message\");\n\t        \t    console.log(\"progress is \"+percentComplete+\"%\");\n\t        \t    \n\t        \t    if(message==null){message = \"\";}\n\t        \t    \n\t        \t    progressMessage.text(message)\n\t        \t    \n\t        \t    progressBar.css(\"width\", percentComplete + \"%\")\n\t        \t      .attr(\"aria-valuenow\", percentComplete)\n\t        \t      .text(percentComplete + \"% Complete\");\n\t        \t    \n\t        \t    if(percentComplete<100){\n\t        \t    \t setTimeout(function(){\n\t                        vapp.updateProgressBar(collectionId);\n\t                     }, 1000);\n\t        \t    }\n\t        \t    else {\n\t        \t    \tconsole.log(\"Progress is 100%\");\n\t        \t    \t// display the complete message.\n\t        \t    \tvar collection =  $('#collection-list').text();\n\t        \t    \t$(\"#progress-complete-text\").text(\"Results successfully saved to \"+collection);\n\t        \t    \t$(\"#progress-complete-alert\").show();\n\t        \t    \tvapp._resetCollectionSelectionState();\n\t        \t    }\n\t        \t    \n\t        \t}).catch(function(res){\n\t                console.log(\"An error occurred when getting the progress status\", log); \n\t                vapp._resetCollectionSelectionState();\n\t            });\n\t        }\n\t    }\n    });\n      return app2;\n}\n\nmodule.exports = {\n        init: _init,\n        main : function() {\n            var appId = '#add-resource-form';\n            if ($(appId).length  >0 ) {\n                _init(appId);\n            }\n        }\n    }\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/vue/view-collection-widget.js?");

/***/ }),

/***/ "./src/main/webapp/js/vue/vue-autocomplete.js":
/*!****************************************************!*\
  !*** ./src/main/webapp/js/vue/vue-autocomplete.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("const Vue = __webpack_require__(/*! vue/dist/vue.esm.js */ \"./node_modules/vue/dist/vue.esm.js\").default;\nconst axios = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n\n    if (document.getElementById(\"autocomplete\") != undefined ) {\n    // https://alligator.io/vuejs/vue-autocomplete-component/\n    var autocomplete = Vue.component('autocomplete', {\n        name: \"autocomplete\",\n        template: \"#autocomplete\",\n        props: {\n          items: {\n            type: Array,\n            required: false,\n            default: function() {return new Array();}\n          },\n          isAsync: {\n            type: Boolean,\n            required: false,\n            default: true\n          },\n          url: {\n              type: String\n          },\n          suffix: {},\n          field: {\n              type: String,\n              required: true\n          },\n          render: {\n              type: Object\n          },\n          fieldname: {\n              type: String\n          },\n          allowCreate: {\n              type:Boolean,\n              default: true\n          },\n          resultsuffix: {\n              type: String\n          },\n          span:{ type:String},\n          idname: {type:String},\n          name: {type:String},\n          disabled: {type:Boolean},\n          deletekey: {type: Function},\n          enterkey: {type: Function},\n          anykey: {type: Function},\n          customcreatenew: {type:Function},\n          createnewtext: {type:String, default:'Create New'} \n        },\n    \n        data: function() {\n          return {\n            isOpen: false,\n            results: [],\n            search: \"\",\n            id: '',\n            searchObj: {},\n            hasFocus: false,\n            mouseFocus: false,\n            cursorFocus: false,\n            isLoading: false,\n            width: 100,\n            top:'10',\n            arrowCounter: -1,\n            totalRecords:0,\n            recordsPerPage: 25,\n            cancelToken: undefined\n          }\n        },\n        \n        methods: {\n            createNew: function() {\n                this.reset();\n                this.customcreatenew();\n            },\n            getValue: function() {\n                return this.search;\n            },\n            setValue: function(val) {\n                Vue.set(this,\"search\", val);\n            },\n            addFocus: function (type) {\n                if (type == 'mouse') {\n                    this.mouseFocus = true;\n                }\n                if (type == 'cursor') {\n                    this.cursorFocus = true;\n                }\n            },\n            deleteKey: function() {\n                if (this.deletekey != undefined) {\n                    this.deletekey(this.$refs.searchfield);\n                }\n            },\n            enterKey: function() {\n                if (this.enterkey != undefined && this.arrowCounter < 0) {\n                    this.enterkey(this.search);\n                }\n            },\n            anyKey: function() {\n                if (this.anykey != undefined) {\n                    this.anykey(this.$refs.searchfield);\n                }\n            },\n            removeFocus: function (type) {\n                if (type == 'mouse') {\n                    this.mouseFocus = false;\n                }\n                if (type == 'cursor') {\n                    this.cursorFocus = false;\n                }\n                \n                if (this.mouseFocus == false && this.cursorFocus == false) {\n                    \n                    if (this.allowCreate == false && this.searchObj == undefined) {\n                        console.log(\"clearing ...\", this.search, this.searchObj);\n                        this.reset();\n                    }\n                }\n            },\n            reset: function() {\n                this.clear();\n                this.isOpen = false;\n                this.results = [];\n            },\n          getStyleWidth: function() {\n            return \"width: \" + (this.width - 8)+ \"px;\";\n          }, \n          getStyleTop: function() {\n              return \"top:\" + (this.top) + \"px; \";\n          }, \n          fieldName: function() {\n              return this.name;\n          },\n          isCustomRender: function() {\n            if (this.render != undefined && typeof this.render  === 'function') {\n              return true;\n            }\n            return false;\n          },\n          getDisplay: function(obj) {\n          if (obj == undefined) { return ''; }\n            if (this.valueprop != undefined) {\n              return obj['valueprop'];\n            }\n            var ret =  \"\";\n              if (obj.name != undefined) {\n                  ret =  obj.name;\n              } else if (obj.title != undefined) {\n                  ret = obj.title;\n              } else if (obj.label != undefined) {\n                  ret = obj.label;\n              } else if (obj.properName != undefined) {\n                  ret = obj.properName;\n              };\n              return ret;\n                  \n          },\n          onChange: function() { // Let's warn the parent that a change was made\n            this.$emit(\"input\", this.search);\n    \n            // Is the data given by an outside ajax request?\n            if (this.isAsync) {\n              this._setResult();\n              var self = this;\n             if (this.search != undefined && this.search.length > 0) {\n              this.isLoading = true;\n              if (this.cancelToken != undefined) {\n                  this.cancelToken.cancel();\n              }\n              \n              Vue.set(this, \"cancelToken\" ,axios.CancelToken.source());\n    \n              var searchUrl = this.url + \"?\" + this.field + \"=\" + this.search + \"&\" + this.suffix;\n              Vue.set(self, \"totalRecords\", 0);\n              Vue.set(self, \"recordsPerPage\", 25);\n              axios.get(searchUrl, { cancelToken: self.cancelToken.token }).then(function(res) {\n                  Vue.set(self, \"isLoading\",false);\n                  Vue.set(self, 'results',res.data[self.resultsuffix]);\n                  console.log(res);\n                  Vue.set(self, \"totalRecords\", res.data.status.totalRecords);\n                  if (res.data.status.totalRecords < res.data.status.recordsPerPage) {\n                      Vue.set(self, \"recordsPerPage\", self.totalRecords);\n                  } else {\n                      Vue.set(self, \"recordsPerPage\", res.data.status.recordsPerPage);\n                  }\n              }).catch(function(thrown) {\n                  if (!axios.isCancel(thrown)) {\n                      console.error(thrown);\n                  }\n              });\n              this.isOpen = true;\n              } else {\n              this.isOpen = false;\n              Vue.set(self, \"isLoading\",false);\n              Vue.set(self, 'results',[]);\n              \n              }\n            } else {\n              // Let's search our flat array\n              this.filterResults();\n              this.isOpen = true;\n            }\n          },\n          filterResults: function() {\n            // first uncapitalize all the things\n            this.results = new Array();\n            var self = this;\n            this.items.foreach(function(item){\n              if (item.toLowerCase().indexOf(self.search.toLowerCase()) > -1) {\n                  self.results.add(item);\n              }\n            });\n          },\n          focus: function() {\n              this.$refs.searchfield.focus();\n          },\n          _setResult: function(result) {\n            this.searchObj = result;\n            this.$emit(\"autocompletevalueset\", result);\n            if (result != undefined && result.id != undefined) {\n                this.$emit(\"setvalueid\", result.id);\n                this.id = result.id;\n            } else {\n                this.$emit(\"setvalueid\", '');\n                this.id = '';\n            }\n          },\n          clear: function() {\n              this.search= '';\n              this._setResult();\n          },\n          setResult: function(result) {\n            this.search = this.getDisplay(result);\n            this._setResult(result);\n            console.log(this.search, result);\n            this.isOpen = false;\n          },\n          onArrowDown: function(evt) {\n            if (this.arrowCounter < this.results.length) {\n              this.arrowCounter = this.arrowCounter + 1;\n            }\n          },\n          onArrowUp: function() {\n            if (this.arrowCounter > 0) {\n              this.arrowCounter = this.arrowCounter - 1;\n            }\n          },\n          onEnter: function(e) {\n            // make sure you can clear the value with setting\n            if (this.arrowCounter > -1 || (this.search == '' || this.search == undefined)) {\n              this.setResult( this.results[this.arrowCounter]);\n            }\n            this.isOpen = false;\n            this.arrowCounter = -1;\n          },\n          handleClickOutside: function(evt) {\n            if (!this.$el.contains(evt.target)) {\n              this.isOpen = false;\n              this.arrowCounter = -1;\n            }\n          }\n        },\n        watch: {\n          items: function(val, oldValue) {\n            // actually compare them\n            if (val.length !== oldValue.length) {\n              this.results = val;\n              this.isLoading = false;\n            }\n          }\n        },\n        mounted: function() {\n          Vue.set(this, 'width',this.$refs['searchfield'].offsetWidth);\n          Vue.set(this, 'top',this.$refs['searchfield'].offsetHeight + this.$refs['searchfield'].offsetTop );\n          document.addEventListener(\"click\", this.handleClickOutside);\n        },\n        destroyed: function() {\n          document.removeEventListener(\"click\", this.handleClickOutside);\n        }\n    });\n    }\n    \n//TDAR.vuejs.advancedSearch = (function(console, ctx, Vue, axios) {\n//})(console, window, Vue, axios);\n\n\n//# sourceURL=webpack:///./src/main/webapp/js/vue/vue-autocomplete.js?");

/***/ }),

/***/ "./src/main/webapp/js/vue/vue-balk-upload-component.js":
/*!*************************************************************!*\
  !*** ./src/main/webapp/js/vue/vue-balk-upload-component.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {const vuejsupload = __webpack_require__(/*! ./vue-base-upload */ \"./src/main/webapp/js/vue/vue-base-upload.js\");\n\nconst Vue = __webpack_require__(/*! vue/dist/vue.esm.js */ \"./node_modules/vue/dist/vue.esm.js\").default;\nconst VueRouter = __webpack_require__(/*! vue-router/dist/vue-router */ \"./node_modules/vue-router/dist/vue-router.js\");\n\n\n    var WONT_CURATE = \"WONT_CURATE\";\n    var UNDO_WONT_CURATE = 'UNDO_WONT_CURATE';\n    var CURATED = \"CURATED\";\n    var REVIEWED = \"REVIEWED\";\n    var INITIAL_REVIEWED = \"INITIAL_REVIEWED\";\n    var EXTERNAL_REVIEWED = \"EXTERNAL_REVIEWED\";\n    \n    var _app;\n    var _pp;\n    \n    var MAX_SELECTED_FILES = 50;\n    /**\n     * this tool handles the file-first upload management\n     */\n    \n    /** format the data to a yy/mm/dd\n     * \n     */\n    var _formatDate = function(date_) {\n        if (date_ == undefined ) {\n            return \"\";\n        }\n        \n        var date = new Date(date_);\n        return (date.getMonth() + 1) + '/' + date.getDate() + '/' +  date.getFullYear().toString().substring(2);\n    }\n\n\n    /** format the data to a yy/mm/dd\n     * \n     */\n    var _formatDateFullYear = function(date_) {\n        if (date_ == undefined ) {\n            return \"\";\n        }\n        \n        var date = new Date(date_);\n        return (date.getMonth() + 1) + '/' + date.getDate() + '/' +  date.getFullYear().toString();\n    }\n    \n    /**\n     * format date with time\n     */\n    var _formatLongDate = function(date_) {\n        if (date_ == undefined ) {\n            return \"\";\n        }\n\n        var date = new Date(date_);\n        var ampm = \"AM\";\n        if (date.getHours() > 12) {\n            ampm = \"PM\";\n        }\n        \n        var min = date.getMinutes();\n        if (min < 10) {\n            min = \"0\" + min.toString();\n        }\n        return (date.getMonth() + 1) + '/' + date.getDate() + '/' +  date.getFullYear() + \", \" + (date.getHours() % 12) + \":\" + min + \" \" + ampm;\n    }\n\n    var _init = function(appId) {\n\n        /**\n         * list a directory for the \"move interface\"\n         */\n        var _dir = Vue.component(\"dir\", {\n            template:\"#move-entry-template\",\n            props: [\"dir\", \"index\"],\n            data: function() {return {\n            }},\n            mounted: function() {\n            },\n            methods: {\n                moveSelectedFilesTo: function(dir) {\n                    this.$emit(\"moveselectedfilestodir\", dir);\n                }\n            },\n            computed: {\n            }\n        });\n\n        /**\n         * List a \"Person\" (Initial and URL)\n         */\n        var _pentry = Vue.component(\"pentry\", {\n            template:\"#part-entry-template\",\n            props: ['date','initials','name', 'url'],\n            data: function() {return {}},\n            methods: {\n                formatDate: function(date) {\n                    return _formatDate(date);\n                },\n                formatLongDate: function(date) {\n                    return _formatLongDate(date);\n                }\n            }\n        });\n        \n        /**\n         * Display a comment\n         */\n        var _comments = Vue.component(\"comment\", {\n            template:\"#comment-entry-template\",\n            props: [\"comment\", \"fileid\"],\n            data: function() {return {\n                resolved :false,\n            }},\n            mounted: function() {\n                if (this.comment != undefined) {\n                    Vue.set(this,\"resolved\", this.comment.resolved);\n                }\n            },\n            methods: {\n                formatDate: function(date) {\n                    return _formatDate(date);\n                },\n                formatLongDate: function(date) {\n                    return _formatLongDate(date);\n                },\n                resolveComment: function() {\n                    // mark comment resolved on server and update the data locally\n                    var _comment = this.comment;\n                    console.log(_comment);\n                    var _app = this;\n                    var fileId = this.fileid;\n                    console.log(_comment.id, fileId);\n                    $.post(\"/api/file/comment/resolve\", {\"id\": fileId,\"commentId\":_comment.id}).done(function(comments){\n                        Vue.set(_comment, \"resolverName\", comments.resolverName);\n                        Vue.set(_comment, \"resolverInitals\", comments.resolverInitials);\n                        Vue.set(_comment, \"dateResolved\", comments.dateResolved);\n                        Vue.set(_comment, \"resolved\", true);\n                        Vue.set(_app, \"resolved\", true);\n                    });\n                },\n                undo: function() {\n                    if (this.comment.undoAction == UNDO_WONT_CURATE) {\n                        this.$emit(\"uncurate\");\n                    } else {\n                        this.$emit(\"unmark\",this.comment);\n                    }\n                },\n                assignComment: function() {\n                    \n                }\n            },\n            computed: {\n                commentClass: function() {\n                    // comment.type is manually defined as \"internal\" for \"fake\" comments created for actions\n                    // like record created, reviewed, etc.\n                    if (this.comment.type == undefined) {\n                        return \"comment\";\n                    }\n                    return this.comment.type + \" comment\";\n                }\n            }\n        });\n\n        /**\n         * A \"row\" in the file tool for 1 entry\n         */\n        var _files = Vue.component('fileEntry', {\n            template : \"#file-entry-template\",\n            props : [ \"file\", \"index\", \"editable\" , \"initialreviewed\", \"externalreviewed\", \"fullservice\"],\n            data : function() {\n                return {\n                }\n            },\n            mounted: function() {\n//                console.trace(\"mounted file entry:\", this.file);\n            },\n            methods: {\n                cd : function(file) {\n                    this.$emit('cd',file);\n                },\n                _mark: function(role, date, name, initials) {\n                    /**\n                     * mark a file as reviewed or curated based on role\n                     */\n                    var id = this.file.id;\n                    var _file= this.file;\n                    var ret = {};\n                    $.post(\"/api/file/mark\", {\"ids[0]\": id,\"role\":role}).done(function(files){\n                        ret = files[0];\n                        console.log(ret);\n                        Vue.set(_file, date, ret[date]);\n                        Vue.set(_file, name, ret[name]);\n                        Vue.set(_file, initials, ret[initials]);\n                    });\n                    return ret;\n                },\n                select: function() {\n                    this.$emit('toggleselect', this.file);\n                },\n                markCurated: function() {\n                    var ret = this._mark(CURATED,\"dateCurated\", \"curatedByName\", \"curatedByInitials\");\n                },\n                markInitialCurated: function() {\n                    var ret = this._mark(\"INITIAL_CURATED\", \"dateInitialReviewed\", \"initialReviewedByName\", \"initialReviewedByInitials\");\n                },\n                markReviewed: function() {\n                    var ret = this._mark(REVIEWED, \"dateReviewed\", \"reviewedByName\",\"reviewedByInitials\");\n                },\n                markExternalReviewed: function() {\n                    var ret = this._mark(EXTERNAL_REVIEWED, \"dateExternalReviewed\", \"externalReviewedByName\", \"externalReviewedByInitials\");\n                },\n                _editMetadata: function (note, ocr, curate) {\n                    /**\n                     * for OCR, note, and curation, there is no \"mark\" so we send the metadata directly\n                     */\n                    var id = this.file.id;\n                    var _file= this.file;\n                    var _app = this;\n                    var ret = {};\n                    console.log(\"_editMetaadata\", note,ocr,curate);\n                    $.post(\"/api/file/editMetadata\", {\"id\": id,\"note\":note, \"needOcr\":ocr, \"curate\":curate}).done(function(file){\n                        ret = file;\n                        Vue.set(_app.file,\"initialNote\",file.note);\n                        Vue.set(_app.file,\"curation\",file.curation);\n                        Vue.set(_app.file,\"requiresOcr\",file.requiresOcr);\n                        Vue.set(_file,\"initialNote\",file.note);\n                    });\n\n                },\n                wontCurate: function() {\n                    this._editMetadata(this.file.note, this.file.needsOcr, WONT_CURATE);\n                },\n                updateNote: function() {\n                    this._editMetadata(this.file.note, this.file.needsOcr, this.file.curation);\n                },\n                showComments: function() {\n                    // load the comments and show the comment modal\n                    this.$emit('showcomments',this.file);\n\n                },\n                deleteFile: function(force){\n                    // delete the file\n                    if (force == true) {\n                        this.$emit('deletefile', this.file);\n                        return true;\n                    }\n                    if (confirm(\"Are you sure you want to delete: \"+this.file.name+\"?\")) {\n                        console.log('delete');\n                        this.$emit('deletefile', this.file);\n                    } \n\n                },\n                _partNames: function() {\n                    var ret = \"\";\n                    if (this.file.parts == undefined || this.file.parts.length == 0) {\n                        return \"\";\n                    }\n                    ret = this.file.name;\n                    for (var i =0; i < this.file.parts.length; i++) {\n                        ret = ret + \"; \" + this.file.parts[i].name;\n                    }\n                    return ret;\n                },\n                _noteChanged: function() {\n                    // watch the note property and show a \"save\" button when there are differenes\n                    var _note = this.file.note;\n                    var note = this.file.initialNote;\n//                    console.log(this.file.id, _note, note);\n                    if ((_note == undefined || _note == '') && (note == undefined || note == '')) {\n                        return false;\n                    }\n                  if (note == _note) {\n                      return false;\n                  }\n                  return true;\n                },\n                _canInitialReview: function () {\n                    // if initial hasn't reviewed\n                    if (this.file.dateInitialReviewed != undefined) {\n                        return false;\n                    }\n\n                    console.trace(\"canInitialReview:\", this.initialReviewed, this.file.dateCurated);\n                    // and it's been curated and the account supports  review...\n                    if (this.initialReviewed && this.file.dateCurated != undefined) {\n                        return true;\n                    }\n                    return false;\n                },\n                _canCurate: function () {\n                    // if it hasn't been curated and we have a resource id, then yes\n                    if (this.file.dateCurated != undefined) {\n//                        console.trace(\"canCurate:: dateCurated defined\");\n                        return false;\n                    }\n\n                    if (this.file.curation == WONT_CURATE) {\n//                        console.trace(\"canCurate:: curation == WONT_CURATE\");\n                        return false;\n                    } \n                    if (this.file.resourceId == undefined) {\n//                        console.trace(\"canCurate:: dateCurated defined\");\n                        return false;\n                    }\n                    \n                    return true;\n                },\n                _cannotCurate: function() {\n                    // if we're a dir, curated is false (not undefined)  \n                    if (this.file.size == 0 || this.file.size == undefined) {\n                        return true;\n                    }\n                    \n                    if (this.file.curation == WONT_CURATE) {\n                        return true;\n                    }\n\n                    if (this.file.dateCurated == undefined ) {\n                        return false;\n                    }\n                    return true;\n                },\n                _canReview: function () {\n                    // either (a) done  review, or curated\n                    if (this.file.dateReviewed != undefined) {\n//                        console.trace(\"canReview:: dateReviewed set\");\n                        return false;\n                    }\n//                    console.trace(\"canReview:: \" , this.initialReviewed, this.file.dateInitialReviewed , this.file.dateCurated );\n                    if (this.initialReviewed && this.file.dateInitialReviewed != undefined || \n                            this.initialReviewed != true && this.file.dateCurated != undefined) {\n                        return true;\n                    }\n                    return false;\n                },\n                _canExternalReview: function () {\n                    // if externally reviewed and has gone through normal review\n                    if (this.file.dateExternalReviewed != undefined) {\n                        return false;\n                    }\n                    if (this.externalReviewed && this.file.dateReviewed != undefined) {\n                        return true;\n                    }\n                    return false;\n                }\n            },\n            computed: {\n                partNames: function() {\n                    return this._partNames();\n                },\n                noteChanged: function() {\n                    return this._noteChanged();\n                },\n                curationStatus: function() {\n                    var cls = \"odd \";\n                    if (this.index % 2 == 0) {\n                       cls = \"even \";\n                    }\n                    if (this.file.curation == WONT_CURATE) {\n                        cls = cls + \" strikethrough\";\n                    }\n                    return cls;\n                },\n                fileLink : function() {\n                    // compute the link to create a record from the file\n                    return \"/resource/createRecordFromFiles?fileIds=\" + this.file.id; \n                },\n                downloadUrl : function() {\n                    // downlaod URL for a file\n                    return \"/file/download/\" + this.file.id; \n                },\n                rowId : function() {\n                    return \"files-row-\" + this.index;\n                },\n                canInitialReview: function () {\n                    return this._canInitialReview();\n                },\n                canCurate: function () {\n                    return this._canCurate();\n                },\n                cannotCurate: function() {\n                    return this._cannotCurate();\n                },\n                canReview: function () {\n                    return this._canReview();\n                },\n                canExternalReview: function () {\n                    return this._canExternalReview();\n                }\n                \n            }\n        });\n\n        /** config for widget\n         * \n         */\n        var config = {\n                fullService : true,\n                initialReviewed : false,\n                externalReviewed : true,\n                validFormats: JSON.parse($(\"#validFormats\").text()),\n                accounts: JSON.parse($(\"#accountJson\").text())\n        };\n\n        \n        /**\n         * the main app\n         */\n        var app = Vue.component(\"balk\",{\n            template : '#balk-template',\n            data : function() {\n                return {\n                validFormats : config.validFormats,\n                ableToUpload : true,\n                parentId: undefined,\n                parent: undefined,\n                initialReviewed: false,\n                externalReviewed: false,\n                daysFilesExpireAfter: 60,\n                fullService: false,\n                selectedAccount: undefined,\n                accounts: config.accounts,\n                accountId: undefined,\n                moveAccountId: undefined,\n                files : [],\n                errors: [],\n                warnings: [],\n                comment: \"\",\n                comments: [],\n                dirTree: [],\n                selectedFiles: [],\n                dirStack: [],\n                search: \"\",\n                rename: '',\n                dirName:\"\",\n                commentFile: undefined,\n                renameVisible: false,\n                reportsVisible: false,\n                balkVisible: true,\n                collection: {},\n                path : \"\" }\n            },\n            computed : {\n                inputDisabled : function() {\n                    return !this.ableToUpload;\n                },\n                renameEnabled: function() {\n                    console.log('dirName:' , this.dirName, this.dirStack);\n                    if (this.dirStack.length == 0 || this.dirStack[this.dirStack.length - 1].name == 'unfiled') {\n                        return false;\n                    }\n                    return true;\n                },\n                dirActionsEnabledClass: function() {\n                   if (this.renameEnabled) {\n                       return \"\";\n                   }\n                   return \"disabled\";\n                },\n                dirActionsEnabledLinkClass: function() {\n                    var ret = this.dirActionsEnabledClass;\n                    var dir = this.dirStack[this.dirStack.length -1];\n                    if (ret == '' && dir.collection == undefined) {\n                        return \"\";\n                    }\n                    return \"disabled\";\n                },\n                dirActionsEnabledUnlinkClass: function() {\n                    var ret = this.dirActionsEnabledClass;\n                    var dir = this.dirStack[this.dirStack.length -1];\n                    if (ret == '' && dir.collection != undefined) {\n                        return \"\";\n                    }\n                    return \"disabled\";\n                },\n                \n                upOne: function() {\n                  if (this.dirStack.length < 2) {\n                      return undefined;\n                  }\n                  return this.dirStack[this.dirStack.length -2];\n                },\n                cannotMoveSelected: function() {\n                    return this._cannotSelect();\n                },\n                selectedFileNames: function() {\n                    return this._selectedFileNames();\n                },\n                cannotCreateRecordfromSelected: function() {\n                    return  this._cannotCreateRecordFromSelected();\n                }\n\n            },\n            watch: {\n                search: function(after, before) {\n                   // when the search variable changes, then send the search to the server \n                    console.log(before, after);\n                    if (after == undefined || after == \"\") {\n                        this.loadFiles(this.parentId, this.path);\n                    } else {\n                        this.searchFiles(after);\n                    }\n                },\n                accountId: function(after,before) {\n                    // watch the account id and change account\n                    this.switchAccount(after);\n                },\n                moveAccountId: function(after,before) {\n                    this.moveSelectedFilesToAccount(after);\n                },\n                '$route': function(to, from) {\n                        this._routeAccounts(to, from);\n                }\n            },\n            methods : {\n                sortBy: function(sort) {\n                    if (this.search != undefined && this.search != '') {\n                        this.searchFiles(this.search, sort);\n                    } \n                    this.loadFiles(this.parentId, this.path, sort);\n                },\n                showRename: function() {\n                    Vue.set(this,\"renameVisible\", true);\n                },\n                renameDir: function() {\n                    var pid = this.parentId;\n                    var name = this.rename;\n                    if (name == undefined || name.trim() == '') {\n                        this.cancelRename();\n                        return;\n                    }\n                    var _app = this;\n                    $.post(\"/api/file/renameDir\", {\"id\": pid,\"name\":name, \"accountId\": this.accountId}).done(function(_file){\n                        _app.dirStack.forEach(function(dir){\n                            if (pid == dir.id) {\n                                dir.name = name;\n                                Vue.set(dir, \"name\", name);\n                                Vue.set(dir, \"filename\", name);\n                            }\n                        });\n                    });\n                    this.cancelRename();\n                },\n                selectCollection: function(result){\n                    Vue.set(this,\"collection\", result);\n                },\n                cancelRename: function() {\n                    Vue.set(this,\"renameVisible\", false);\n                    Vue.set(this,\"rename\",'');\n                },\n                _routeAccounts: function(to, from) {\n                    console.log(\">>> changed route to: \", to);\n//                  console.log(to.params.accountId , this.accountId);\n                  var _path = this.fullPath().substring(1);\n                  if (to.params.accountId != this.accountId) {\n                      Vue.set(this,\"accountId\", to.params.accountId);\n                      this.switchAccount(to.params.accountId);\n                      _path = undefined;\n                  }\n                  \n//                  console.log(_path, to.params.dir, _path == to.params.dir);\n                  if (to.params.dir != _path) {\n                      var _app = this;\n                      var dirName = to.params.dir;\n                      if (dirName != undefined && dirName.lastIndexOf(\"/\") != -1) {\n                          dirName = dirName.substring(dirName.lastIndexOf(\"/\") +1)\n                      }\n                      $.get(\"/api/file/listDirs\", {accountId: _app.accountId}).done(function(dirs) {\n                           // create parent map\n                          var match = undefined;\n                          var dirMap = {};\n                           dirs.forEach(function(dir) {\n                               dirMap[dir.id] = dir;\n                               if (dir.name == dirName) {\n                                   match = dir;\n                               } \n                           });\n                           var stack = [];\n                           // get all parent directories and rebuild dirStack\n                           if (match != undefined) {\n                               var d = match;\n                               while (d.parentRef != undefined) {\n                                   var p = dirMap[d.parentRef.replace(\"TdarDir:\",\"\")];\n                                   stack.unshift(p);\n                                   d = p;\n                               }\n                               }\n                           Vue.set(_app,\"dirStack\", stack);\n                           console.log(\"redirecting to : \", match, stack);\n                           _app.cd(match, false);\n                           return;\n                      });\n                   }\n                },\n                unCurate: function() {\n                    var file = this.commentFile;\n                    $.post(\"/api/file/editMetadata\", {\"id\": file.id,\"note\":file.note, \"needOcr\":file.requiresOcr, \"curate\":\"CHOOSE\"}).done(function(_file){\n                        Vue.set(file,\"curation\",_file.curation);\n//                        Vue.set(file,\"curation\",file.curation);\n                    });\n                },\n                unMarkComment: function(comment) {\n                    this.unmark(comment.undoAction, comment.name, comment.initial, comment.date, this.commentFile);\n                },\n                \n                _cannotCreateRecordFromSelected: function() {\n                    if (this._cannotSelect()) {\n                        return true;\n                    }\n                    var ext = \"\";\n                    this.selectedFiles.forEach(function(file){\n                        var _ext = \"BAD\";\n                        \n                        if (file.resourceId != undefined) {\n                            ext = \"BAD\";\n//                            console.trace(\"file has tDAR ID\", file.resourceId);\n                            return;\n                        }\n                        \n                        if (file != undefined && file.extension != undefined) {\n                            _ext = file.extension.toLowerCase();\n                        }\n                        if (_ext == undefined || _ext == '') {\n                            ext = \"BAD\";\n//                            console.trace(\"file has bad extension\", file);\n                            return;\n                        }\n                        console.log(\"ext:\", _ext, ext);\n                        if (ext == '' || ext == _ext) {\n                            ext = _ext;\n                        } else {\n                            ext = \"BAD\";\n                        }\n                    });\n                    if (ext == \"BAD\") {\n//                        console.trace(\"cannot create\");\n                        return true;\n                    }\n                    return false;\n                },\n                _selectedFileNames: function() {\n                    var ret = \"\";\n                    if (this.selectedFiles == undefined || this.selectedFiles.length == 0) {\n                        return \"\";\n                    }\n                    \n                    for (var i =0; i < this.selectedFiles.length; i++) {\n                        if (i > 0) {\n                            ret = ret + \"; \";\n                        }\n                        ret = ret + this.selectedFiles[i].name;\n                    }\n\n                    return ret;\n                },\n                fullPath: function() {\n                    var ret = \"\";\n                    this.dirStack.forEach(function(d){\n                        if (d != undefined) {\n                            ret = ret + \"/\" + d.name; \n                        }\n                    });\n                    return ret;\n                },\n                currentDir: function() {\n                    if (this.dirStack.length > 0) {\n                        return this.dirStack[this.dirStack.length -1];\n                    }\n                    return undefined;\n                },\n                _cannotSelect: function() {\n                    if (this.selectedFiles == undefined || this.selectedFiles.length == 0 || this.selectedFiles.length > MAX_SELECTED_FILES) {\n                        return true;\n                    }\n                    return false;\n                },\n                switchAccount: function(accountId) {\n                    console.log(\"switching account to\", accountId);\n                    router.push({ path: '/' + accountId })\n                    // reset the dir tree, and other state variables\n                    Vue.set(this,\"commentFile\",undefined);\n                    Vue.set(this,\"dirTree\",[]);\n                    Vue.set(this,\"moveAccountId\",undefined);\n                    Vue.set(this,\"dirStack\",[]);\n                    Vue.set(this,\"selectedFiles\",[]);\n                    this.loadFiles(undefined,undefined);\n                    var _app = this;\n\n                    // load state for accounts from properties  \n                    this.accounts.forEach(function(account){\n                        if (account.id == accountId) {\n                            Vue.set(_app,\"fullService\",account.fullService);\n                            Vue.set(_app,\"daysFilesExpireAfter\",account.daysFilesExpireAfter);\n                            Vue.set(_app,\"initialReviewed\",account.initialReviewed);\n                            Vue.set(_app,\"externalReviewed\",account.externalReviewed);\n                            Vue.set(_app,\"selectedAccount\", account);\n                        }\n                    });\n                 },\n                 parentDir: function() {\n                     if (this.dirStack.length > 1) {\n                         return this.dirStack[this.dirStack.length -2];\n                     }\n                     return undefined;\n                 },\n                loadFiles: function (parentId, path, sortBy) {\n                    // load all of the files for the dir and account\n                    router.push({ path: '/' + this.accountId  + this.fullPath()})\n                    var _app = this;\n                    $.get(\"/api/file/list\", {\"parentId\": parentId, \"accountId\":_app.accountId, \"sortBy\": sortBy}, {\n                        dataType:'jsonp'\n                    }).done(function(msg){\n                        console.log('LIST FILES:',JSON.stringify(msg));\n                        Vue.set(_app,\"files\", msg);\n                    });\n                    Vue.set(this, \"parentId\", parentId);\n                    Vue.set(this, \"path\", path);\n                },\n                searchFiles: function (search, sortBy) {\n                    // send a search\n                    var _app = this;\n                    console.log(search);\n                    $.get(\"/api/file/list\", {\"term\":search, \"accountId\":_app.accountId, \"sortBy\": sortBy}, {\n                        dataType:'jsonp'\n                    }).done(function(msg){\n                        console.log('SEARCH FILES:',JSON.stringify(msg));\n                        Vue.set(_app,\"files\", msg);\n                    });\n                },\n                unmark: function(role, name , initial, date,  file) {\n                    // undo the mark action (curated, reviewed, etc.)\n                    var id = file.id;\n                    var _file= file;\n                    var ret = {};\n                    $.post(\"/api/file/unmark\", {\"ids[0]\": id,\"role\":role}).done(function(files){\n                        ret = files[0];\n                        console.log(ret);\n                        Vue.set(_file, date, undefined);\n                        Vue.set(_file, name, undefined);\n                        Vue.set(_file, initial, undefined);\n                    });\n                    return ret;\n                },\n                toggleSelect: function(data) {\n                    var file = data;\n                    var id = file.id;\n                    var seen = false;\n                    var indexToRemove = -1;\n                    for (var i =0; i < this.selectedFiles.length; i++) {\n                        if (id == this.selectedFiles[i].id) {\n                            seen = true;\n                            indexToRemove = i;\n                        }\n                    }\n                    if (seen == false)  {\n                        this.selectedFiles.push(file);\n                        file.selected = true;\n                    } else { // remove\n                        if (indexToRemove > -1) {\n                            var ret = this.selectedFiles.splice(indexToRemove,1);\n                            ret.selected = false;\n                        }\n                    }\n                },\n                showComments: function(file) {\n                    // show the comments modal, and load it with some \"fabricated\" comments that are actually \"mark\" actions\n                    var _app = this;\n                    Vue.set(_app,\"commentFile\",file);\n                    console.log(this.commentFile);\n                    $.get('/api/file/comment/list', {\"id\": file.id}, {\n                        dataType:'jsonp'\n                    }).done(function(msg){\n                        msg.push({comment:'uploaded', dateCreated: file.dateCreated, commentorName: file.uploaderName, commentorInitials: file.uploaderInitials, type:'internal'});\n                        if (file.dateCurated != undefined) {\n                            msg.push({comment:'curated', undoAction:CURATED, initial: 'curatedByInitials', date:'dateCurated', name:'curatedBy', dateCreated: file.dateCurated, commentorName: file.curatedByName, commentorInitials: file.curatedByInitials, type:'internal'});\n                        }\n                        if (file.dateReviewed != undefined) {\n                            msg.push({comment:'reviewed',undoAction:REVIEWED, initial: 'reviewedByInitials', date:'dateReviewed', name:'reviewedBy', dateCreated: file.dateReviewed, commentorName: file.reviewedByName, commentorInitials: file.reviewedByInitials, type:'internal'});\n                        }\n                        if (file.dateInitialReviewed != undefined) {\n                            msg.push({comment:'initiial reviewed', undoAction:INITIAL_REVIEWED, initial: 'initialReviewedByInitials', date:'dateInitialReviewed', name:'initialReviewedBy', dateCreated: file.dateInitialReviewed, commentorName: file.initialReviewedByName, commentorInitials: file.initialReviewedByInitials, type:'internal'});\n                        }\n                        if (file.dateExternalReviewed != undefined) {\n                            msg.push({comment:'external reviewed', undoAction:EXTERNAL_REVIEWED,initial: 'externalReviewedByInitials', date:'dateExternalReviewed', name:'externalReviewedBy', dateCreated: file.dateExternalReviewed , commentorName: file.externalReviewedByName, commentorInitials: file.externalReviewedByInitials, type:'internal'});\n                        }\n\n                        if (file.curation == WONT_CURATE) {\n                            msg.push({comment:'declined curation', undoAction:UNDO_WONT_CURATE, type:'internal'});\n                        }\n\n                        if (file.resourceId != undefined) {\n                            msg.push({comment:'tDAR Resource Created id:' + file.resourceId, dateCreated: file.dateResourceCreated , commentorName: file.resourceCreatedByName, commentorInitials: file.resourceCreatedByInitials, type:'internal'});\n                        }\n\n                        // sort by date ascending\n                        msg.sort(function(a,b){\n                            // Turn your strings into dates, and then subtract them\n                            // to get a value that is either negative, positive, or zero.\n                            return new Date(a.dateCreated) - new Date(b.dateCreated);\n                          });\n                        Vue.set(_app,\"comments\", msg);\n                        $(\"#comments-template-modal\").modal('show');\n                    });\n                    \n                },\n                showReports: function() {\n                    Vue.set(this,\"balkVisible\", false);\n                    Vue.set(this,\"reportsVisible\", true);\n                },\n                hideReports: function() {\n                    Vue.set(this,\"balkVisible\", true);\n                    Vue.set(this,\"reportsVisible\", false);\n                },\n                addComment: function() {\n                    // add a comment to a file\n                    console.log('add comment', this.comment);\n                    var _app = this;\n                    if (this.comment == undefined || this.comment == '') {\n                        return;\n                    }\n                    $.post(\"/api/file/comment/add\", {\"id\": this.commentFile.id,\"comment\": this.comment}, {\n                        dataType:'jsonp'\n                    }).done(function(msg){\n                        _app.comments.push(msg);\n                        Vue.set(_app,\"comment\",\"\");\n                    });\n                },\n                deleteFile: function(file) {\n                    // delete a file (not including UI, so we assume the user has been asked)\n                    console.log('delete file!');\n                    var id = file.id;\n                    var _file= file;\n                    var _app = this;\n                    $.post(\"/api/file/delete\", {\"id\": id}).done(function(file){\n                        console.log(file);\n                        var index = $.inArray(_file, _app.files);\n                        if (index != -1) {\n                            _app.files.splice(index, 1);\n                        }\n                    });\n\n                },\n                mkdir: function() {\n                    // create a directory\n                  var dir = this.dir;\n                  var _app = this;\n                  var dirName = this.dirName;\n                  if (dirName == undefined || dirName == '') {\n                      return;\n                  }\n                  \n                  $.post(\"/api/file/mkdir\", {\"parentId\": _app.parentId, \"name\": dirName, accountId: _app.accountId}\n                    ).done(function(msg) {\n                        _app.files.push(msg);\n                        Vue.set(_app,'dirName','');\n                    });\n                },\n                moveUI: function() {\n                    // show the move UI\n                    var _app = this;\n                  var dirs = this.listDirs(function(){\n                      console.log(_app.dirTree);\n                      $(\"#move-template-modal\").modal('show');\n                  });\n                },\n                linkCollection: function() {\n                    var data = {\n                            id: this.currentDir().id,\n                            collectionId: this.collection.id\n                    }\n                    $.post(\"/api/file/linkCollection\", data\n                    ).done(function(msg) {\n                        console.log(msg);\n                    });\n                },\n                updateLinkedCollection: function() {\n                    var data = {\n                            id: this.currentDir().id\n                    }\n                    $.post(\"/api/file/updateDirCollection\", data\n                    ).done(function(msg) {\n                        console.log(msg);\n                    });\n                },\n                unlinkCollection: function() {\n                    var data = {\n                            id: this.currentDir().id\n                    }\n                    $.post(\"/api/file/unlinkDirCollection\", data\n                    ).done(function(msg) {\n                        console.log(msg);\n                    });\n                },\n                collectionUI: function() {\n                    // show the move UI\n                    var _app = this;\n                    $(\"#collection-modal\").modal('show');\n                },\n                createRecordFromSelected: function() {\n                    window.location.href = this._createRecordFromSelected();\n                },\n                _createRecordFromSelected: function() {\n                    return this.createRecordFromFiles(this.selectedFiles);\n                },\n                createRecordFromFiles: function(files) {\n                    //var data = this._expandIds({},files);\n                    var url = \"/resource/createRecordFromFiles?\";\n                    files.forEach(function(file){\n                        url = url +  \"&fileIds=\" + file.id; \n                    });\n                    console.log(files, url);\n                    return url;\n                },\n\n                moveSelectedFilesTo: function(dir) {\n                    // called by UI \n                    this.moveFiles(this.selectedFiles, dir);\n                },\n                moveFiles: function(files, dir) {\n                    // move selected files to directory\n                    var _app = this;\n                    var data = this._expandIds({\"toId\": dir.id},files);\n                    $.post(\"/api/file/move\", data\n                      ).done(function(msg) {\n                          _app.cancelMove();\n                          _app.loadFiles(_app.parentId, _app.path);\n                      });\n\n                },\n                _expandIds: function(data, files) {\n                  for (var i=0; i < files.length; i++) {\n                      data['ids['+i+']'] = files[i].id;\n                  }\n                  return data;\n                },\n                moveSelectedFilesToAccount: function(accountId) {\n                    // called by UI \n                    this.moveFilesToAccount(this.selectedFiles, accountId);\n                },\n                moveFilesToAccount: function(files, accountId) {\n                    // move selected files to directory\n                    var _app = this;\n                    var data = this._expandIds({\"toAccountId\": accountId},files);\n                    $.post(\"/api/file/moveToAccount\", data\n                      ).done(function(msg) {\n                          _app.cancelMove();\n                          _app.loadFiles(_app.parentId, _app.path);\n                      });\n\n                },\n                cancelMove: function() {\n                    // close modal\n                    $(\"#move-template-modal\").modal('hide');\n                    Vue.set(this, \"dirTree\", []);\n                    this.selectedFiles.forEach(function(file) {\n                        if (file != undefined && file.selected != undefined) {\n                            file.selected = false;\n                        }\n                    });\n                    Vue.set(this, \"selectedFiles\", []);\n                },\n                listDirs: function(callback) {\n                    // list all directories for an account (used by move UI)\n                    var _app = this;\n                   $.get(\"/api/file/listDirs\", {accountId: _app.accountId}).done(function(dirs) {\n                        var rootDirs = [];\n                        var dirMap = {};\n                        // create parent map\n                        dirs.forEach(function(dir) {\n                            dirMap[dir.id] = dir; \n                        });\n                        dirs.forEach(function(dir) {\n                            if (dir.parentRef != undefined) {\n                                var parent = dirMap[dir.parentRef.replace(\"TdarDir:\",\"\")];\n                                if (parent.children == undefined) {\n                                    parent.children = [];\n                                }\n                                parent.children.push(dir);\n                            } else {\n                                rootDirs.push(dir);\n                            }\n                         });\n                        Vue.set(_app, \"dirTree\", rootDirs);\n                        console.log(_app.dirTree);\n                        callback(rootDirs);\n                        return rootDirs;\n                    });\n                },\n                cd : function(file) {\n                    // move into a directory\n                    console.log(\"cd to: \" + JSON.stringify(file));\n                    var id = undefined;\n                    var displayName = \"\";\n                    if (file != undefined) {\n                        id = file.id;\n                        displayName = file.displayName;\n                    }\n\n                    // handle traversal up the dir hierarchy\n                    var upIndex = -1;\n                    var parent = undefined;\n                    for (var i = 0; i < this.dirStack.length; i++) {\n                        if (this.dirStack[i].id == id) {\n                            upIndex = i;\n                            parent = this.dirStack[i];\n                        }\n                    }\n\n                    //manage the dirStack\n                    if (parent != undefined) {\n                        // if we have a parent in the stack, strip up to it\n                        this.dirStack.splice(upIndex + 1, 100);\n                    } else if (file == undefined) {\n                        // if we have no parent, clear the stack\n                        this.dirStack.splice(0,100);\n                    } else if (file != undefined) {\n                        // otherwise step inward\n                        this.dirStack.push(file);\n                    }\n\n                    this.loadFiles(id, displayName);\n                },\n                validateAdd : function(file, replace) {\n                    // validate a file that's been added\n                    console.log(this.validFormats);\n                        return vuejsupload.validateAdd(file, this.files, replace, this.validFormats, 0 , 100000 , false ,this )\n                },\n                updateFileProgress : function(e, data) {\n                    // update the progress of uploading a file\n                    var _app = this;\n                    if (data.files != undefined) {\n                        var active = vuejsupload._matching(data.files, _app.files, \"name\");\n                        active.forEach(function(pair) {\n                            var file = pair[0];\n                            var fileContainer = pair[1];\n                            fileContainer.progress = parseInt(data.loaded / data.total * 100, 10);\n                            _app.$forceUpdate();\n                        });\n                    }\n                },\n                addError : function(error) {\n                    this.errors.push(error);\n                },\n                addWarning : function(error) {\n                    this.warnings.push(error);\n                },\n                append: function(a, b) {\n                  return a + \"\" + b;  \n                },\n                fileUploadSubmit : function(e, data) {\n                },\n                fileUploadAdd : function(e, data) {\n                    console.log('fileUploadAdd:', e, data);\n                    this._disable();\n                    var $upload = $('#fileupload');\n                    return vuejsupload.fileUploadAdd($upload, data, this);\n                },\n                _enable: function() {\n                    Vue.set(this,\"uploadDisabled\", false);\n                    $(\".submitButton, #fileAsyncUpload\").prop(\"disabled\", false);\n                    $(\".fileinput-button\").removeClass(\"disabled\");\n                },\n                _disable: function() {\n                    Vue.set(this,\"uploadDisabled\", true);\n                    $(\".submitButton, #fileAsyncUpload\").prop(\"disabled\", true);\n                    $(\".fileinput-button\").addClass(\"disabled\");\n                },\n                fileUploadAddDone : function(e, data) {\n                    // complete the add action\n                    var _app = this;\n                    this._enable();\n                    return vuejsupload.fileUploadAddDone(data,_app.files, _app);\n                },\n                addFile: function(file) {\n                    this.files.push(file);\n                }\n            },\n            mounted : function() {\n                // setup\n                this.accountId = this.accounts[0].id;\n                if (this.ableToUpload == undefined || this.ableToUpload == false) {\n                    console.log('file upload disabled');\n                    return;\n                }\n                this.loadFiles(undefined,\"/\");\n                var _app = this;\n                var up = $('#fileupload').fileupload({\n                    url : \"/api/file/upload\",\n                    dataType : 'json',\n                    paramName : \"uploadFile\",\n                    dropZone: \"#filesTool\",\n                    // required to ensure that we don't send two files separately and not use the same ticket\n                    singleFileUploads: false,\n                    formData : function(form) {\n                        // override formData\n                        var data = [];\n                        if (_app.ticketId == undefined || _app.ticketId == -1) {\n                            data.push({\n                                name : \"ticketRequested\",\n                                value : true\n                            });\n                        } else {\n                            data.push({\n                                name : \"ticketId\",\n                                value : _app.ticketId\n                            });\n                        }\n                        if (_app.parentId != undefined) {\n                            data.push({\n                                name : \"parentId\",\n                                value : _app.parentId\n                            });\n                        }\n                        data.push({\n                            name : \"accountId\",\n                            value : _app.accountId\n                        });\n                        return data;\n                    },\n                    progressall : function(e, data) {\n                        var progress = parseInt(data.loaded / data.total * 100, 10);\n                        vuejsupload.setProgress(progress);\n                    }\n                }).prop('disabled', !$.support.fileInput).parent().addClass($.support.fileInput ? undefined : 'disabled');\n                var _app = this;\n\n                up.bind('fileuploadadd', _app.fileUploadAdd).bind('fileuploaddone', _app.fileUploadAddDone).bind('fileuploadsubmit', _app.fileUploadSubmit)\n                        .bind('fileuploadprogress', _app.updateFileProgress);\n            }\n        });\n        \n        var app2 = Vue.component(\"reports\",{\n            template : '#reports-template',\n            props : [ 'account', 'accountId',\"showreports\"],\n            data : function() {\n                return {\n                    summary : undefined,\n                    recent : undefined,\n                    dateStart : undefined,\n                    accountName: undefined,\n                    dateEnd : undefined,\n                    userId : undefined,\n                    externalReview: false,\n                    initialReview: false\n                }\n            },\n            watch : {\n                accountId : function(after, before) {\n                    this.refresh();\n                    Vue.set(this, \"userId\", undefined);\n                },\n                account: function(after,before) {\n                  Vue.set(this,\"accountName\",this.account.name);  \n                  Vue.set(this,\"externalReview\",this.account.externalReview);  \n                  Vue.set(this,\"initialReview\",this.account.initialReview);  \n                },\n                dateStart : function(after, before) {\n                    this.loadRecentData();\n                },\n                dateEnd : function(after, before) {\n                    this.loadRecentData();\n                },\n                userId : function(after, before) {\n                    this.loadRecentData();\n                }\n            },\n            methods : {\n                refresh: function() {\n                    this.loadData();\n                    this.loadRecentData();\n                },\n                hideReports: function() {\n                    this.$emit(\"showBalk\");\n                },\n                loadData : function() {\n                    if (this.accountId == undefined) {\n                        return;\n                    }\n                    var _app = this;\n                    $.get(\"/api/file/reports/summary\", {\n                        accountId : this.accountId\n                    }).done(function(sum) {\n                        Vue.set(_app, \"summary\", sum);\n                    });\n                },\n                loadRecentData : function() {\n                    if (this.accountId == undefined) {\n                        return;\n                    }\n                    var _app = this;\n                    $.get(\"/api/file/reports/recentFiles\", {\n                        accountId : this.accountId,\n                        dateStart : this.dateStart,\n                        dateEnd : this.dateEnd,\n                        userId : this.userId\n                    }).done(function(sum) {\n                        Vue.set(_app, \"recent\", sum);\n                    });\n                }\n            },\n            mounted : function() {\n                var date = new Date();\n                date.setDate(date.getDate() - 7);\n                Vue.set(this, \"dateStart\", _formatDateFullYear(date));\n                date = new Date();\n                Vue.set(this, \"dateEnd\", _formatDateFullYear (date));\n                var _app = this;\n                $('#reports a[data-toggle=\"tab\"]').on('shown', function(e) {\n                    var $picker = $(\".placeholdered\").datepicker({\n                        autoclose : true,\n                        format : \"mm/dd/yyyy\"\n                    }).on('changeDate', function(ev) {\n                        var $target = $(ev.target);\n                        Vue.set(_app, $target.attr('id'), $target.val());\n                        $target.datepicker('hide');\n                    });\n                    $picker.removeClass(\"placeholderd\");\n                });\n            }\n        });\n\n        \n        var router = new VueRouter({\n            routes: [\n                { path: '/:accountId(\\\\d+)/:dir*', component: app }\n              ]\n        });\n\n        var pp = new Vue({\n            router:router\n          }).$mount(appId);\n\n        _app = app;\n        _pp = pp;\n        // we return everything for testing\n        return {\n            'router' : router,\n            'app' : pp,\n            'balk' : _app,\n            'reports': app2,\n            'files' : _files,\n            'pentry': _pentry,\n            'dir'   : _dir,\n            'comments': _comments\n        };\n    };\n    \n    module.exports = {\n        init : _init,\n        formatDate : _formatDate,\n        formatLongDate : _formatLongDate, \n        main : function() {\n            var appId = \"#filesTool\";\n            if ($(appId).length == 1) {\n                _init(appId);\n            }\n        }\n    }\n\n//TDAR.vuejs.balk = (function(console, $, ctx, Vue) {\n//        \"use strict\";\n//})(console, jQuery, window, Vue);\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/vue/vue-balk-upload-component.js?");

/***/ }),

/***/ "./src/main/webapp/js/vue/vue-base-upload.js":
/*!***************************************************!*\
  !*** ./src/main/webapp/js/vue/vue-base-upload.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {const Vue = __webpack_require__(/*! vue/dist/vue.esm.js */ \"./node_modules/vue/dist/vue.esm.js\").default;\n\n    var __normalize = function(filename) {\n        var basename = filename.replace(/[^\\w\\-\\.\\+\\_]/g, \"-\");\n        basename = basename.replace( \"-.\", \".\");\n        return basename;\n    }\n    \n    var __matching = function(arr1, arr2, name) {\n        var ret = new Array();\n        arr1.forEach(function(p1) {\n            arr2.forEach(function(p2) {\n                // console.log(p1[name], p2[name]);\n                if (p1[name] == p2[name]) {\n                    ret.push([ p1, p2 ]);\n                }\n            });\n        });\n        return ret;\n    }\n\n    var _setProgress = function(progress) {\n        $('#progress .progress-bar').css('width', progress + '%');\n        if (progress == 100) {\n            $(\"#uploadstatus\").html(\"Complete\");\n        } else if (progress < 1) {\n            $(\"#uploadstatus\").html(\"\");\n        } else {\n            $(\"#uploadstatus\").html(\"Uploading... (\" + progress + \"%)\" );\n            console.log(\"Uploading... (\" + progress + \"%)\" );\n        }\n\n    }\n\n    var _fileUploadAddDone = function(data, files, _app) {\n        var active = __matching(data.result.files, files, \"name\");\n        if (!data.result.ticket) {\n            return;\n        }\n        if (!data.result.ticket.id) {\n            console.log(\"no ticket in results\");\n        } else {\n            var ticket = data.result.ticket;\n            console.log(\"ticket received:\", JSON.stringify(ticket));\n            Vue.set(_app, \"ticketId\", data.result.ticket.id);\n            $(\"#ticketId\").val(data.result.ticket.id);\n        }\n\n        active.forEach(function(pair) {\n            var file = pair[0];\n            var fileContainer = pair[1];\n            if (file.error == undefined) {\n                fileContainer.status = data.textStatus;\n            } else {\n                fileContainer.status = 'error';\n            }\n            //console.log(\"file<-->container\",file,fileContainer);\n            Vue.set(fileContainer, \"dateCreated\", file.dateCreated);\n            Vue.set(fileContainer, \"size\", file.size);\n            Vue.set(fileContainer, \"id\", file.id );\n            Vue.set(fileContainer, \"tdarFileId\", file.id );\n            Vue.set(fileContainer , \"createdByName\" , file.createdByName);\n            Vue.set(fileContainer, \"uploaderInitials\", file.uploaderInitials);\n            Vue.set(fileContainer, \"uploaderName\", file.uploaderName);\n            Vue.set(fileContainer, \"xhr\" , undefined);\n            Vue.set(fileContainer, \"error\" ,file.error);\n            Vue.set(fileContainer, \"extension\" , file.extension);\n        });\n        console.log(\"status-->\",data.status, data.textStatus);\n    }\n    \n    var _validatePackage = function(files, requiredOptionalPairs, messageListener) {\n        if (requiredOptionalPairs == undefined || requiredOptionalPairs.length == 0 || files == undefined || files.length ==0) {\n            return true;\n        }\n        console.log(\"computing overall validity\");\n        var exts = new Array();\n        var pairs = new Array();\n        // convert to a set\n        files.forEach(function(file) {\n            if (file.action != 'DELETE') {\n                var ext = file.name.substring(file.name.indexOf(\".\") ).toLowerCase();\n                exts.push(ext);\n                var seen = false;\n                requiredOptionalPairs.forEach(function(pair) {\n                    console.log(seen, ext, pair.required, pair.optional);\n                    if (!seen && ($.inArray(ext, pair.required) > -1 || $.inArray(ext, pair.optional) > -1)) {\n                        pairs.push(pair);\n                        seen = true;\n                    }\n                });\n            }\n        });\n        messageListener.clearPackageMessages();\n\n        if (pairs.length < 1) {\n            console.error(\"we have requirements, but these files are too confusing\");\n            messageListener.addPackageMessage(\"we have requirements, but these files are too confusing\");\n            return false;\n        }\n\n        console.log(\"exts:\", exts);\n        console.log(\"pairs:\", pairs);\n        var valid = false;\n        pairs.forEach(function(pair) {\n            if (!valid) {\n                var required = pair.required.slice(0);\n                var optional = pair.optional.slice(0);\n                // remove required\n                exts.forEach(function(ext) {\n                    console.log($.inArray(ext, required), required, ext);\n                    // if we're in \"required\" then remove it\n                    if ($.inArray(ext, required) > -1) {\n                        required.splice($.inArray(ext, required), 1);\n                    }\n                    \n                    // special cases for JPEG and TIFF\n                    if (ext == 'tiff' && $.inArray('tif', required) > -1) {\n                        required.splice($.inArray('tif', required), 1);\n                    }\n                    if (ext == 'jpeg' && $.inArray('jpeg', required) > -1) {\n                        required.splice($.inArray('jpeg', required), 1);\n                    }\n\n                    // if we're in \"optional\" then remove it\n                    if ($.inArray(ext, optional) > -1) {\n                        optional.splice($.inArray(ext, optional), 1);\n                    }\n                });\n                console.log(\"required:\", required);\n                console.log(\"optional:\", optional);\n                if (required.length > 0) {\n                    console.error(\"required format(s) remain\", required);\n                    messageListener.addPackageMessage(\"you must also upload files with the following extensions: \" + required)\n                } else {\n                    valid = true;\n                }\n            }\n        });\n        return valid;\n    }\n\n    var _validateAdd = function(file, files, replace, validFormats, currentNumberOfFiles, maxNumberOfFiles, sideCarOnly, errorListener) {\n        console.log(\"validating file:\", file);\n        // valdiate the file can be added to the resource/existing type\n        var validExt = undefined;\n        // for valid extensions check if we match\n        if (file.name == undefined && file.filename != undefined) {\n            file.name = file.filename; \n        }\n        // make sure that we're ok when data is coming from Vue via the file object vs. the FileProxy\n        var fileName = file.name;\n\n        validFormats.forEach(function(ext) {\n            if (fileName.toLowerCase().indexOf(ext, fileName.length- ext.length) !== -1) {\n                validExt = ext;\n            }\n        });\n        if (validExt == undefined) {\n            console.error(\"extension is not valid:\", file, validFormats);\n            errorListener.addWarning(\"file extension is not valid for file \" + file.name);\n            return false;\n        }\n\n        \n        var normalName = __normalize(fileName);\n        console.log(normalName);\n        var dupFound = false;\n        files.forEach(function(existing) {\n            console.trace(existing.name , normalName, normalName == __normalize(existing.name), existing.action);\n           if (normalName == __normalize(existing.name) && existing.action != 'DELETE') {\n               console.log(replace, normalName);\n               if (replace != undefined && replace == normalName) {\n                   // ignore\n               } else {\n                   console.log(\"duplicateFilename\");\n                   dupFound = true;\n               }\n           } \n        });\n        if (dupFound) {\n            errorListener.addWarning(\"file is a duplicate of \" + file.name);\n            return false;\n        }\n        // check number of files\n        console.log(\"maxFiles:\", maxNumberOfFiles, \"current:\", currentNumberOfFiles);\n        if (replace == undefined && currentNumberOfFiles >= maxNumberOfFiles) {\n            console.error(\"too many files\", maxNumberOfFiles);\n            errorListener.addWarning(\"you have exceeded the number of files you can add\");\n            return false;\n        }\n\n        // check if all files have to be connected (sidecar)\n        if (sideCarOnly) {\n            var base = fileName.substring(0, fileName.length - validExt.length);\n            console.log(\"files:\", files);\n            if (files.length > 0) {\n                var validSidecar = true;\n                files.forEach(function(f) {\n                    console.log(\"base:\", base, f.name, fileName);\n                    if (f.action != 'DELETE') {\n                        // if we don't have the same basename, or the file is a dup\n                        if (f.name.indexOf(base) != 0 || f.name == fileName) {\n                            validSidecar = false;\n                        }\n                    }\n                });\n                if (!validSidecar) {\n                    console.error(\"file is not valid sidecar\", base);\n                    errorListener.addWarning(\"this file cannot be added to this record: \" + file.name);\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    \n    var _fileUploadAdd = function($upload, data, _app, unfiled ) {\n        var validFiles = new Array();\n        var count = 0;\n        data.originalFiles.forEach(function(file) {\n            if (_app.validateAdd(file, undefined, count)) {\n                validFiles.push(file);\n                count++;\n            } else {\n                console.log(\"INVALID FILE: \", JSON.stringify(file));\n            }\n        });\n        // data.originalFiles = validFiles;\n        console.log(\"VALID FILES: \", JSON.stringify(validFiles));\n\n        var extra = {\n            uploadFile : validFiles\n        };\n        \n        var jqXHR = $upload.fileupload('send', extra);\n\n        validFiles.forEach(function(file) {\n            var name = file.name;\n\n            var f = {\n                test : true,\n                name : name,\n                size : file.size,\n                type : file.type,\n                lastModified : file.lastModified,\n                status : 'queued',\n                action : 'ADD',\n                restriction : 'PUBLIC',\n                xhr : jqXHR\n            };\n            if (file.dontCreate == undefined || file.dontCreate == false) {\n                _app.addFile(f);\n            }\n        });\n        if (validFiles.length > 0) {\n            return true;\n        }\n        _app._enable();\n        return false;\n    }\n\n    module.exports =  {\n        _matching : __matching,\n        setProgress : _setProgress,\n        validatePackage : _validatePackage,\n        fileUploadAddDone: _fileUploadAddDone,\n        fileUploadAdd : _fileUploadAdd,\n        validateAdd : _validateAdd\n    }\n\n//TDAR.vuejs.upload = (function(console, $, ctx, Vue) {\n//    \"use strict\";\n//})(console, jQuery, window, Vue);\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/vue/vue-base-upload.js?");

/***/ }),

/***/ "./src/main/webapp/js/vue/vue-edit-file-upload-component.js":
/*!******************************************************************!*\
  !*** ./src/main/webapp/js/vue/vue-edit-file-upload-component.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {const core = __webpack_require__(/*! ./../tdar.core.js */ \"./src/main/webapp/js/tdar.core.js\");\nconst datepicker = __webpack_require__(/*! ./../tdar.datepicker */ \"./src/main/webapp/js/tdar.datepicker.js\");\nconst Vue = __webpack_require__(/*! vue/dist/vue.esm.js */ \"./node_modules/vue/dist/vue.esm.js\").default;\n__webpack_require__(/*! imports-loader?define=>false&exports=>false&$=jquery!blueimp-file-upload/js/jquery.iframe-transport.js */ \"./node_modules/imports-loader/index.js?define=>false&exports=>false&$=jquery!./node_modules/blueimp-file-upload/js/jquery.iframe-transport.js\");\n__webpack_require__(/*! imports-loader?define=>false&exports=>false&$=jquery!blueimp-file-upload/js/jquery.fileupload.js */ \"./node_modules/imports-loader/index.js?define=>false&exports=>false&$=jquery!./node_modules/blueimp-file-upload/js/jquery.fileupload.js\");\n\nconst vuejsupload = __webpack_require__(/*! ./vue-base-upload */ \"./src/main/webapp/js/vue/vue-base-upload.js\");\n\nvar autocomplete = __webpack_require__(/*! tdar-autocomplete/js/vue-autocomplete.js */ \"./node_modules/tdar-autocomplete/js/vue-autocomplete.js\").init();\n__webpack_require__(/*! tdar-autocomplete/css/tdar-autocomplete.css */ \"./node_modules/tdar-autocomplete/css/tdar-autocomplete.css\");\n\nvar ERROR_TIMEOUT = 5000;\n\n\n    var _init = function(widgetId) {\n\n        // //https://github.com/blueimp/jQuery-File-Upload/wiki/API\n\n        var DELETE = 'DELETE';\n        \n        var config = {\n            files : [],\n            url : core.uri('upload/upload'),\n            ticketId : -1,\n            resourceId : -1,\n            userId : -1,\n            validFormats : [],\n            sideCarOnly : false,\n            ableToUpload : false,\n            maxNumberOfFiles : 50,\n            requiredOptionalPairs : [ {\n                required : [],\n                optional : []\n            } ]\n        };\n        if ($(widgetId).data('config') != undefined) {\n            console.log($($(widgetId).data('config')).text());\n            $.extend(config, JSON.parse($($(widgetId).data('config')).text()));\n        }\n        console.log(\"config:\", config);\n        var _fpart = Vue.component('fpart', {\n            template : \"#fpart-template\",\n            props : [ \"file\", \"index\", \"abletoupload\", \"deletedisabled\" , \"inputdisabled\"],\n            data : function() {\n                return {\n                    previousDeleteState : '',\n                    xhr : undefined,\n                    previousReplaceState : '',\n                    originalFileName: \"\",\n                    originalFileSize: \"\"\n                }\n            },\n            mounted : function() {\n                var $picker = $(\"input.datepicker\", this.el);\n                \n                datepicker.applyHidden($picker);\n                var _app = this;\n                $picker.on(\"datechanged\", function(e) {\n                    console.log(\"changing date\", $picker.val());\n                    _app.updateCreatedDate($picker.val());\n                });\n\n            },\n            computed : {\n                rowId : function() {\n                    return \"files-row-\" + this.index;\n                },\n                restrictionFieldName : function() {\n                    return \"fileProxies[\" + this.index + \"].restriction\";\n                },\n                undeleteDisabled: function() {\n                    return this.inputdisabled;\n                },\n                inputDisabled : function() {\n                    return !this.abletoupload;\n                },\n                deleteDisabled : function() {\n                    return this.deletedisabled;\n                },\n                createdDateFieldName : function() {\n                    return \"fileProxies[\" + this.index + \"].fileCreatedDate\";\n                },\n                fileIdFieldName : function() {\n                    return \"fileProxies[\" + this.index + \"].fileId\";\n                },\n                tdarFileIdFieldName : function() {\n                    return \"fileProxies[\" + this.index + \"].tdarFileId\";\n                },\n                filenameFieldName : function() {\n                    return \"fileProxies[\" + this.index + \"].name\";\n                },\n                sequenceNumberFieldName : function() {\n                    return \"fileProxies[\" + this.index + \"].sequenceNumber\";\n                },\n                actionFieldName : function() {\n                    return \"fileProxies[\" + this.index + \"].action\";\n                },\n                descriptionFieldName : function() {\n                    return \"fileProxies[\" + this.index + \"].description\";\n                },\n                wrapperId : function() {\n                    return \"fileupload\" + this.index + \"Wrapper\";\n                },\n                fileuploadId : function() {\n                    return \"fileupload\" + this.index;\n                }\n            },\n            methods : {\n                updateCreatedDate : function(date) {\n                    Vue.set(this.file, 'fileCreatedDate', date);\n                    this._markModified();\n                },\n                _markModified : function() {\n                    if (this.file.action == 'NONE' || this.file.action == undefined) {\n                        Vue.set(this.file, \"action\", \"MODIFY_METADATA\");\n                    }\n                },\n                deleteFile : function() {\n                    if (this.file.action == DELETE) {\n                        return;\n                    }\n                    Vue.set(this, \"previousDeleteState\", this.file.action);\n                    Vue.set(this.file, \"action\", DELETE);\n                },\n                unDeleteFile : function() {\n                    var valid = this.$parent.reValidateAllFilesWithChangedFile(this.file);\n                    console.log(valid);\n                    if (valid && this.file.action == DELETE) {\n                        Vue.set(this.file, \"action\", this.previousDeleteState);\n                    }\n                },\n                undoReplace : function(e) {\n                    var valid = this.$parent.reValidateAllFilesWithChangedFile(this.file);\n                    if (valid) {\n                        Vue.set(this.file, \"action\", this.previousReplaceState);\n                        console.log($(\"#fileupload\" + this.index));\n                        console.log(this.originalFileName);\n                        console.log(this);\n                        if (this.xhr != undefined && this.xhr.abort) {\n                            this.xhr.abort();\n                        }\n                        Vue.set(this.file, \"replaceFile\", undefined);\n                        Vue.set(this.file, \"name\", this.originalFileName);\n                        Vue.set(this.file, \"size\", this.originalFileSize);\n                        vuejsupload.setProgress(0);\n                        Vue.set(this.file, \"progress\", undefined);\n                    }\n                },\n                replaceFileChange : function(e) {\n                    var files = e.target.files || e.dataTransfer.files;\n                    if (!files.length) {\n                        return;\n                    }\n                    Vue.set(this, \"previousReplaceState\", this.file.action);\n                    if (this.file.name != undefined) {\n                        Vue.set(this, \"originalFileName\", this.file.name);\n                        Vue.set(this.file, \"originalFileSize\", this.file.size);\n                        Vue.set(this, \"originalFileSize\", this.file.size);\n                        Vue.set(this.file, \"originalFileName\", this.file.name);\n                        \n                    }\n\n                    Vue.set(this.file, \"action\", \"REPLACE\");\n                    Vue.set(this,\"warnings\", []);\n                    var valid = this.$parent.validateAdd(files[0],this.file.name);\n                    if (valid) {\n                        Vue.set(this.file, \"replaceFile\", files[0].name);\n                        Vue.set(this.file, \"name\", files[0].name);\n                        files[0].dontCreate = true;\n                        var xhr = $('#fileupload').fileupload('send', {\n                            files : files\n                        });\n                        Vue.set(this, \"xhr\", xhr);\n                    }\n\n                }\n            },\n            watch : {\n                \"file.description\" : function(val, old) {\n                    this._markModified();\n                },\n                \"file.fileCreatedDate\" : function(val, old) {\n                    this._markModified();\n                },\n                \"file.restriction\" : function(val, old) {\n                    this._markModified();\n                }\n            }\n        });\n\n        var app = new Vue({\n            el : widgetId,\n            data : {\n                files : config.files,\n                url : config.url,\n                ticketId : config.ticketId,\n                resourceId : config.resourceId,\n                userId : config.userId,\n                validFormats : config.validFormats,\n                sideCarOnly : config.sideCarOnly,\n                maxNumberOfFiles : config.maxNumberOfFiles,\n                errors : [],\n                warnings : [],\n                packageMessages: [],\n                requiredOptionalPairs : config.requiredOptionalPairs,\n                ableToUpload : config.ableToUpload\n            },\n            computed : {\n                multiple: function() {\n                  if (this.maxNumberOfFiles > 1) {\n                      return true;\n                  }  \n                  return false;\n                },\n                valid : function() {\n                    return this.validatePackage();\n                },\n                inputDisabled : function() {\n                    if (this.ableToUpload) {\n                        if (this.getCurrentNumberOfFiles(this.files) >= this.maxNumberOfFiles) {\n                            return true;\n                        }\n                    }\n                    return !this.ableToUpload;\n                },\n                deleteDisabled: function() {\n                    return false;\n                },\n                fileUploadButtonCss: function() {\n                    var css = \"btn btn-success fileinput-button \";\n                    if (this.inputDisabled) {\n                        return css + \" disabled\";\n                    }\n                    return css;\n                }\n            },\n            methods : {\n                getCurrentNumberOfFiles : function(files) {\n                    var _app = this;\n                    var currentNumberOfFiles = 0;\n                    files.forEach(function(f) {\n                        if (f.action != DELETE) {\n                            var partOfPair = false;\n                            var ext = \".\" + f.name.split('.').pop().toLowerCase();\n                            for (var i = 0; i < _app.requiredOptionalPairs.length; i++) {\n                                var pair = _app.requiredOptionalPairs[i];\n                                if ($.inArray(ext, pair.optional) && files.length > 1) {\n                                    currentNumberOfFiles++;\n                                    partOfPair = true;\n                                    break;\n                                }\n                            }\n                            if (partOfPair == false) {\n                                currentNumberOfFiles++;\n                            }\n                        }\n                    });\n                    return currentNumberOfFiles;\n                },\n                validatePackage : function() {\n                    return vuejsupload.validatePackage(this.files, this.requiredOptionalPairs, this);\n                },\n                addPackageMessage: function(msg) {\n                    this.packageMessages.push(msg);  \n                },\n                clearPackageMessages: function() {\n                    this.packageMessages = [];  \n                },\n                addError : function(error) {\n                  this.errors.push(error);  \n                },\n                addWarning : function(error) {\n                    this.warnings.push(error);  \n                },\n                append: function(a, b) {\n                  return a + \"\" + b;  \n                },\n                validateAdd : function(file, replace, increment_) {\n                    var increment = 0;\n                    if (increment_ != undefined) {\n                        increment = increment_;\n                    }\n                    return vuejsupload.validateAdd(file, this.files, replace, this.validFormats, this.getCurrentNumberOfFiles(this.files) + increment, this.maxNumberOfFiles , this.sideCarOnly, this  )\n                },\n                reValidateAllFilesWithChangedFile: function(file) {\n                    return vuejsupload.validateAdd(file, this.files, file.name, this.validFormats, this.getCurrentNumberOfFiles(this.files), this.maxNumberOfFiles , this.sideCarOnly, this  )\n                },\n                updateFileProgress : function(e, data) {\n                    // update the progress of uploading a file\n                    var _app = this;\n                    if (data.files != undefined) {\n                        var active = vuejsupload._matching(data.files, _app.files, \"name\");\n                        active.forEach(function(pair) {\n                            var file = pair[0];\n                            var fileContainer = pair[1];\n                            fileContainer.progress = parseInt(data.loaded / data.total * 100, 10);\n                            _app.$forceUpdate();\n                        });\n                    }\n                },\n                fileUploadSubmit : function(e, data) {\n                },\n                fileUploadAdd : function(e, data) {\n                    Vue.set(this,\"errors\", []);\n                    Vue.set(this,\"warnings\", []);\n                    // add a file\n                    var _app = this;\n                    console.log('fileUploadAdd:', e, data);\n                    _app._disable();\n                    var $upload = $('#fileupload');\n                    return vuejsupload.fileUploadAdd($upload, data, _app);\n                },\n                addFile: function(file) {\n                    this.files.push(file);\n                },\n                _disable: function() {\n                    //    $('.disabledCheckboxes').prop(\"disabled\", true);\n                    //$('.disabledCheckboxes').removeAttr(\"disabled\");\n                    Vue.set(this,\"ableToUpload\",false);\n                    $(\".submitButton\").prop(\"disabled\", \"disabled\");\n                    $(\".submitButton\").addClass(\"disabled\");\n                },\n                _enable: function() {\n                    Vue.set(this,\"ableToUpload\",true);\n                    $(\".submitButton\").prop(\"disabled\", false);\n                    $(\".submitButton\").removeAttr(\"disabled\");\n                    $(\".submitButton\").removeClass(\"disabled\");\n                },\n                handleClick: function(e) {\n                    if (this.inputDisabled == false) {\n                        \n                    } else {\n                        console.log(\"input disabled\");\n                        e.preventDefault();\n                    }\n                },\n                fileUploadAddDone : function(e, data) {\n                    // complete the add action\n                    var _app = this;\n                    this._enable();\n                    return vuejsupload.fileUploadAddDone(data,_app.files, _app);\n                }\n            },\n            mounted : function() {\n                // setup\n                if (this.ableToUpload == undefined || this.ableToUpload == false) {\n                    console.log('file upload disabled');\n                    return;\n                }\n                var app_ =this;\n                $(\"#fileuploadWrapper\").click(function(e) {\n                    app_.handleClick(e);\n                })\n                if (this.files.length == undefined || this.files.length == 0) {\n                    var val = $(\"#vueFilesFallback\").val();\n                    if (val != undefined && val.trim().length > 0) {\n                        var _files = JSON.parse(val);\n                        console.log(\"loading files fallback from:\", _files);\n                        if (_files.length > 0) {\n                            Vue.set(this, \"files\", files);\n                        }\n\n                    }\n\n                }\n                var _app = this;\n                var up = $('#fileupload').fileupload({\n                    url : this.url,\n                    dataType : 'json',\n                    paramName : \"uploadFile\",\n                    // required to ensure that we don't send two files separately and not use the same ticket\n                    singleFileUploads: false,\n                    formData : function(form) {\n                        // override formData\n                        var data = [{name: \"unfiled\", value :true}];\n                        if (_app.ticketId == undefined || _app.ticketId == -1) {\n                            data.push({\n                                name : \"ticketRequested\",\n                                value : true\n                            });\n                        } else {\n                            data.push({\n                                name : \"ticketId\",\n                                value : _app.ticketId\n                            });\n                        }\n                        data.push({\n                            name : \"unfiled\",\n                            value : \"true\"\n                        });\n\n                        console.log(data);\n                        return data;\n                    },\n                    progressall : function(e, data) {\n                        var progress = parseInt(data.loaded / data.total * 100, 10);\n                        vuejsupload.setProgress(progress);\n                    }\n                }).prop('disabled', !$.support.fileInput).parent().addClass($.support.fileInput ? undefined : 'disabled');\n                var _app = this;\n\n                up.bind('fileuploadadd', _app.fileUploadAdd).bind('fileuploaddone', _app.fileUploadAddDone).bind('fileuploadsubmit', _app.fileUploadSubmit)\n                        .bind('fileuploadprogress', _app.updateFileProgress)\n                 .bind('fileuploadfail', function (e, data) {console.log('fileUploadFail:',e);\n                 _app.addWarning(\"there was an error uploading the specified file\");\n                 console.error(e);\n                 _app._enable();\n                 });\n                // .bind('fileuploadstart', function (e) {console.log('fileUploadStart:',e);})\n                // .bind('fileuploadstop', function (e) {console.log('fileUploadStop:',e);})\n                // .bind('fileuploadchange', function (e, data) {console.log('fileUploadChange:',e);});\n                // .bind('fileuploadsend', function (e, data) {console.log('fileUploadSend:',e);})\n                // .bind('fileuploadalways', function (e, data) {console.log('fileUploadAlways:',e);})\n                // .bind('fileuploaddrop', function (e, data) {/* ... */})\n                // .bind('fileuploadchunksend', function (e, data) {/* ... */})\n                // .bind('fileuploadchunkdone', function (e, data) {/* ... */})\n                // .bind('fileuploadchunkfail', function (e, data) {/* ... */})\n                // .bind('fileuploadchunkalways', function (e, data) {/* ... */});\n            }\n        });\n//        return {\"app\" : app,\"fpart\" : _fpart};\n        return app;\n    }\n    module.exports = {\n            init : _init,\n            main : function() {\n                var appId = '#uploadWidget';\n                if ($(appId).length == 1) {\n                    _init(appId);\n                }\n            }\n        }\n        \n    //TDAR.vuejs.uploadWidget = (function(console, $, ctx, Vue) {\n//        \"use strict\";    \n    //})(console, jQuery, window, Vue);\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/vue/vue-edit-file-upload-component.js?");

/***/ }),

/***/ "./src/main/webapp/js/webpack/tdar-entry-point.js":
/*!********************************************************!*\
  !*** ./src/main/webapp/js/webpack/tdar-entry-point.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(__webpack_provided_window_dot_jQuery, __webpack_provided_window_dot_$) {__webpack_provided_window_dot_$ = __webpack_provided_window_dot_jQuery = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\"); // or import $ from 'jquery';\nconst TDAR = __webpack_require__(/*! JS/tdar.master.js */ \"./src/main/webapp/js/tdar.master.js\");\n\n__webpack_require__(/*! ../../css/tdar-svg.css */ \"./src/main/webapp/css/tdar-svg.css\");\n__webpack_require__(/*! ../../css/tdar-bootstrap.css */ \"./src/main/webapp/css/tdar-bootstrap.css\");\n__webpack_require__(/*! ../../css/tdar.dashboard.css */ \"./src/main/webapp/css/tdar.dashboard.css\");\n__webpack_require__(/*! ../../css/famfamfam.css */ \"./src/main/webapp/css/famfamfam.css\");\n__webpack_require__(/*! ../../css/tdar-svg.css */ \"./src/main/webapp/css/tdar-svg.css\");\n__webpack_require__(/*! ../../css/tdar.homepage.css */ \"./src/main/webapp/css/tdar.homepage.css\");\n__webpack_require__(/*! ../../css/tdar.d3tree.css */ \"./src/main/webapp/css/tdar.d3tree.css\");\n__webpack_require__(/*! ../../css/tdar.c3graph.css */ \"./src/main/webapp/css/tdar.c3graph.css\");\n__webpack_require__(/*! ../../css/tdar.leaflet.css */ \"./src/main/webapp/css/tdar.leaflet.css\");\n__webpack_require__(/*! ../../css/tdar.worldmap.css */ \"./src/main/webapp/css/tdar.worldmap.css\");\n__webpack_require__(/*! ../../css/tdar.datatablemapping.css */ \"./src/main/webapp/css/tdar.datatablemapping.css\");\n__webpack_require__(/*! ../../css/tdar.sprites.css */ \"./src/main/webapp/css/tdar.sprites.css\");\n__webpack_require__(/*! ../../css/tdar.datatables.css */ \"./src/main/webapp/css/tdar.datatables.css\");\n__webpack_require__(/*! ../../css/tdar.searchresults.css */ \"./src/main/webapp/css/tdar.searchresults.css\");\n__webpack_require__(/*! ../../css/tdar.invoice.css */ \"./src/main/webapp/css/tdar.invoice.css\");\n__webpack_require__(/*! ../../css/tdar-integration.css */ \"./src/main/webapp/css/tdar-integration.css\");\n\nTDAR.main();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\"), __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:///./src/main/webapp/js/webpack/tdar-entry-point.js?");

/***/ })

/******/ });